!function(){function e(t,n,r){function o(a,l){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return o(n||e)},d,d.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}return e}()({1:[function(e,t,n){(function(t){"use strict";function n(e,t,n){e[t]||Object[r](e,t,{writable:!0,configurable:!0,value:n})}if(e("core-js/shim"),e("regenerator-runtime/runtime"),e("core-js/fn/regexp/escape"),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var r="defineProperty";n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&n(Array,e,Function.call.bind([][e]))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/fn/regexp/escape":5,"core-js/shim":328,"regenerator-runtime/runtime":2}],2:[function(e,t,n){(function(e){!function(e){"use strict";function n(e,t,n,r){var i=t&&t.prototype instanceof o?t:o,a=Object.create(i.prototype),l=new p(r||[]);return a._invoke=c(e,n,l),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function a(){}function l(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(t){function n(e,o,i,a){var l=r(t[e],t,o);if("throw"!==l.type){var s=l.arg,c=s.value;return c&&"object"==typeof c&&b.call(c,"__await")?Promise.resolve(c.__await).then(function(e){n("next",e,i,a)},function(e){n("throw",e,i,a)}):Promise.resolve(c).then(function(e){s.value=e,i(s)},a)}a(l.arg)}function o(e,t){function r(){return new Promise(function(r,o){n(e,t,r,o)})}return i=i?i.then(r,r):r()}"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n));var i;this._invoke=o}function c(e,t,n){var o=A;return function(i,a){if(o===x)throw new Error("Generator is already running");if(o===N){if("throw"===i)throw a;return h()}for(n.method=i,n.arg=a;;){var l=n.delegate;if(l){var s=d(l,n);if(s){if(s===L)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===A)throw o=N,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=x;var c=r(e,t,n);if("normal"===c.type){if(o=n.done?N:O,c.arg===L)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=N,n.method="throw",n.arg=c.arg)}}}function d(e,t){var n=e.iterator[t.method];if(n===m){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=m,d(e,t),"throw"===t.method))return L;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return L}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,L;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=m),t.delegate=null,L):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,L)}function u(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(u,this),this.reset(!0)}function g(e){if(e){var t=e[C];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(b.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=m,t.done=!0,t};return r.next=r}}return{next:h}}function h(){return{value:m,done:!0}}var m,v=Object.prototype,b=v.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},C=_.iterator||"@@iterator",y=_.asyncIterator||"@@asyncIterator",E=_.toStringTag||"@@toStringTag",T="object"==typeof t,S=e.regeneratorRuntime;if(S)return void(T&&(t.exports=S));S=e.regeneratorRuntime=T?t.exports:{},S.wrap=n;var A="suspendedStart",O="suspendedYield",x="executing",N="completed",L={},w={};w[C]=function(){return this};var D=Object.getPrototypeOf,I=D&&D(D(g([])));I&&I!==v&&b.call(I,C)&&(w=I);var R=a.prototype=o.prototype=Object.create(w);i.prototype=R.constructor=a,a.constructor=i,a[E]=i.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,E in e||(e[E]="GeneratorFunction")),e.prototype=Object.create(R),e},S.awrap=function(e){return{__await:e}},l(s.prototype),s.prototype[y]=function(){return this},S.AsyncIterator=s,S.async=function(e,t,r,o){var i=new s(n(e,t,r,o));return S.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},l(R),R[E]="Generator",R[C]=function(){return this},R.toString=function(){return"[object Generator]"},S.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},S.values=g,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(f),!e)for(var t in this)"t"===t.charAt(0)&&b.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=m),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=b.call(o,"catchLoc"),l=b.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&b.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,L):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),L},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),f(n),L}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;f(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:g(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=m),L}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function o(e){var t=r(e),n=t[0],o=t[1];return 3*(n+o)/4-o}function i(e,t,n){return 3*(t+n)/4-n}function a(e){for(var t,n=r(e),o=n[0],a=n[1],l=new f(i(e,o,a)),s=0,c=a>0?o-4:o,d=0;d<c;d+=4)t=u[e.charCodeAt(d)]<<18|u[e.charCodeAt(d+1)]<<12|u[e.charCodeAt(d+2)]<<6|u[e.charCodeAt(d+3)],l[s++]=t>>16&255,l[s++]=t>>8&255,l[s++]=255&t;return 2===a&&(t=u[e.charCodeAt(d)]<<2|u[e.charCodeAt(d+1)]>>4,l[s++]=255&t),1===a&&(t=u[e.charCodeAt(d)]<<10|u[e.charCodeAt(d+1)]<<4|u[e.charCodeAt(d+2)]>>2,l[s++]=t>>8&255,l[s++]=255&t),l}function l(e){return d[e>>18&63]+d[e>>12&63]+d[e>>6&63]+d[63&e]}function s(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(l(r));return o.join("")}function c(e){for(var t,n=e.length,r=n%3,o=[],i=16383,a=0,l=n-r;a<l;a+=i)o.push(s(e,a,a+i>l?l:a+i));return 1===r?(t=e[n-1],o.push(d[t>>2]+d[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(d[t>>10]+d[t>>4&63]+d[t<<2&63]+"=")),o.join("")}n.byteLength=o,n.toByteArray=a,n.fromByteArray=c;for(var d=[],u=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,h=p.length;g<h;++g)d[g]=p[g],u[p.charCodeAt(g)]=g;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},{}],4:[function(e,t,n){"use strict";function r(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}function o(e){if(e>X)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=i.prototype,t}function i(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return a(e,t,n)}function a(e,t,n){if("string"==typeof e)return d(e,t);if(ArrayBuffer.isView(e))return u(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return i.from(r,t,n);var o=p(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return i.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function s(e,t,n){return l(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}function c(e){return l(e),o(e<0?0:0|g(e))}function d(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|m(e,t),r=o(n),a=r.write(e,t);return a!==n&&(r=r.slice(0,a)),r}function u(e){for(var t=e.length<0?0:0|g(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),r.__proto__=i.prototype,r}function p(e){if(i.isBuffer(e)){var t=0|g(e.length),n=o(t);return 0===n.length?n:(e.copy(n,0,0,t),n)}return void 0!==e.length?"number"!=typeof e.length||q(e.length)?o(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}function g(e){if(e>=X)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+X.toString(16)+" bytes");return 0|e}function h(e){return+e!=e&&(e=0),i.alloc(+e)}function m(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(o)return r?-1:j(e).length;t=(""+t).toLowerCase(),o=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return N(this,t,n);case"ascii":return w(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,q(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:C(e,t,n,r,o);if("number"==typeof t)return t=255&t,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):C(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function C(e,t,n,r,o){function i(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,l=e.length,s=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,l/=2,s/=2,n/=2}var c;if(o){var d=-1;for(c=n;c<l;c++)if(i(e,c)===i(t,d===-1?0:c-d)){if(d===-1&&(d=c),c-d+1===s)return d*a}else d!==-1&&(c-=c-d),d=-1}else for(n+s>l&&(n=l-s),c=n;c>=0;c--){for(var u=!0,f=0;f<s;f++)if(i(e,c+f)!==i(t,f)){u=!1;break}if(u)return c}return-1}function y(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r),r>o&&(r=o)):r=o;var i=t.length;r>i/2&&(r=i/2);for(var a=0;a<r;++a){var l=parseInt(t.substr(2*a,2),16);if(q(l))return a;e[n+a]=l}return a}function E(e,t,n,r){return G(j(t,e.length-n),e,n,r)}function T(e,t,n,r){return G(W(t),e,n,r)}function S(e,t,n,r){return T(e,t,n,r)}function A(e,t,n,r){return G(Y(t),e,n,r)}function O(e,t,n,r){return G(H(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?Z.fromByteArray(e):Z.fromByteArray(e.slice(t,n))}function N(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i=e[o],a=null,l=i>239?4:i>223?3:i>191?2:1;if(o+l<=n){var s,c,d,u;switch(l){case 1:i<128&&(a=i);break;case 2:s=e[o+1],128===(192&s)&&(u=(31&i)<<6|63&s,u>127&&(a=u));break;case 3:s=e[o+1],c=e[o+2],128===(192&s)&&128===(192&c)&&(u=(15&i)<<12|(63&s)<<6|63&c,u>2047&&(u<55296||u>57343)&&(a=u));break;case 4:s=e[o+1],c=e[o+2],d=e[o+3],128===(192&s)&&128===(192&c)&&128===(192&d)&&(u=(15&i)<<18|(63&s)<<12|(63&c)<<6|63&d,u>65535&&u<1114112&&(a=u))}}null===a?(a=65533,l=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=l}return L(r)}function L(e){var t=e.length;if(t<=$)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=$));return n}function w(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=F(e[i]);return o}function R(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function k(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,o,a){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,o){return t=+t,n>>>=0,o||P(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,n,r,23,4),n+4}function z(e,t,n,r,o){return t=+t,n>>>=0,o||P(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,n,r,52,8),n+8}function U(e){if(e=e.split("=")[0],e=e.trim().replace(J,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=(o-55296<<10|n-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function W(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function H(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}function Y(e){return Z.toByteArray(U(e))}function G(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function V(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function q(e){return e!==e}var Z=e("base64-js"),K=e("ieee754");n.Buffer=i,n.SlowBuffer=h,n.INSPECT_MAX_BYTES=50;var X=2147483647;n.kMaxLength=X,i.TYPED_ARRAY_SUPPORT=r(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=function(e,t,n){return a(e,t,n)},i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,i.alloc=function(e,t,n){return s(e,t,n)},i.allocUnsafe=function(e){return c(e)},i.allocUnsafeSlow=function(e){return c(e)},i.isBuffer=function(e){return null!=e&&e._isBuffer===!0&&e!==i.prototype},i.compare=function(e,t){if(V(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),V(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(V(a,Uint8Array)&&(a=i.from(a)),!i.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},i.byteLength=m,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},i.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?N(this,0,e):v.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},i.prototype.compare=function(e,t,n,r,o){if(V(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,o>>>=0,this===e)return 0;for(var a=o-r,l=n-t,s=Math.min(a,l),c=this.slice(r,o),d=e.slice(t,n),u=0;u<s;++u)if(c[u]!==d[u]){a=c[u],l=d[u];break}return a<l?-1:l<a?1:0},i.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},i.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return T(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=i.prototype,r},i.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},i.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||k(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){e>>>=0,t||k(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return e>>>=0,t||k(e,4,this.length),K.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||k(e,4,this.length),K.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||k(e,8,this.length),K.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||k(e,8,this.length),K.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var o=Math.pow(2,8*n)-1;M(this,e,t,n,o,0)}var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var o=Math.pow(2,8*n)-1;M(this,e,t,n,o,0)}var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);M(this,e,t,n,o-1,-o)}var i=0,a=1,l=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===l&&0!==this[t+i-1]&&(l=1),this[t+i]=(e/a>>0)-l&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);M(this,e,t,n,o-1,-o)}var i=n-1,a=1,l=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===l&&0!==this[t+i+1]&&(l=1),this[t+i]=(e/a>>0)-l&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var a=o-1;a>=0;--a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return o},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e&&(e=255&e);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var l=i.isBuffer(e)?e:i.from(e,r),s=l.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=l[a%s]}return this};var J=/[^+\/0-9A-Za-z-_]/g},{"base64-js":3,ieee754:334}],5:[function(e,t,n){e("../../modules/core.regexp.escape"),t.exports=e("../../modules/_core").RegExp.escape},{"../../modules/_core":26,"../../modules/core.regexp.escape":131}],6:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],7:[function(e,t,n){var r=e("./_cof");t.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},{"./_cof":21}],8:[function(e,t,n){var r=e("./_wks")("unscopables"),o=Array.prototype;void 0==o[r]&&e("./_hide")(o,r,{}),t.exports=function(e){o[r][e]=!0}},{"./_hide":45,"./_wks":129}],9:[function(e,t,n){t.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},{}],10:[function(e,t,n){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":54}],11:[function(e,t,n){"use strict";var r=e("./_to-object"),o=e("./_to-absolute-index"),i=e("./_to-length");t.exports=[].copyWithin||function(e,t){var n=r(this),a=i(n.length),l=o(e,a),s=o(t,a),c=arguments.length>2?arguments[2]:void 0,d=Math.min((void 0===c?a:o(c,a))-s,a-l),u=1;for(s<l&&l<s+d&&(u=-1,s+=d-1,l+=d-1);d-- >0;)s in n?n[l]=n[s]:delete n[l],l+=u,s+=u;return n}},{"./_to-absolute-index":114,"./_to-length":118,"./_to-object":119}],12:[function(e,t,n){"use strict";var r=e("./_to-object"),o=e("./_to-absolute-index"),i=e("./_to-length");t.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,l=o(a>1?arguments[1]:void 0,n),s=a>2?arguments[2]:void 0,c=void 0===s?n:o(s,n);c>l;)t[l++]=e;return t}},{"./_to-absolute-index":114,"./_to-length":118,"./_to-object":119}],13:[function(e,t,n){var r=e("./_for-of");t.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},{"./_for-of":42}],14:[function(e,t,n){var r=e("./_to-iobject"),o=e("./_to-length"),i=e("./_to-absolute-index");t.exports=function(e){return function(t,n,a){var l,s=r(t),c=o(s.length),d=i(a,c);if(e&&n!=n){for(;c>d;)if(l=s[d++],l!=l)return!0}else for(;c>d;d++)if((e||d in s)&&s[d]===n)return e||d||0;return!e&&-1}}},{"./_to-absolute-index":114,"./_to-iobject":117,"./_to-length":118}],15:[function(e,t,n){var r=e("./_ctx"),o=e("./_iobject"),i=e("./_to-object"),a=e("./_to-length"),l=e("./_array-species-create");t.exports=function(e,t){
var n=1==e,s=2==e,c=3==e,d=4==e,u=6==e,f=5==e||u,p=t||l;return function(t,l,g){for(var h,m,v=i(t),b=o(v),_=r(l,g,3),C=a(b.length),y=0,E=n?p(t,C):s?p(t,0):void 0;C>y;y++)if((f||y in b)&&(h=b[y],m=_(h,y,v),e))if(n)E[y]=m;else if(m)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:E.push(h)}else if(d)return!1;return u?-1:c||d?d:E}}},{"./_array-species-create":18,"./_ctx":28,"./_iobject":50,"./_to-length":118,"./_to-object":119}],16:[function(e,t,n){var r=e("./_a-function"),o=e("./_to-object"),i=e("./_iobject"),a=e("./_to-length");t.exports=function(e,t,n,l,s){r(t);var c=o(e),d=i(c),u=a(c.length),f=s?u-1:0,p=s?-1:1;if(n<2)for(;;){if(f in d){l=d[f],f+=p;break}if(f+=p,s?f<0:u<=f)throw TypeError("Reduce of empty array with no initial value")}for(;s?f>=0:u>f;f+=p)f in d&&(l=t(l,d[f],f,c));return l}},{"./_a-function":6,"./_iobject":50,"./_to-length":118,"./_to-object":119}],17:[function(e,t,n){var r=e("./_is-object"),o=e("./_is-array"),i=e("./_wks")("species");t.exports=function(e){var t;return o(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?Array:t}},{"./_is-array":52,"./_is-object":54,"./_wks":129}],18:[function(e,t,n){var r=e("./_array-species-constructor");t.exports=function(e,t){return new(r(e))(t)}},{"./_array-species-constructor":17}],19:[function(e,t,n){"use strict";var r=e("./_a-function"),o=e("./_is-object"),i=e("./_invoke"),a=[].slice,l={},s=function(e,t,n){if(!(t in l)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";l[t]=Function("F,a","return new F("+r.join(",")+")")}return l[t](e,n)};t.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),l=function(){var r=n.concat(a.call(arguments));return this instanceof l?s(t,r.length,r):i(t,r,e)};return o(t.prototype)&&(l.prototype=t.prototype),l}},{"./_a-function":6,"./_invoke":49,"./_is-object":54}],20:[function(e,t,n){var r=e("./_cof"),o=e("./_wks")("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};t.exports=function(e){var t,n,l;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),o))?n:i?r(t):"Object"==(l=r(t))&&"function"==typeof t.callee?"Arguments":l}},{"./_cof":21,"./_wks":129}],21:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],22:[function(e,t,n){"use strict";var r=e("./_object-dp").f,o=e("./_object-create"),i=e("./_redefine-all"),a=e("./_ctx"),l=e("./_an-instance"),s=e("./_for-of"),c=e("./_iter-define"),d=e("./_iter-step"),u=e("./_set-species"),f=e("./_descriptors"),p=e("./_meta").fastKey,g=e("./_validate-collection"),h=f?"_s":"size",m=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};t.exports={getConstructor:function(e,t,n,c){var d=e(function(e,r){l(e,d,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[h]=0,void 0!=r&&s(r,n,e[c],e)});return i(d.prototype,{clear:function(){for(var e=g(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[h]=0},delete:function(e){var n=g(this,t),r=m(n,e);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[h]--}return!!r},forEach:function(e){g(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(g(this,t),e)}}),f&&r(d.prototype,"size",{get:function(){return g(this,t)[h]}}),d},def:function(e,t,n){var r,o,i=m(e,t);return i?i.v=n:(e._l=i={i:o=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[h]++,"F"!==o&&(e._i[o]=i)),e},getEntry:m,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=g(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?d(0,n.k):"values"==t?d(0,n.v):d(0,[n.k,n.v]):(e._t=void 0,d(1))},n?"entries":"values",!n,!0),u(t)}}},{"./_an-instance":9,"./_ctx":28,"./_descriptors":32,"./_for-of":42,"./_iter-define":58,"./_iter-step":60,"./_meta":68,"./_object-create":73,"./_object-dp":74,"./_redefine-all":93,"./_set-species":100,"./_validate-collection":126}],23:[function(e,t,n){var r=e("./_classof"),o=e("./_array-from-iterable");t.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},{"./_array-from-iterable":13,"./_classof":20}],24:[function(e,t,n){"use strict";var r=e("./_redefine-all"),o=e("./_meta").getWeak,i=e("./_an-object"),a=e("./_is-object"),l=e("./_an-instance"),s=e("./_for-of"),c=e("./_array-methods"),d=e("./_has"),u=e("./_validate-collection"),f=c(5),p=c(6),g=0,h=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},v=function(e,t){return f(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,n,i){var c=e(function(e,r){l(e,c,t,"_i"),e._t=t,e._i=g++,e._l=void 0,void 0!=r&&s(r,n,e[i],e)});return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=o(e);return n===!0?h(u(this,t)).delete(e):n&&d(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=o(e);return n===!0?h(u(this,t)).has(e):n&&d(n,this._i)}}),c},def:function(e,t,n){var r=o(i(t),!0);return r===!0?h(e).set(t,n):r[e._i]=n,e},ufstore:h}},{"./_an-instance":9,"./_an-object":10,"./_array-methods":15,"./_for-of":42,"./_has":44,"./_is-object":54,"./_meta":68,"./_redefine-all":93,"./_validate-collection":126}],25:[function(e,t,n){"use strict";var r=e("./_global"),o=e("./_export"),i=e("./_redefine"),a=e("./_redefine-all"),l=e("./_meta"),s=e("./_for-of"),c=e("./_an-instance"),d=e("./_is-object"),u=e("./_fails"),f=e("./_iter-detect"),p=e("./_set-to-string-tag"),g=e("./_inherit-if-required");t.exports=function(e,t,n,h,m,v){var b=r[e],_=b,C=m?"set":"add",y=_&&_.prototype,E={},T=function(e){var t=y[e];i(y,e,"delete"==e?function(e){return!(v&&!d(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!d(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!d(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof _&&(v||y.forEach&&!u(function(){(new _).entries().next()}))){var S=new _,A=S[C](v?{}:-0,1)!=S,O=u(function(){S.has(1)}),x=f(function(e){new _(e)}),N=!v&&u(function(){for(var e=new _,t=5;t--;)e[C](t,t);return!e.has(-0)});x||(_=t(function(t,n){c(t,_,e);var r=g(new b,t,_);return void 0!=n&&s(n,m,r[C],r),r}),_.prototype=y,y.constructor=_),(O||N)&&(T("delete"),T("has"),m&&T("get")),(N||A)&&T(C),v&&y.clear&&delete y.clear}else _=h.getConstructor(t,e,m,C),a(_.prototype,n),l.NEED=!0;return p(_,e),E[e]=_,o(o.G+o.W+o.F*(_!=b),E),v||h.setStrong(_,e,m),_}},{"./_an-instance":9,"./_export":36,"./_fails":38,"./_for-of":42,"./_global":43,"./_inherit-if-required":48,"./_is-object":54,"./_iter-detect":59,"./_meta":68,"./_redefine":94,"./_redefine-all":93,"./_set-to-string-tag":101}],26:[function(e,t,n){var r=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},{}],27:[function(e,t,n){"use strict";var r=e("./_object-dp"),o=e("./_property-desc");t.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},{"./_object-dp":74,"./_property-desc":92}],28:[function(e,t,n){var r=e("./_a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":6}],29:[function(e,t,n){"use strict";var r=e("./_fails"),o=Date.prototype.getTime,i=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!r(function(){i.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:i},{"./_fails":38}],30:[function(e,t,n){"use strict";var r=e("./_an-object"),o=e("./_to-primitive"),i="number";t.exports=function(e){if("string"!==e&&e!==i&&"default"!==e)throw TypeError("Incorrect hint");return o(r(this),e!=i)}},{"./_an-object":10,"./_to-primitive":120}],31:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],32:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":38}],33:[function(e,t,n){var r=e("./_is-object"),o=e("./_global").document,i=r(o)&&r(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":43,"./_is-object":54}],34:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],35:[function(e,t,n){var r=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie");t.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,l=n(e),s=i.f,c=0;l.length>c;)s.call(e,a=l[c++])&&t.push(a);return t}},{"./_object-gops":80,"./_object-keys":83,"./_object-pie":84}],36:[function(e,t,n){var r=e("./_global"),o=e("./_core"),i=e("./_hide"),a=e("./_redefine"),l=e("./_ctx"),s="prototype",c=function(e,t,n){var d,u,f,p,g=e&c.F,h=e&c.G,m=e&c.S,v=e&c.P,b=e&c.B,_=h?r:m?r[t]||(r[t]={}):(r[t]||{})[s],C=h?o:o[t]||(o[t]={}),y=C[s]||(C[s]={});h&&(n=t);for(d in n)u=!g&&_&&void 0!==_[d],f=(u?_:n)[d],p=b&&u?l(f,r):v&&"function"==typeof f?l(Function.call,f):f,_&&a(_,d,f,e&c.U),C[d]!=f&&i(C,d,p),v&&y[d]!=f&&(y[d]=f)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},{"./_core":26,"./_ctx":28,"./_global":43,"./_hide":45,"./_redefine":94}],37:[function(e,t,n){var r=e("./_wks")("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},{"./_wks":129}],38:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],39:[function(e,t,n){"use strict";var r=e("./_hide"),o=e("./_redefine"),i=e("./_fails"),a=e("./_defined"),l=e("./_wks");t.exports=function(e,t,n){var s=l(e),c=n(a,s,""[e]),d=c[0],u=c[1];i(function(){var t={};return t[s]=function(){return 7},7!=""[e](t)})&&(o(String.prototype,e,d),r(RegExp.prototype,s,2==t?function(e,t){return u.call(e,this,t)}:function(e){return u.call(e,this)}))}},{"./_defined":31,"./_fails":38,"./_hide":45,"./_redefine":94,"./_wks":129}],40:[function(e,t,n){"use strict";var r=e("./_an-object");t.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"./_an-object":10}],41:[function(e,t,n){"use strict";function r(e,t,n,c,d,u,f,p){for(var g,h,m=d,v=0,b=!!f&&l(f,p,3);v<c;){if(v in n){if(g=b?b(n[v],v,t):n[v],h=!1,i(g)&&(h=g[s],h=void 0!==h?!!h:o(g)),h&&u>0)m=r(e,t,g,a(g.length),m,u-1)-1;else{if(m>=9007199254740991)throw TypeError();e[m]=g}m++}v++}return m}var o=e("./_is-array"),i=e("./_is-object"),a=e("./_to-length"),l=e("./_ctx"),s=e("./_wks")("isConcatSpreadable");t.exports=r},{"./_ctx":28,"./_is-array":52,"./_is-object":54,"./_to-length":118,"./_wks":129}],42:[function(e,t,n){var r=e("./_ctx"),o=e("./_iter-call"),i=e("./_is-array-iter"),a=e("./_an-object"),l=e("./_to-length"),s=e("./core.get-iterator-method"),c={},d={},n=t.exports=function(e,t,n,u,f){var p,g,h,m,v=f?function(){return e}:s(e),b=r(n,u,t?2:1),_=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(p=l(e.length);p>_;_++)if(m=t?b(a(g=e[_])[0],g[1]):b(e[_]),m===c||m===d)return m}else for(h=v.call(e);!(g=h.next()).done;)if(m=o(h,b,g.value,t),m===c||m===d)return m};n.BREAK=c,n.RETURN=d},{"./_an-object":10,"./_ctx":28,"./_is-array-iter":51,"./_iter-call":56,"./_to-length":118,"./core.get-iterator-method":130}],43:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],44:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],45:[function(e,t,n){var r=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":32,"./_object-dp":74,"./_property-desc":92}],46:[function(e,t,n){var r=e("./_global").document;t.exports=r&&r.documentElement},{"./_global":43}],47:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":32,"./_dom-create":33,"./_fails":38}],48:[function(e,t,n){var r=e("./_is-object"),o=e("./_set-proto").set;t.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},{"./_is-object":54,"./_set-proto":99}],49:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],50:[function(e,t,n){var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":21}],51:[function(e,t,n){var r=e("./_iterators"),o=e("./_wks")("iterator"),i=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},{"./_iterators":61,"./_wks":129}],52:[function(e,t,n){var r=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"./_cof":21}],53:[function(e,t,n){var r=e("./_is-object"),o=Math.floor;t.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},{"./_is-object":54}],54:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],55:[function(e,t,n){var r=e("./_is-object"),o=e("./_cof"),i=e("./_wks")("match");t.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},{"./_cof":21,"./_is-object":54,"./_wks":129}],56:[function(e,t,n){var r=e("./_an-object");t.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},{"./_an-object":10}],57:[function(e,t,n){"use strict";var r=e("./_object-create"),o=e("./_property-desc"),i=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},{"./_hide":45,"./_object-create":73,"./_property-desc":92,"./_set-to-string-tag":101,"./_wks":129}],58:[function(e,t,n){"use strict";var r=e("./_library"),o=e("./_export"),i=e("./_redefine"),a=e("./_hide"),l=e("./_iterators"),s=e("./_iter-create"),c=e("./_set-to-string-tag"),d=e("./_object-gpo"),u=e("./_wks")("iterator"),f=!([].keys&&"next"in[].keys()),p="@@iterator",g="keys",h="values",m=function(){return this};t.exports=function(e,t,n,v,b,_,C){s(n,t,v);var y,E,T,S=function(e){if(!f&&e in N)return N[e];switch(e){case g:return function(){return new n(this,e)};case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},A=t+" Iterator",O=b==h,x=!1,N=e.prototype,L=N[u]||N[p]||b&&N[b],w=L||S(b),D=b?O?S("entries"):w:void 0,I="Array"==t?N.entries||L:L;if(I&&(T=d(I.call(new e)),T!==Object.prototype&&T.next&&(c(T,A,!0),r||"function"==typeof T[u]||a(T,u,m))),O&&L&&L.name!==h&&(x=!0,w=function(){return L.call(this)}),r&&!C||!f&&!x&&N[u]||a(N,u,w),l[t]=w,l[A]=m,b)if(y={values:O?w:S(h),keys:_?w:S(g),entries:D},C)for(E in y)E in N||i(N,E,y[E]);else o(o.P+o.F*(f||x),t,y);return y}},{"./_export":36,"./_hide":45,"./_iter-create":57,"./_iterators":61,"./_library":62,"./_object-gpo":81,"./_redefine":94,"./_set-to-string-tag":101,"./_wks":129}],59:[function(e,t,n){var r=e("./_wks")("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},{"./_wks":129}],60:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],61:[function(e,t,n){t.exports={}},{}],62:[function(e,t,n){t.exports=!1},{}],63:[function(e,t,n){var r=Math.expm1;t.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||r(-2e-17)!=-2e-17?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:r},{}],64:[function(e,t,n){var r=e("./_math-sign"),o=Math.pow,i=o(2,-52),a=o(2,-23),l=o(2,127)*(2-a),s=o(2,-126),c=function(e){return e+1/i-1/i};t.exports=Math.fround||function(e){var t,n,o=Math.abs(e),d=r(e);return o<s?d*c(o/s/a)*s*a:(t=(1+a/i)*o,n=t-(t-o),n>l||n!=n?d*(1/0):d*n)}},{"./_math-sign":67}],65:[function(e,t,n){t.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},{}],66:[function(e,t,n){t.exports=Math.scale||function(e,t,n,r,o){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||o!=o?NaN:e===1/0||e===-(1/0)?e:(e-t)*(o-r)/(n-t)+r}},{}],67:[function(e,t,n){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],68:[function(e,t,n){var r=e("./_uid")("meta"),o=e("./_is-object"),i=e("./_has"),a=e("./_object-dp").f,l=0,s=Object.isExtensible||function(){return!0},c=!e("./_fails")(function(){return s(Object.preventExtensions({}))}),d=function(e){a(e,r,{value:{i:"O"+ ++l,w:{}}})},u=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!s(e))return"F";if(!t)return"E";d(e)}return e[r].i},f=function(e,t){if(!i(e,r)){if(!s(e))return!0;if(!t)return!1;d(e)}return e[r].w},p=function(e){return c&&g.NEED&&s(e)&&!i(e,r)&&d(e),e},g=t.exports={KEY:r,NEED:!1,fastKey:u,getWeak:f,onFreeze:p}},{"./_fails":38,"./_has":44,"./_is-object":54,"./_object-dp":74,"./_uid":124}],69:[function(e,t,n){var r=e("./es6.map"),o=e("./_export"),i=e("./_shared")("metadata"),a=i.store||(i.store=new(e("./es6.weak-map"))),l=function(e,t,n){var o=a.get(e);if(!o){if(!n)return;a.set(e,o=new r)}var i=o.get(t);if(!i){if(!n)return;o.set(t,i=new r)}return i},s=function(e,t,n){var r=l(t,n,!1);return void 0!==r&&r.has(e)},c=function(e,t,n){var r=l(t,n,!1);return void 0===r?void 0:r.get(e)},d=function(e,t,n,r){l(n,r,!0).set(e,t)},u=function(e,t){var n=l(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},f=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},p=function(e){o(o.S,"Reflect",e)};t.exports={store:a,map:l,has:s,get:c,set:d,keys:u,key:f,exp:p}},{"./_export":36,"./_shared":103,"./es6.map":161,"./es6.weak-map":267}],70:[function(e,t,n){var r=e("./_global"),o=e("./_task").set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,l=r.Promise,s="process"==e("./_cof")(a);t.exports=function(){var e,t,n,c=function(){var r,o;for(s&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(s)n=function(){a.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(l&&l.resolve){var d=l.resolve(void 0);n=function(){d.then(c)}}else n=function(){o.call(r,c)};else{var u=!0,f=document.createTextNode("");new i(c).observe(f,{characterData:!0}),n=function(){f.data=u=!u}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},{"./_cof":21,"./_global":43,"./_task":113}],71:[function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=o(t),this.reject=o(n)}var o=e("./_a-function");t.exports.f=function(e){return new r(e)}},{"./_a-function":6}],72:[function(e,t,n){"use strict";var r=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie"),a=e("./_to-object"),l=e("./_iobject"),s=Object.assign;t.exports=!s||e("./_fails")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=r})?function(e,t){for(var n=a(e),s=arguments.length,c=1,d=o.f,u=i.f;s>c;)for(var f,p=l(arguments[c++]),g=d?r(p).concat(d(p)):r(p),h=g.length,m=0;h>m;)u.call(p,f=g[m++])&&(n[f]=p[f]);return n}:s},{"./_fails":38,"./_iobject":50,"./_object-gops":80,"./_object-keys":83,"./_object-pie":84,"./_to-object":119}],73:[function(e,t,n){var r=e("./_an-object"),o=e("./_object-dps"),i=e("./_enum-bug-keys"),a=e("./_shared-key")("IE_PROTO"),l=function(){},s="prototype",c=function(){var t,n=e("./_dom-create")("iframe"),r=i.length,o="<",a=">";for(n.style.display="none",e("./_html").appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(o+"script"+a+"document.F=Object"+o+"/script"+a),t.close(),c=t.F;r--;)delete c[s][i[r]];return c()};t.exports=Object.create||function(e,t){var n;return null!==e?(l[s]=r(e),n=new l,l[s]=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},{"./_an-object":10,"./_dom-create":33,"./_enum-bug-keys":34,"./_html":46,"./_object-dps":75,"./_shared-key":102}],74:[function(e,t,n){var r=e("./_an-object"),o=e("./_ie8-dom-define"),i=e("./_to-primitive"),a=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":10,"./_descriptors":32,"./_ie8-dom-define":47,"./_to-primitive":120}],75:[function(e,t,n){var r=e("./_object-dp"),o=e("./_an-object"),i=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),l=a.length,s=0;l>s;)r.f(e,n=a[s++],t[n]);return e}},{"./_an-object":10,"./_descriptors":32,"./_object-dp":74,"./_object-keys":83}],76:[function(e,t,n){"use strict";t.exports=e("./_library")||!e("./_fails")(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete e("./_global")[t]})},{"./_fails":38,"./_global":43,"./_library":62}],77:[function(e,t,n){var r=e("./_object-pie"),o=e("./_property-desc"),i=e("./_to-iobject"),a=e("./_to-primitive"),l=e("./_has"),s=e("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;n.f=e("./_descriptors")?c:function(e,t){if(e=i(e),t=a(t,!0),s)try{return c(e,t)}catch(e){}if(l(e,t))return o(!r.f.call(e,t),e[t])}},{"./_descriptors":32,"./_has":44,"./_ie8-dom-define":47,"./_object-pie":84,"./_property-desc":92,"./_to-iobject":117,"./_to-primitive":120}],78:[function(e,t,n){var r=e("./_to-iobject"),o=e("./_object-gopn").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(e){try{return o(e)}catch(e){return a.slice()}};t.exports.f=function(e){return a&&"[object Window]"==i.call(e)?l(e):o(r(e))}},{"./_object-gopn":79,"./_to-iobject":117}],79:[function(e,t,n){var r=e("./_object-keys-internal"),o=e("./_enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},{"./_enum-bug-keys":34,"./_object-keys-internal":82}],80:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],81:[function(e,t,n){var r=e("./_has"),o=e("./_to-object"),i=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":44,"./_shared-key":102,"./_to-object":119}],82:[function(e,t,n){var r=e("./_has"),o=e("./_to-iobject"),i=e("./_array-includes")(!1),a=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,l=o(e),s=0,c=[];for(n in l)n!=a&&r(l,n)&&c.push(n);for(;t.length>s;)r(l,n=t[s++])&&(~i(c,n)||c.push(n));return c}},{"./_array-includes":14,"./_has":44,"./_shared-key":102,"./_to-iobject":117}],83:[function(e,t,n){var r=e("./_object-keys-internal"),o=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,o)}},{"./_enum-bug-keys":34,"./_object-keys-internal":82}],84:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],85:[function(e,t,n){var r=e("./_export"),o=e("./_core"),i=e("./_fails");t.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},{"./_core":26,"./_export":36,"./_fails":38}],86:[function(e,t,n){var r=e("./_object-keys"),o=e("./_to-iobject"),i=e("./_object-pie").f;t.exports=function(e){return function(t){for(var n,a=o(t),l=r(a),s=l.length,c=0,d=[];s>c;)i.call(a,n=l[c++])&&d.push(e?[n,a[n]]:a[n]);return d}}},{"./_object-keys":83,"./_object-pie":84,"./_to-iobject":117}],87:[function(e,t,n){var r=e("./_object-gopn"),o=e("./_object-gops"),i=e("./_an-object"),a=e("./_global").Reflect;t.exports=a&&a.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},{"./_an-object":10,"./_global":43,"./_object-gopn":79,"./_object-gops":80}],88:[function(e,t,n){var r=e("./_global").parseFloat,o=e("./_string-trim").trim;t.exports=1/r(e("./_string-ws")+"-0")!==-(1/0)?function(e){var t=o(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},{"./_global":43,"./_string-trim":111,"./_string-ws":112}],89:[function(e,t,n){var r=e("./_global").parseInt,o=e("./_string-trim").trim,i=e("./_string-ws"),a=/^[-+]?0[xX]/;t.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(e,t){var n=o(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},{"./_global":43,"./_string-trim":111,"./_string-ws":112}],90:[function(e,t,n){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],91:[function(e,t,n){var r=e("./_an-object"),o=e("./_is-object"),i=e("./_new-promise-capability");t.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e),a=n.resolve;return a(t),n.promise}},{"./_an-object":10,"./_is-object":54,"./_new-promise-capability":71}],92:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],93:[function(e,t,n){var r=e("./_redefine");t.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},{"./_redefine":94}],94:[function(e,t,n){var r=e("./_global"),o=e("./_hide"),i=e("./_has"),a=e("./_uid")("src"),l="toString",s=Function[l],c=(""+s).split(l);e("./_core").inspectSource=function(e){return s.call(e)},(t.exports=function(e,t,n,l){var s="function"==typeof n;s&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(s&&(i(n,a)||o(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:l?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,l,function(){return"function"==typeof this&&this[a]||s.call(this)})},{"./_core":26,"./_global":43,"./_has":44,"./_hide":45,"./_uid":124}],95:[function(e,t,n){t.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},{}],96:[function(e,t,n){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},{}],97:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_a-function"),i=e("./_ctx"),a=e("./_for-of");t.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,l,s=arguments[1];return o(this),t=void 0!==s,t&&o(s),void 0==e?new this:(n=[],t?(r=0,l=i(s,arguments[2],2),a(e,!1,function(e){n.push(l(e,r++))})):a(e,!1,n.push,n),new this(n))}})}},{"./_a-function":6,"./_ctx":28,"./_export":36,"./_for-of":42}],98:[function(e,t,n){"use strict";var r=e("./_export");t.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},{"./_export":36}],99:[function(e,t,n){var r=e("./_is-object"),o=e("./_an-object"),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,r){try{r=e("./_ctx")(Function.call,e("./_object-gopd").f(Object.prototype,"__proto__").set,2),r(t,[]),n=!(t instanceof Array)}catch(e){n=!0}return function(e,t){return i(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):void 0),check:i}},{"./_an-object":10,"./_ctx":28,"./_is-object":54,"./_object-gopd":77}],100:[function(e,t,n){"use strict";var r=e("./_global"),o=e("./_object-dp"),i=e("./_descriptors"),a=e("./_wks")("species");t.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},{"./_descriptors":32,"./_global":43,"./_object-dp":74,"./_wks":129}],101:[function(e,t,n){var r=e("./_object-dp").f,o=e("./_has"),i=e("./_wks")("toStringTag");t.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},{"./_has":44,"./_object-dp":74,"./_wks":129}],102:[function(e,t,n){var r=e("./_shared")("keys"),o=e("./_uid");t.exports=function(e){return r[e]||(r[e]=o(e))}},{"./_shared":103,"./_uid":124}],103:[function(e,t,n){var r=e("./_core"),o=e("./_global"),i="__core-js_shared__",a=o[i]||(o[i]={});(t.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:e("./_library")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},{"./_core":26,"./_global":43,"./_library":62}],104:[function(e,t,n){var r=e("./_an-object"),o=e("./_a-function"),i=e("./_wks")("species");t.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[i])?t:o(n)}},{"./_a-function":6,"./_an-object":10,"./_wks":129}],105:[function(e,t,n){"use strict";var r=e("./_fails");t.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},{"./_fails":38}],106:[function(e,t,n){var r=e("./_to-integer"),o=e("./_defined");t.exports=function(e){return function(t,n){var i,a,l=String(o(t)),s=r(n),c=l.length;return s<0||s>=c?e?"":void 0:(i=l.charCodeAt(s),i<55296||i>56319||s+1===c||(a=l.charCodeAt(s+1))<56320||a>57343?e?l.charAt(s):i:e?l.slice(s,s+2):(i-55296<<10)+(a-56320)+65536)}}},{"./_defined":31,"./_to-integer":116}],107:[function(e,t,n){var r=e("./_is-regexp"),o=e("./_defined");t.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},{"./_defined":31,"./_is-regexp":55}],108:[function(e,t,n){var r=e("./_export"),o=e("./_fails"),i=e("./_defined"),a=/"/g,l=function(e,t,n,r){var o=String(i(e)),l="<"+t;return""!==n&&(l+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),l+">"+o+"</"+t+">"};t.exports=function(e,t){var n={};n[e]=t(l),r(r.P+r.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},{"./_defined":31,"./_export":36,"./_fails":38}],109:[function(e,t,n){var r=e("./_to-length"),o=e("./_string-repeat"),i=e("./_defined");t.exports=function(e,t,n,a){var l=String(i(e)),s=l.length,c=void 0===n?" ":String(n),d=r(t);if(d<=s||""==c)return l;var u=d-s,f=o.call(c,Math.ceil(u/c.length));return f.length>u&&(f=f.slice(0,u)),a?f+l:l+f}},{"./_defined":31,"./_string-repeat":110,"./_to-length":118}],110:[function(e,t,n){"use strict";var r=e("./_to-integer"),o=e("./_defined");t.exports=function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},{"./_defined":31,"./_to-integer":116}],111:[function(e,t,n){var r=e("./_export"),o=e("./_defined"),i=e("./_fails"),a=e("./_string-ws"),l="["+a+"]",s="​",c=RegExp("^"+l+l+"*"),d=RegExp(l+l+"*$"),u=function(e,t,n){var o={},l=i(function(){return!!a[e]()||s[e]()!=s}),c=o[e]=l?t(f):a[e];n&&(o[n]=c),r(r.P+r.F*l,"String",o)},f=u.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(d,"")),e};t.exports=u},{"./_defined":31,"./_export":36,"./_fails":38,"./_string-ws":112}],112:[function(e,t,n){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],113:[function(e,t,n){var r,o,i,a=e("./_ctx"),l=e("./_invoke"),s=e("./_html"),c=e("./_dom-create"),d=e("./_global"),u=d.process,f=d.setImmediate,p=d.clearImmediate,g=d.MessageChannel,h=d.Dispatch,m=0,v={},b="onreadystatechange",_=function(){
var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},C=function(e){_.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++m]=function(){l("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete v[e]},"process"==e("./_cof")(u)?r=function(e){u.nextTick(a(_,e,1))}:h&&h.now?r=function(e){h.now(a(_,e,1))}:g?(o=new g,i=o.port2,o.port1.onmessage=C,r=a(i.postMessage,i,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(r=function(e){d.postMessage(e+"","*")},d.addEventListener("message",C,!1)):r=b in c("script")?function(e){s.appendChild(c("script"))[b]=function(){s.removeChild(this),_.call(e)}}:function(e){setTimeout(a(_,e,1),0)}),t.exports={set:f,clear:p}},{"./_cof":21,"./_ctx":28,"./_dom-create":33,"./_global":43,"./_html":46,"./_invoke":49}],114:[function(e,t,n){var r=e("./_to-integer"),o=Math.max,i=Math.min;t.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},{"./_to-integer":116}],115:[function(e,t,n){var r=e("./_to-integer"),o=e("./_to-length");t.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw RangeError("Wrong length!");return n}},{"./_to-integer":116,"./_to-length":118}],116:[function(e,t,n){var r=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:r)(e)}},{}],117:[function(e,t,n){var r=e("./_iobject"),o=e("./_defined");t.exports=function(e){return r(o(e))}},{"./_defined":31,"./_iobject":50}],118:[function(e,t,n){var r=e("./_to-integer"),o=Math.min;t.exports=function(e){return e>0?o(r(e),9007199254740991):0}},{"./_to-integer":116}],119:[function(e,t,n){var r=e("./_defined");t.exports=function(e){return Object(r(e))}},{"./_defined":31}],120:[function(e,t,n){var r=e("./_is-object");t.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":54}],121:[function(e,t,n){"use strict";if(e("./_descriptors")){var r=e("./_library"),o=e("./_global"),i=e("./_fails"),a=e("./_export"),l=e("./_typed"),s=e("./_typed-buffer"),c=e("./_ctx"),d=e("./_an-instance"),u=e("./_property-desc"),f=e("./_hide"),p=e("./_redefine-all"),g=e("./_to-integer"),h=e("./_to-length"),m=e("./_to-index"),v=e("./_to-absolute-index"),b=e("./_to-primitive"),_=e("./_has"),C=e("./_classof"),y=e("./_is-object"),E=e("./_to-object"),T=e("./_is-array-iter"),S=e("./_object-create"),A=e("./_object-gpo"),O=e("./_object-gopn").f,x=e("./core.get-iterator-method"),N=e("./_uid"),L=e("./_wks"),w=e("./_array-methods"),D=e("./_array-includes"),I=e("./_species-constructor"),R=e("./es6.array.iterator"),k=e("./_iterators"),M=e("./_iter-detect"),P=e("./_set-species"),B=e("./_array-fill"),z=e("./_array-copy-within"),U=e("./_object-dp"),F=e("./_object-gopd"),j=U.f,W=F.f,H=o.RangeError,Y=o.TypeError,G=o.Uint8Array,V="ArrayBuffer",q="Shared"+V,Z="BYTES_PER_ELEMENT",K="prototype",X=Array[K],$=s.ArrayBuffer,J=s.DataView,Q=w(0),ee=w(2),te=w(3),ne=w(4),re=w(5),oe=w(6),ie=D(!0),ae=D(!1),le=R.values,se=R.keys,ce=R.entries,de=X.lastIndexOf,ue=X.reduce,fe=X.reduceRight,pe=X.join,ge=X.sort,he=X.slice,me=X.toString,ve=X.toLocaleString,be=L("iterator"),_e=L("toStringTag"),Ce=N("typed_constructor"),ye=N("def_constructor"),Ee=l.CONSTR,Te=l.TYPED,Se=l.VIEW,Ae="Wrong length!",Oe=w(1,function(e,t){return De(I(e,e[ye]),t)}),xe=i(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),Ne=!!G&&!!G[K].set&&i(function(){new G(1).set({})}),Le=function(e,t){var n=g(e);if(n<0||n%t)throw H("Wrong offset!");return n},we=function(e){if(y(e)&&Te in e)return e;throw Y(e+" is not a typed array!")},De=function(e,t){if(!(y(e)&&Ce in e))throw Y("It is not a typed array constructor!");return new e(t)},Ie=function(e,t){return Re(I(e,e[ye]),t)},Re=function(e,t){for(var n=0,r=t.length,o=De(e,r);r>n;)o[n]=t[n++];return o},ke=function(e,t,n){j(e,t,{get:function(){return this._d[n]}})},Me=function(e){var t,n,r,o,i,a,l=E(e),s=arguments.length,d=s>1?arguments[1]:void 0,u=void 0!==d,f=x(l);if(void 0!=f&&!T(f)){for(a=f.call(l),r=[],t=0;!(i=a.next()).done;t++)r.push(i.value);l=r}for(u&&s>2&&(d=c(d,arguments[2],2)),t=0,n=h(l.length),o=De(this,n);n>t;t++)o[t]=u?d(l[t],t):l[t];return o},Pe=function(){for(var e=0,t=arguments.length,n=De(this,t);t>e;)n[e]=arguments[e++];return n},Be=!!G&&i(function(){ve.call(new G(1))}),ze=function(){return ve.apply(Be?he.call(we(this)):we(this),arguments)},Ue={copyWithin:function(e,t){return z.call(we(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return ne(we(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return B.apply(we(this),arguments)},filter:function(e){return Ie(this,ee(we(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return re(we(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return oe(we(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Q(we(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ae(we(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return ie(we(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return pe.apply(we(this),arguments)},lastIndexOf:function(e){return de.apply(we(this),arguments)},map:function(e){return Oe(we(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ue.apply(we(this),arguments)},reduceRight:function(e){return fe.apply(we(this),arguments)},reverse:function(){for(var e,t=this,n=we(t).length,r=Math.floor(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t},some:function(e){return te(we(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ge.call(we(this),e)},subarray:function(e,t){var n=we(this),r=n.length,o=v(e,r);return new(I(n,n[ye]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,h((void 0===t?r:v(t,r))-o))}},Fe=function(e,t){return Ie(this,he.call(we(this),e,t))},je=function(e){we(this);var t=Le(arguments[1],1),n=this.length,r=E(e),o=h(r.length),i=0;if(o+t>n)throw H(Ae);for(;i<o;)this[t+i]=r[i++]},We={entries:function(){return ce.call(we(this))},keys:function(){return se.call(we(this))},values:function(){return le.call(we(this))}},He=function(e,t){return y(e)&&e[Te]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ye=function(e,t){return He(e,t=b(t,!0))?u(2,e[t]):W(e,t)},Ge=function(e,t,n){return!(He(e,t=b(t,!0))&&y(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?j(e,t,n):(e[t]=n.value,e)};Ee||(F.f=Ye,U.f=Ge),a(a.S+a.F*!Ee,"Object",{getOwnPropertyDescriptor:Ye,defineProperty:Ge}),i(function(){me.call({})})&&(me=ve=function(){return pe.call(this)});var Ve=p({},Ue);p(Ve,We),f(Ve,be,We.values),p(Ve,{slice:Fe,set:je,constructor:function(){},toString:me,toLocaleString:ze}),ke(Ve,"buffer","b"),ke(Ve,"byteOffset","o"),ke(Ve,"byteLength","l"),ke(Ve,"length","e"),j(Ve,_e,{get:function(){return this[Te]}}),t.exports=function(e,t,n,s){s=!!s;var c=e+(s?"Clamped":"")+"Array",u="get"+e,p="set"+e,g=o[c],v=g||{},b=g&&A(g),_=!g||!l.ABV,E={},T=g&&g[K],x=function(e,n){var r=e._d;return r.v[u](n*t+r.o,xe)},N=function(e,n,r){var o=e._d;s&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[p](n*t+o.o,r,xe)},L=function(e,t){j(e,t,{get:function(){return x(this,t)},set:function(e){return N(this,t,e)},enumerable:!0})};_?(g=n(function(e,n,r,o){d(e,g,c,"_d");var i,a,l,s,u=0,p=0;if(y(n)){if(!(n instanceof $||(s=C(n))==V||s==q))return Te in n?Re(g,n):Me.call(g,n);i=n,p=Le(r,t);var v=n.byteLength;if(void 0===o){if(v%t)throw H(Ae);if(a=v-p,a<0)throw H(Ae)}else if(a=h(o)*t,a+p>v)throw H(Ae);l=a/t}else l=m(n),a=l*t,i=new $(a);for(f(e,"_d",{b:i,o:p,l:a,e:l,v:new J(i)});u<l;)L(e,u++)}),T=g[K]=S(Ve),f(T,"constructor",g)):i(function(){g(1)})&&i(function(){new g((-1))})&&M(function(e){new g,new g(null),new g(1.5),new g(e)},!0)||(g=n(function(e,n,r,o){d(e,g,c);var i;return y(n)?n instanceof $||(i=C(n))==V||i==q?void 0!==o?new v(n,Le(r,t),o):void 0!==r?new v(n,Le(r,t)):new v(n):Te in n?Re(g,n):Me.call(g,n):new v(m(n))}),Q(b!==Function.prototype?O(v).concat(O(b)):O(v),function(e){e in g||f(g,e,v[e])}),g[K]=T,r||(T.constructor=g));var w=T[be],D=!!w&&("values"==w.name||void 0==w.name),I=We.values;f(g,Ce,!0),f(T,Te,c),f(T,Se,!0),f(T,ye,g),(s?new g(1)[_e]==c:_e in T)||j(T,_e,{get:function(){return c}}),E[c]=g,a(a.G+a.W+a.F*(g!=v),E),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*i(function(){v.of.call(g,1)}),c,{from:Me,of:Pe}),Z in T||f(T,Z,t),a(a.P,c,Ue),P(c),a(a.P+a.F*Ne,c,{set:je}),a(a.P+a.F*!D,c,We),r||T.toString==me||(T.toString=me),a(a.P+a.F*i(function(){new g(1).slice()}),c,{slice:Fe}),a(a.P+a.F*(i(function(){return[1,2].toLocaleString()!=new g([1,2]).toLocaleString()})||!i(function(){T.toLocaleString.call([1,2])})),c,{toLocaleString:ze}),k[c]=D?w:I,r||D||f(T,be,I)}}else t.exports=function(){}},{"./_an-instance":9,"./_array-copy-within":11,"./_array-fill":12,"./_array-includes":14,"./_array-methods":15,"./_classof":20,"./_ctx":28,"./_descriptors":32,"./_export":36,"./_fails":38,"./_global":43,"./_has":44,"./_hide":45,"./_is-array-iter":51,"./_is-object":54,"./_iter-detect":59,"./_iterators":61,"./_library":62,"./_object-create":73,"./_object-dp":74,"./_object-gopd":77,"./_object-gopn":79,"./_object-gpo":81,"./_property-desc":92,"./_redefine-all":93,"./_set-species":100,"./_species-constructor":104,"./_to-absolute-index":114,"./_to-index":115,"./_to-integer":116,"./_to-length":118,"./_to-object":119,"./_to-primitive":120,"./_typed":123,"./_typed-buffer":122,"./_uid":124,"./_wks":129,"./core.get-iterator-method":130,"./es6.array.iterator":142}],122:[function(e,t,n){"use strict";function r(e,t,n){var r,o,i,a=new Array(n),l=8*n-t-1,s=(1<<l)-1,c=s>>1,d=23===t?j(2,-24)-j(2,-77):0,u=0,f=e<0||0===e&&1/e<0?1:0;for(e=F(e),e!=e||e===z?(o=e!=e?1:0,r=s):(r=W(H(e)/Y),e*(i=j(2,-r))<1&&(r--,i*=2),e+=r+c>=1?d/i:d*j(2,1-c),e*i>=2&&(r++,i/=2),r+c>=s?(o=0,r=s):r+c>=1?(o=(e*i-1)*j(2,t),r+=c):(o=e*j(2,c-1)*j(2,t),r=0));t>=8;a[u++]=255&o,o/=256,t-=8);for(r=r<<t|o,l+=t;l>0;a[u++]=255&r,r/=256,l-=8);return a[--u]|=128*f,a}function o(e,t,n){var r,o=8*n-t-1,i=(1<<o)-1,a=i>>1,l=o-7,s=n-1,c=e[s--],d=127&c;for(c>>=7;l>0;d=256*d+e[s],s--,l-=8);for(r=d&(1<<-l)-1,d>>=-l,l+=t;l>0;r=256*r+e[s],s--,l-=8);if(0===d)d=1-a;else{if(d===i)return r?NaN:c?-z:z;r+=j(2,t),d-=a}return(c?-1:1)*r*j(2,d-t)}function i(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function a(e){return[255&e]}function l(e){return[255&e,e>>8&255]}function s(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function c(e){return r(e,52,8)}function d(e){return r(e,23,4)}function u(e,t,n){O(e[D],t,{get:function(){return this[n]}})}function f(e,t,n,r){var o=+n,i=S(o);if(i+t>e[K])throw B(R);var a=e[Z]._b,l=i+e[X],s=a.slice(l,l+t);return r?s:s.reverse()}function p(e,t,n,r,o,i){var a=+n,l=S(a);if(l+t>e[K])throw B(R);for(var s=e[Z]._b,c=l+e[X],d=r(+o),u=0;u<t;u++)s[c+u]=d[i?u:t-u-1]}var g=e("./_global"),h=e("./_descriptors"),m=e("./_library"),v=e("./_typed"),b=e("./_hide"),_=e("./_redefine-all"),C=e("./_fails"),y=e("./_an-instance"),E=e("./_to-integer"),T=e("./_to-length"),S=e("./_to-index"),A=e("./_object-gopn").f,O=e("./_object-dp").f,x=e("./_array-fill"),N=e("./_set-to-string-tag"),L="ArrayBuffer",w="DataView",D="prototype",I="Wrong length!",R="Wrong index!",k=g[L],M=g[w],P=g.Math,B=g.RangeError,z=g.Infinity,U=k,F=P.abs,j=P.pow,W=P.floor,H=P.log,Y=P.LN2,G="buffer",V="byteLength",q="byteOffset",Z=h?"_b":G,K=h?"_l":V,X=h?"_o":q;if(v.ABV){if(!C(function(){k(1)})||!C(function(){new k((-1))})||C(function(){return new k,new k(1.5),new k(NaN),k.name!=L})){k=function(e){return y(this,k),new U(S(e))};for(var $,J=k[D]=U[D],Q=A(U),ee=0;Q.length>ee;)($=Q[ee++])in k||b(k,$,U[$]);m||(J.constructor=k)}var te=new M(new k(2)),ne=M[D].setInt8;te.setInt8(0,2147483648),te.setInt8(1,2147483649),!te.getInt8(0)&&te.getInt8(1)||_(M[D],{setInt8:function(e,t){ne.call(this,e,t<<24>>24)},setUint8:function(e,t){ne.call(this,e,t<<24>>24)}},!0)}else k=function(e){y(this,k,L);var t=S(e);this._b=x.call(new Array(t),0),this[K]=t},M=function(e,t,n){y(this,M,w),y(e,k,w);var r=e[K],o=E(t);if(o<0||o>r)throw B("Wrong offset!");if(n=void 0===n?r-o:T(n),o+n>r)throw B(I);this[Z]=e,this[X]=o,this[K]=n},h&&(u(k,V,"_l"),u(M,G,"_b"),u(M,V,"_l"),u(M,q,"_o")),_(M[D],{getInt8:function(e){return f(this,1,e)[0]<<24>>24},getUint8:function(e){return f(this,1,e)[0]},getInt16:function(e){var t=f(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=f(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return i(f(this,4,e,arguments[1]))},getUint32:function(e){return i(f(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return o(f(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return o(f(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){p(this,1,e,a,t)},setUint8:function(e,t){p(this,1,e,a,t)},setInt16:function(e,t){p(this,2,e,l,t,arguments[2])},setUint16:function(e,t){p(this,2,e,l,t,arguments[2])},setInt32:function(e,t){p(this,4,e,s,t,arguments[2])},setUint32:function(e,t){p(this,4,e,s,t,arguments[2])},setFloat32:function(e,t){p(this,4,e,d,t,arguments[2])},setFloat64:function(e,t){p(this,8,e,c,t,arguments[2])}});N(k,L),N(M,w),b(M[D],v.VIEW,!0),n[L]=k,n[w]=M},{"./_an-instance":9,"./_array-fill":12,"./_descriptors":32,"./_fails":38,"./_global":43,"./_hide":45,"./_library":62,"./_object-dp":74,"./_object-gopn":79,"./_redefine-all":93,"./_set-to-string-tag":101,"./_to-index":115,"./_to-integer":116,"./_to-length":118,"./_typed":123}],123:[function(e,t,n){for(var r,o=e("./_global"),i=e("./_hide"),a=e("./_uid"),l=a("typed_array"),s=a("view"),c=!(!o.ArrayBuffer||!o.DataView),d=c,u=0,f=9,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");u<f;)(r=o[p[u++]])?(i(r.prototype,l,!0),i(r.prototype,s,!0)):d=!1;t.exports={ABV:c,CONSTR:d,TYPED:l,VIEW:s}},{"./_global":43,"./_hide":45,"./_uid":124}],124:[function(e,t,n){var r=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+o).toString(36))}},{}],125:[function(e,t,n){var r=e("./_global"),o=r.navigator;t.exports=o&&o.userAgent||""},{"./_global":43}],126:[function(e,t,n){var r=e("./_is-object");t.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},{"./_is-object":54}],127:[function(e,t,n){var r=e("./_global"),o=e("./_core"),i=e("./_library"),a=e("./_wks-ext"),l=e("./_object-dp").f;t.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||l(t,e,{value:a.f(e)})}},{"./_core":26,"./_global":43,"./_library":62,"./_object-dp":74,"./_wks-ext":128}],128:[function(e,t,n){n.f=e("./_wks")},{"./_wks":129}],129:[function(e,t,n){var r=e("./_shared")("wks"),o=e("./_uid"),i=e("./_global").Symbol,a="function"==typeof i,l=t.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))};l.store=r},{"./_global":43,"./_shared":103,"./_uid":124}],130:[function(e,t,n){var r=e("./_classof"),o=e("./_wks")("iterator"),i=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},{"./_classof":20,"./_core":26,"./_iterators":61,"./_wks":129}],131:[function(e,t,n){var r=e("./_export"),o=e("./_replacer")(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return o(e)}})},{"./_export":36,"./_replacer":95}],132:[function(e,t,n){var r=e("./_export");r(r.P,"Array",{copyWithin:e("./_array-copy-within")}),e("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":8,"./_array-copy-within":11,"./_export":36}],133:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_array-methods")(4);r(r.P+r.F*!e("./_strict-method")([].every,!0),"Array",{every:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":15,"./_export":36,"./_strict-method":105}],134:[function(e,t,n){var r=e("./_export");r(r.P,"Array",{fill:e("./_array-fill")}),e("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":8,"./_array-fill":12,"./_export":36}],135:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_array-methods")(2);r(r.P+r.F*!e("./_strict-method")([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":15,"./_export":36,"./_strict-method":105}],136:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_array-methods")(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")(i)},{"./_add-to-unscopables":8,"./_array-methods":15,"./_export":36}],137:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_array-methods")(5),i="find",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")(i)},{"./_add-to-unscopables":8,"./_array-methods":15,"./_export":36}],138:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_array-methods")(0),i=e("./_strict-method")([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":15,"./_export":36,"./_strict-method":105}],139:[function(e,t,n){"use strict";var r=e("./_ctx"),o=e("./_export"),i=e("./_to-object"),a=e("./_iter-call"),l=e("./_is-array-iter"),s=e("./_to-length"),c=e("./_create-property"),d=e("./core.get-iterator-method");o(o.S+o.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,u,f=i(e),p="function"==typeof this?this:Array,g=arguments.length,h=g>1?arguments[1]:void 0,m=void 0!==h,v=0,b=d(f);if(m&&(h=r(h,g>2?arguments[2]:void 0,2)),void 0==b||p==Array&&l(b))for(t=s(f.length),n=new p(t);t>v;v++)c(n,v,m?h(f[v],v):f[v]);else for(u=b.call(f),n=new p;!(o=u.next()).done;v++)c(n,v,m?a(u,h,[o.value,v],!0):o.value);return n.length=v,n}})},{"./_create-property":27,"./_ctx":28,"./_export":36,"./_is-array-iter":51,"./_iter-call":56,"./_iter-detect":59,"./_to-length":118,"./_to-object":119,"./core.get-iterator-method":130}],140:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_array-includes")(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!e("./_strict-method")(i)),"Array",{indexOf:function(e){return a?i.apply(this,arguments)||0:o(this,e,arguments[1])}})},{"./_array-includes":14,"./_export":36,"./_strict-method":105}],141:[function(e,t,n){var r=e("./_export");r(r.S,"Array",{isArray:e("./_is-array")})},{"./_export":36,"./_is-array":52}],142:[function(e,t,n){"use strict";var r=e("./_add-to-unscopables"),o=e("./_iter-step"),i=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":8,"./_iter-define":58,"./_iter-step":60,"./_iterators":61,"./_to-iobject":117}],143:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_to-iobject"),i=[].join;r(r.P+r.F*(e("./_iobject")!=Object||!e("./_strict-method")(i)),"Array",{join:function(e){return i.call(o(this),void 0===e?",":e)}})},{"./_export":36,"./_iobject":50,"./_strict-method":105,"./_to-iobject":117}],144:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_to-iobject"),i=e("./_to-integer"),a=e("./_to-length"),l=[].lastIndexOf,s=!!l&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(s||!e("./_strict-method")(l)),"Array",{lastIndexOf:function(e){if(s)return l.apply(this,arguments)||0;var t=o(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,i(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},{"./_export":36,"./_strict-method":105,"./_to-integer":116,"./_to-iobject":117,"./_to-length":118}],145:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_array-methods")(1);r(r.P+r.F*!e("./_strict-method")([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":15,"./_export":36,"./_strict-method":105}],146:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_create-property");r(r.S+r.F*e("./_fails")(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)o(n,e,arguments[e++]);return n.length=t,n}})},{"./_create-property":27,"./_export":36,"./_fails":38}],147:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_array-reduce");r(r.P+r.F*!e("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function(e){return o(this,e,arguments.length,arguments[1],!0)}})},{"./_array-reduce":16,"./_export":36,"./_strict-method":105}],148:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_array-reduce");r(r.P+r.F*!e("./_strict-method")([].reduce,!0),"Array",{reduce:function(e){return o(this,e,arguments.length,arguments[1],!1)}})},{"./_array-reduce":16,"./_export":36,"./_strict-method":105}],149:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_html"),i=e("./_cof"),a=e("./_to-absolute-index"),l=e("./_to-length"),s=[].slice;r(r.P+r.F*e("./_fails")(function(){o&&s.call(o)}),"Array",{slice:function(e,t){var n=l(this.length),r=i(this);if(t=void 0===t?n:t,"Array"==r)return s.call(this,e,t);for(var o=a(e,n),c=a(t,n),d=l(c-o),u=new Array(d),f=0;f<d;f++)u[f]="String"==r?this.charAt(o+f):this[o+f];return u}})},{"./_cof":21,"./_export":36,"./_fails":38,"./_html":46,"./_to-absolute-index":114,"./_to-length":118}],150:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_array-methods")(3);r(r.P+r.F*!e("./_strict-method")([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},{"./_array-methods":15,"./_export":36,"./_strict-method":105}],151:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_a-function"),i=e("./_to-object"),a=e("./_fails"),l=[].sort,s=[1,2,3];r(r.P+r.F*(a(function(){s.sort(void 0)})||!a(function(){s.sort(null)})||!e("./_strict-method")(l)),"Array",{sort:function(e){return void 0===e?l.call(i(this)):l.call(i(this),o(e))}})},{"./_a-function":6,"./_export":36,"./_fails":38,"./_strict-method":105,"./_to-object":119}],152:[function(e,t,n){e("./_set-species")("Array")},{"./_set-species":100}],153:[function(e,t,n){var r=e("./_export");r(r.S,"Date",{now:function(){return(new Date).getTime()}})},{"./_export":36}],154:[function(e,t,n){var r=e("./_export"),o=e("./_date-to-iso-string");r(r.P+r.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},{"./_date-to-iso-string":29,"./_export":36}],155:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_to-object"),i=e("./_to-primitive");r(r.P+r.F*e("./_fails")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=o(this),n=i(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},{"./_export":36,"./_fails":38,"./_to-object":119,"./_to-primitive":120}],156:[function(e,t,n){var r=e("./_wks")("toPrimitive"),o=Date.prototype;r in o||e("./_hide")(o,r,e("./_date-to-primitive"))},{"./_date-to-primitive":30,"./_hide":45,"./_wks":129}],157:[function(e,t,n){var r=Date.prototype,o="Invalid Date",i="toString",a=r[i],l=r.getTime;new Date(NaN)+""!=o&&e("./_redefine")(r,i,function(){var e=l.call(this);return e===e?a.call(this):o})},{"./_redefine":94}],158:[function(e,t,n){var r=e("./_export");r(r.P,"Function",{bind:e("./_bind")})},{"./_bind":19,"./_export":36}],159:[function(e,t,n){"use strict";var r=e("./_is-object"),o=e("./_object-gpo"),i=e("./_wks")("hasInstance"),a=Function.prototype;i in a||e("./_object-dp").f(a,i,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},{"./_is-object":54,"./_object-dp":74,"./_object-gpo":81,"./_wks":129}],160:[function(e,t,n){var r=e("./_object-dp").f,o=Function.prototype,i=/^\s*function ([^ (]*)/,a="name";a in o||e("./_descriptors")&&r(o,a,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},{"./_descriptors":32,"./_object-dp":74}],161:[function(e,t,n){"use strict";var r=e("./_collection-strong"),o=e("./_validate-collection"),i="Map";t.exports=e("./_collection")(i,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(o(this,i),e);return t&&t.v},set:function(e,t){return r.def(o(this,i),0===e?0:e,t)}},r,!0)},{"./_collection":25,"./_collection-strong":22,"./_validate-collection":126}],162:[function(e,t,n){var r=e("./_export"),o=e("./_math-log1p"),i=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},{"./_export":36,"./_math-log1p":65}],163:[function(e,t,n){function r(e){return isFinite(e=+e)&&0!=e?e<0?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var o=e("./_export"),i=Math.asinh;o(o.S+o.F*!(i&&1/i(0)>0),"Math",{asinh:r})},{"./_export":36}],164:[function(e,t,n){var r=e("./_export"),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},{"./_export":36}],165:[function(e,t,n){var r=e("./_export"),o=e("./_math-sign");r(r.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},{"./_export":36,"./_math-sign":67}],166:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},{"./_export":36}],167:[function(e,t,n){var r=e("./_export"),o=Math.exp;r(r.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},{"./_export":36}],168:[function(e,t,n){var r=e("./_export"),o=e("./_math-expm1");r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},{"./_export":36,"./_math-expm1":63}],169:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{fround:e("./_math-fround")})},{"./_export":36,"./_math-fround":64}],170:[function(e,t,n){var r=e("./_export"),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,a=0,l=arguments.length,s=0;a<l;)n=o(arguments[a++]),s<n?(r=s/n,i=i*r*r+1,s=n):n>0?(r=n/s,i+=r*r):i+=n;return s===1/0?1/0:s*Math.sqrt(i)}})},{"./_export":36}],171:[function(e,t,n){var r=e("./_export"),o=Math.imul;r(r.S+r.F*e("./_fails")(function(){return o(4294967295,5)!=-5||2!=o.length}),"Math",{imul:function(e,t){var n=65535,r=+e,o=+t,i=n&r,a=n&o;return 0|i*a+((n&r>>>16)*a+i*(n&o>>>16)<<16>>>0)}})},{"./_export":36,"./_fails":38}],172:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},{"./_export":36}],173:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{log1p:e("./_math-log1p")})},{"./_export":36,"./_math-log1p":65}],174:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},{"./_export":36}],175:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{sign:e("./_math-sign")})},{"./_export":36,"./_math-sign":67}],176:[function(e,t,n){var r=e("./_export"),o=e("./_math-expm1"),i=Math.exp;r(r.S+r.F*e("./_fails")(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},{"./_export":36,"./_fails":38,"./_math-expm1":63}],177:[function(e,t,n){var r=e("./_export"),o=e("./_math-expm1"),i=Math.exp;r(r.S,"Math",{tanh:function(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},{"./_export":36,"./_math-expm1":63}],178:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},{"./_export":36}],179:[function(e,t,n){"use strict";var r=e("./_global"),o=e("./_has"),i=e("./_cof"),a=e("./_inherit-if-required"),l=e("./_to-primitive"),s=e("./_fails"),c=e("./_object-gopn").f,d=e("./_object-gopd").f,u=e("./_object-dp").f,f=e("./_string-trim").trim,p="Number",g=r[p],h=g,m=g.prototype,v=i(e("./_object-create")(m))==p,b="trim"in String.prototype,_=function(e){var t=l(e,!1);if("string"==typeof t&&t.length>2){t=b?t.trim():f(t,3);var n,r,o,i=t.charCodeAt(0);if(43===i||45===i){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var a,s=t.slice(2),c=0,d=s.length;c<d;c++)if(a=s.charCodeAt(c),a<48||a>o)return NaN;return parseInt(s,r)}}return+t};if(!g(" 0o1")||!g("0b1")||g("+0x1")){g=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof g&&(v?s(function(){m.valueOf.call(n)}):i(n)!=p)?a(new h(_(t)),n,g):_(t)};for(var C,y=e("./_descriptors")?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;y.length>E;E++)o(h,C=y[E])&&!o(g,C)&&u(g,C,d(h,C));g.prototype=m,m.constructor=g,e("./_redefine")(r,p,g)}},{"./_cof":21,"./_descriptors":32,"./_fails":38,"./_global":43,"./_has":44,"./_inherit-if-required":48,"./_object-create":73,"./_object-dp":74,"./_object-gopd":77,"./_object-gopn":79,"./_redefine":94,"./_string-trim":111,"./_to-primitive":120}],180:[function(e,t,n){var r=e("./_export");r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":36}],181:[function(e,t,n){var r=e("./_export"),o=e("./_global").isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},{"./_export":36,"./_global":43}],182:[function(e,t,n){var r=e("./_export");r(r.S,"Number",{isInteger:e("./_is-integer")})},{"./_export":36,"./_is-integer":53}],183:[function(e,t,n){var r=e("./_export");r(r.S,"Number",{isNaN:function(e){return e!=e}})},{"./_export":36}],184:[function(e,t,n){var r=e("./_export"),o=e("./_is-integer"),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return o(e)&&i(e)<=9007199254740991}})},{"./_export":36,"./_is-integer":53}],185:[function(e,t,n){var r=e("./_export");r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":36}],186:[function(e,t,n){var r=e("./_export");r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":36}],187:[function(e,t,n){var r=e("./_export"),o=e("./_parse-float");r(r.S+r.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},{"./_export":36,"./_parse-float":88}],188:[function(e,t,n){var r=e("./_export"),o=e("./_parse-int");r(r.S+r.F*(Number.parseInt!=o),"Number",{parseInt:o})},{"./_export":36,"./_parse-int":89}],189:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_to-integer"),i=e("./_a-number-value"),a=e("./_string-repeat"),l=1..toFixed,s=Math.floor,c=[0,0,0,0,0,0],d="Number.toFixed: incorrect invocation!",u="0",f=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*c[n],c[n]=r%1e7,r=s(r/1e7)},p=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=s(n/e),n=n%e*1e7},g=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call(u,7-n.length)+n}return t},h=function(e,t,n){return 0===t?n:t%2===1?h(e,t-1,n*e):h(e*e,t/2,n)},m=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};r(r.P+r.F*(!!l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e("./_fails")(function(){l.call({})})),"Number",{toFixed:function(e){var t,n,r,l,s=i(this,d),c=o(e),v="",b=u;if(c<0||c>20)throw RangeError(d);if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(v="-",s=-s),s>1e-21)if(t=m(s*h(2,69,1))-69,n=t<0?s*h(2,-t,1):s/h(2,t,1),n*=4503599627370496,t=52-t,t>0){for(f(0,n),r=c;r>=7;)f(1e7,0),r-=7;for(f(h(10,r,1),0),r=t-1;r>=23;)p(1<<23),r-=23;p(1<<r),f(1,1),p(2),b=g()}else f(0,n),f(1<<-t,0),b=g()+a.call(u,c);return c>0?(l=b.length,b=v+(l<=c?"0."+a.call(u,c-l)+b:b.slice(0,l-c)+"."+b.slice(l-c))):b=v+b,b}})},{"./_a-number-value":7,"./_export":36,"./_fails":38,"./_string-repeat":110,
"./_to-integer":116}],190:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_fails"),i=e("./_a-number-value"),a=1..toPrecision;r(r.P+r.F*(o(function(){return"1"!==a.call(1,void 0)})||!o(function(){a.call({})})),"Number",{toPrecision:function(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},{"./_a-number-value":7,"./_export":36,"./_fails":38}],191:[function(e,t,n){var r=e("./_export");r(r.S+r.F,"Object",{assign:e("./_object-assign")})},{"./_export":36,"./_object-assign":72}],192:[function(e,t,n){var r=e("./_export");r(r.S,"Object",{create:e("./_object-create")})},{"./_export":36,"./_object-create":73}],193:[function(e,t,n){var r=e("./_export");r(r.S+r.F*!e("./_descriptors"),"Object",{defineProperties:e("./_object-dps")})},{"./_descriptors":32,"./_export":36,"./_object-dps":75}],194:[function(e,t,n){var r=e("./_export");r(r.S+r.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":32,"./_export":36,"./_object-dp":74}],195:[function(e,t,n){var r=e("./_is-object"),o=e("./_meta").onFreeze;e("./_object-sap")("freeze",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},{"./_is-object":54,"./_meta":68,"./_object-sap":85}],196:[function(e,t,n){var r=e("./_to-iobject"),o=e("./_object-gopd").f;e("./_object-sap")("getOwnPropertyDescriptor",function(){return function(e,t){return o(r(e),t)}})},{"./_object-gopd":77,"./_object-sap":85,"./_to-iobject":117}],197:[function(e,t,n){e("./_object-sap")("getOwnPropertyNames",function(){return e("./_object-gopn-ext").f})},{"./_object-gopn-ext":78,"./_object-sap":85}],198:[function(e,t,n){var r=e("./_to-object"),o=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return o(r(e))}})},{"./_object-gpo":81,"./_object-sap":85,"./_to-object":119}],199:[function(e,t,n){var r=e("./_is-object");e("./_object-sap")("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},{"./_is-object":54,"./_object-sap":85}],200:[function(e,t,n){var r=e("./_is-object");e("./_object-sap")("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},{"./_is-object":54,"./_object-sap":85}],201:[function(e,t,n){var r=e("./_is-object");e("./_object-sap")("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},{"./_is-object":54,"./_object-sap":85}],202:[function(e,t,n){var r=e("./_export");r(r.S,"Object",{is:e("./_same-value")})},{"./_export":36,"./_same-value":96}],203:[function(e,t,n){var r=e("./_to-object"),o=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return o(r(e))}})},{"./_object-keys":83,"./_object-sap":85,"./_to-object":119}],204:[function(e,t,n){var r=e("./_is-object"),o=e("./_meta").onFreeze;e("./_object-sap")("preventExtensions",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},{"./_is-object":54,"./_meta":68,"./_object-sap":85}],205:[function(e,t,n){var r=e("./_is-object"),o=e("./_meta").onFreeze;e("./_object-sap")("seal",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},{"./_is-object":54,"./_meta":68,"./_object-sap":85}],206:[function(e,t,n){var r=e("./_export");r(r.S,"Object",{setPrototypeOf:e("./_set-proto").set})},{"./_export":36,"./_set-proto":99}],207:[function(e,t,n){"use strict";var r=e("./_classof"),o={};o[e("./_wks")("toStringTag")]="z",o+""!="[object z]"&&e("./_redefine")(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},{"./_classof":20,"./_redefine":94,"./_wks":129}],208:[function(e,t,n){var r=e("./_export"),o=e("./_parse-float");r(r.G+r.F*(parseFloat!=o),{parseFloat:o})},{"./_export":36,"./_parse-float":88}],209:[function(e,t,n){var r=e("./_export"),o=e("./_parse-int");r(r.G+r.F*(parseInt!=o),{parseInt:o})},{"./_export":36,"./_parse-int":89}],210:[function(e,t,n){"use strict";var r,o,i,a,l=e("./_library"),s=e("./_global"),c=e("./_ctx"),d=e("./_classof"),u=e("./_export"),f=e("./_is-object"),p=e("./_a-function"),g=e("./_an-instance"),h=e("./_for-of"),m=e("./_species-constructor"),v=e("./_task").set,b=e("./_microtask")(),_=e("./_new-promise-capability"),C=e("./_perform"),y=e("./_user-agent"),E=e("./_promise-resolve"),T="Promise",S=s.TypeError,A=s.process,O=A&&A.versions,x=O&&O.v8||"",N=s[T],L="process"==d(A),w=function(){},D=o=_.f,I=!!function(){try{var t=N.resolve(1),n=(t.constructor={})[e("./_wks")("species")]=function(e){e(w,w)};return(L||"function"==typeof PromiseRejectionEvent)&&t.then(w)instanceof n&&0!==x.indexOf("6.6")&&y.indexOf("Chrome/66")===-1}catch(e){}}(),R=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},k=function(e,t){if(!e._n){e._n=!0;var n=e._c;b(function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a,l=o?t.ok:t.fail,s=t.resolve,c=t.reject,d=t.domain;try{l?(o||(2==e._h&&B(e),e._h=1),l===!0?n=r:(d&&d.enter(),n=l(r),d&&(d.exit(),a=!0)),n===t.promise?c(S("Promise-chain cycle")):(i=R(n))?i.call(n,s,c):s(n)):c(r)}catch(e){d&&!a&&d.exit(),c(e)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&M(e)})}},M=function(e){v.call(s,function(){var t,n,r,o=e._v,i=P(e);if(i&&(t=C(function(){L?A.emit("unhandledRejection",o,e):(n=s.onunhandledrejection)?n({promise:e,reason:o}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=L||P(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},P=function(e){return 1!==e._h&&0===(e._a||e._c).length},B=function(e){v.call(s,function(){var t;L?A.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},z=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),k(t,!0))},U=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=R(e))?b(function(){var r={_w:n,_d:!1};try{t.call(e,c(U,r,1),c(z,r,1))}catch(e){z.call(r,e)}}):(n._v=e,n._s=1,k(n,!1))}catch(e){z.call({_w:n,_d:!1},e)}}};I||(N=function(e){g(this,N,T,"_h"),p(e),r.call(this);try{e(c(U,this,1),c(z,this,1))}catch(e){z.call(this,e)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=e("./_redefine-all")(N.prototype,{then:function(e,t){var n=D(m(this,N));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=L?A.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&k(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=c(U,e,1),this.reject=c(z,e,1)},_.f=D=function(e){return e===N||e===a?new i(e):o(e)}),u(u.G+u.W+u.F*!I,{Promise:N}),e("./_set-to-string-tag")(N,T),e("./_set-species")(T),a=e("./_core")[T],u(u.S+u.F*!I,T,{reject:function(e){var t=D(this),n=t.reject;return n(e),t.promise}}),u(u.S+u.F*(l||!I),T,{resolve:function(e){return E(l&&this===a?N:this,e)}}),u(u.S+u.F*!(I&&e("./_iter-detect")(function(e){N.all(e).catch(w)})),T,{all:function(e){var t=this,n=D(t),r=n.resolve,o=n.reject,i=C(function(){var n=[],i=0,a=1;h(e,!1,function(e){var l=i++,s=!1;n.push(void 0),a++,t.resolve(e).then(function(e){s||(s=!0,n[l]=e,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=D(t),r=n.reject,o=C(function(){h(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},{"./_a-function":6,"./_an-instance":9,"./_classof":20,"./_core":26,"./_ctx":28,"./_export":36,"./_for-of":42,"./_global":43,"./_is-object":54,"./_iter-detect":59,"./_library":62,"./_microtask":70,"./_new-promise-capability":71,"./_perform":90,"./_promise-resolve":91,"./_redefine-all":93,"./_set-species":100,"./_set-to-string-tag":101,"./_species-constructor":104,"./_task":113,"./_user-agent":125,"./_wks":129}],211:[function(e,t,n){var r=e("./_export"),o=e("./_a-function"),i=e("./_an-object"),a=(e("./_global").Reflect||{}).apply,l=Function.apply;r(r.S+r.F*!e("./_fails")(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var r=o(e),s=i(n);return a?a(r,t,s):l.call(r,t,s)}})},{"./_a-function":6,"./_an-object":10,"./_export":36,"./_fails":38,"./_global":43}],212:[function(e,t,n){var r=e("./_export"),o=e("./_object-create"),i=e("./_a-function"),a=e("./_an-object"),l=e("./_is-object"),s=e("./_fails"),c=e("./_bind"),d=(e("./_global").Reflect||{}).construct,u=s(function(){function e(){}return!(d(function(){},[],e)instanceof e)}),f=!s(function(){d(function(){})});r(r.S+r.F*(u||f),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(f&&!u)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var s=n.prototype,p=o(l(s)?s:Object.prototype),g=Function.apply.call(e,p,t);return l(g)?g:p}})},{"./_a-function":6,"./_an-object":10,"./_bind":19,"./_export":36,"./_fails":38,"./_global":43,"./_is-object":54,"./_object-create":73}],213:[function(e,t,n){var r=e("./_object-dp"),o=e("./_export"),i=e("./_an-object"),a=e("./_to-primitive");o(o.S+o.F*e("./_fails")(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){i(e),t=a(t,!0),i(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},{"./_an-object":10,"./_export":36,"./_fails":38,"./_object-dp":74,"./_to-primitive":120}],214:[function(e,t,n){var r=e("./_export"),o=e("./_object-gopd").f,i=e("./_an-object");r(r.S,"Reflect",{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},{"./_an-object":10,"./_export":36,"./_object-gopd":77}],215:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_an-object"),i=function(e){this._t=o(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};e("./_iter-create")(i,"Object",function(){var e,t=this,n=t._k;do if(t._i>=n.length)return{value:void 0,done:!0};while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new i(e)}})},{"./_an-object":10,"./_export":36,"./_iter-create":57}],216:[function(e,t,n){var r=e("./_object-gopd"),o=e("./_export"),i=e("./_an-object");o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(i(e),t)}})},{"./_an-object":10,"./_export":36,"./_object-gopd":77}],217:[function(e,t,n){var r=e("./_export"),o=e("./_object-gpo"),i=e("./_an-object");r(r.S,"Reflect",{getPrototypeOf:function(e){return o(i(e))}})},{"./_an-object":10,"./_export":36,"./_object-gpo":81}],218:[function(e,t,n){function r(e,t){var n,l,d=arguments.length<3?e:arguments[2];return c(e)===d?e[t]:(n=o.f(e,t))?a(n,"value")?n.value:void 0!==n.get?n.get.call(d):void 0:s(l=i(e))?r(l,t,d):void 0}var o=e("./_object-gopd"),i=e("./_object-gpo"),a=e("./_has"),l=e("./_export"),s=e("./_is-object"),c=e("./_an-object");l(l.S,"Reflect",{get:r})},{"./_an-object":10,"./_export":36,"./_has":44,"./_is-object":54,"./_object-gopd":77,"./_object-gpo":81}],219:[function(e,t,n){var r=e("./_export");r(r.S,"Reflect",{has:function(e,t){return t in e}})},{"./_export":36}],220:[function(e,t,n){var r=e("./_export"),o=e("./_an-object"),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return o(e),!i||i(e)}})},{"./_an-object":10,"./_export":36}],221:[function(e,t,n){var r=e("./_export");r(r.S,"Reflect",{ownKeys:e("./_own-keys")})},{"./_export":36,"./_own-keys":87}],222:[function(e,t,n){var r=e("./_export"),o=e("./_an-object"),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){o(e);try{return i&&i(e),!0}catch(e){return!1}}})},{"./_an-object":10,"./_export":36}],223:[function(e,t,n){var r=e("./_export"),o=e("./_set-proto");o&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},{"./_export":36,"./_set-proto":99}],224:[function(e,t,n){function r(e,t,n){var s,f,p=arguments.length<4?e:arguments[3],g=i.f(d(e),t);if(!g){if(u(f=a(e)))return r(f,t,n,p);g=c(0)}if(l(g,"value")){if(g.writable===!1||!u(p))return!1;if(s=i.f(p,t)){if(s.get||s.set||s.writable===!1)return!1;s.value=n,o.f(p,t,s)}else o.f(p,t,c(0,n));return!0}return void 0!==g.set&&(g.set.call(p,n),!0)}var o=e("./_object-dp"),i=e("./_object-gopd"),a=e("./_object-gpo"),l=e("./_has"),s=e("./_export"),c=e("./_property-desc"),d=e("./_an-object"),u=e("./_is-object");s(s.S,"Reflect",{set:r})},{"./_an-object":10,"./_export":36,"./_has":44,"./_is-object":54,"./_object-dp":74,"./_object-gopd":77,"./_object-gpo":81,"./_property-desc":92}],225:[function(e,t,n){var r=e("./_global"),o=e("./_inherit-if-required"),i=e("./_object-dp").f,a=e("./_object-gopn").f,l=e("./_is-regexp"),s=e("./_flags"),c=r.RegExp,d=c,u=c.prototype,f=/a/g,p=/a/g,g=new c(f)!==f;if(e("./_descriptors")&&(!g||e("./_fails")(function(){return p[e("./_wks")("match")]=!1,c(f)!=f||c(p)==p||"/a/i"!=c(f,"i")}))){c=function(e,t){var n=this instanceof c,r=l(e),i=void 0===t;return!n&&r&&e.constructor===c&&i?e:o(g?new d(r&&!i?e.source:e,t):d((r=e instanceof c)?e.source:e,r&&i?s.call(e):t),n?this:u,c)};for(var h=(function(e){e in c||i(c,e,{configurable:!0,get:function(){return d[e]},set:function(t){d[e]=t}})}),m=a(d),v=0;m.length>v;)h(m[v++]);u.constructor=c,c.prototype=u,e("./_redefine")(r,"RegExp",c)}e("./_set-species")("RegExp")},{"./_descriptors":32,"./_fails":38,"./_flags":40,"./_global":43,"./_inherit-if-required":48,"./_is-regexp":55,"./_object-dp":74,"./_object-gopn":79,"./_redefine":94,"./_set-species":100,"./_wks":129}],226:[function(e,t,n){e("./_descriptors")&&"g"!=/./g.flags&&e("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:e("./_flags")})},{"./_descriptors":32,"./_flags":40,"./_object-dp":74}],227:[function(e,t,n){e("./_fix-re-wks")("match",1,function(e,t,n){return[function(n){"use strict";var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},n]})},{"./_fix-re-wks":39}],228:[function(e,t,n){e("./_fix-re-wks")("replace",2,function(e,t,n){return[function(r,o){"use strict";var i=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},n]})},{"./_fix-re-wks":39}],229:[function(e,t,n){e("./_fix-re-wks")("search",1,function(e,t,n){return[function(n){"use strict";var r=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},n]})},{"./_fix-re-wks":39}],230:[function(e,t,n){e("./_fix-re-wks")("split",2,function(t,n,r){"use strict";var o=e("./_is-regexp"),i=r,a=[].push,l="split",s="length",c="lastIndex";if("c"=="abbc"[l](/(b)*/)[1]||4!="test"[l](/(?:)/,-1)[s]||2!="ab"[l](/(?:ab)*/)[s]||4!="."[l](/(.?)(.?)/)[s]||"."[l](/()()/)[s]>1||""[l](/.?/)[s]){var d=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!o(e))return i.call(n,e,t);var r,l,u,f,p,g=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,v=void 0===t?4294967295:t>>>0,b=new RegExp(e.source,h+"g");for(d||(r=new RegExp("^"+b.source+"$(?!\\s)",h));(l=b.exec(n))&&(u=l.index+l[0][s],!(u>m&&(g.push(n.slice(m,l.index)),!d&&l[s]>1&&l[0].replace(r,function(){for(p=1;p<arguments[s]-2;p++)void 0===arguments[p]&&(l[p]=void 0)}),l[s]>1&&l.index<n[s]&&a.apply(g,l.slice(1)),f=l[0][s],m=u,g[s]>=v)));)b[c]===l.index&&b[c]++;return m===n[s]?!f&&b.test("")||g.push(""):g.push(n.slice(m)),g[s]>v?g.slice(0,v):g}}else"0"[l](void 0,0)[s]&&(r=function(e,t){return void 0===e&&0===t?[]:i.call(this,e,t)});return[function(e,o){var i=t(this),a=void 0==e?void 0:e[n];return void 0!==a?a.call(e,i,o):r.call(String(i),e,o)},r]})},{"./_fix-re-wks":39,"./_is-regexp":55}],231:[function(e,t,n){"use strict";e("./es6.regexp.flags");var r=e("./_an-object"),o=e("./_flags"),i=e("./_descriptors"),a="toString",l=/./[a],s=function(t){e("./_redefine")(RegExp.prototype,a,t,!0)};e("./_fails")(function(){return"/a/b"!=l.call({source:"a",flags:"b"})})?s(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?o.call(e):void 0)}):l.name!=a&&s(function(){return l.call(this)})},{"./_an-object":10,"./_descriptors":32,"./_fails":38,"./_flags":40,"./_redefine":94,"./es6.regexp.flags":226}],232:[function(e,t,n){"use strict";var r=e("./_collection-strong"),o=e("./_validate-collection"),i="Set";t.exports=e("./_collection")(i,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,i),e=0===e?0:e,e)}},r)},{"./_collection":25,"./_collection-strong":22,"./_validate-collection":126}],233:[function(e,t,n){"use strict";e("./_string-html")("anchor",function(e){return function(t){return e(this,"a","name",t)}})},{"./_string-html":108}],234:[function(e,t,n){"use strict";e("./_string-html")("big",function(e){return function(){return e(this,"big","","")}})},{"./_string-html":108}],235:[function(e,t,n){"use strict";e("./_string-html")("blink",function(e){return function(){return e(this,"blink","","")}})},{"./_string-html":108}],236:[function(e,t,n){"use strict";e("./_string-html")("bold",function(e){return function(){return e(this,"b","","")}})},{"./_string-html":108}],237:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_string-at")(!1);r(r.P,"String",{codePointAt:function(e){return o(this,e)}})},{"./_export":36,"./_string-at":106}],238:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_to-length"),i=e("./_string-context"),a="endsWith",l=""[a];r(r.P+r.F*e("./_fails-is-regexp")(a),"String",{endsWith:function(e){var t=i(this,e,a),n=arguments.length>1?arguments[1]:void 0,r=o(t.length),s=void 0===n?r:Math.min(o(n),r),c=String(e);return l?l.call(t,c,s):t.slice(s-c.length,s)===c}})},{"./_export":36,"./_fails-is-regexp":37,"./_string-context":107,"./_to-length":118}],239:[function(e,t,n){"use strict";e("./_string-html")("fixed",function(e){return function(){return e(this,"tt","","")}})},{"./_string-html":108}],240:[function(e,t,n){"use strict";e("./_string-html")("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},{"./_string-html":108}],241:[function(e,t,n){"use strict";e("./_string-html")("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},{"./_string-html":108}],242:[function(e,t,n){var r=e("./_export"),o=e("./_to-absolute-index"),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(((t-=65536)>>10)+55296,t%1024+56320))}return n.join("")}})},{"./_export":36,"./_to-absolute-index":114}],243:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_string-context"),i="includes";r(r.P+r.F*e("./_fails-is-regexp")(i),"String",{includes:function(e){return!!~o(this,e,i).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},{"./_export":36,"./_fails-is-regexp":37,"./_string-context":107}],244:[function(e,t,n){"use strict";e("./_string-html")("italics",function(e){return function(){return e(this,"i","","")}})},{"./_string-html":108}],245:[function(e,t,n){"use strict";var r=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":58,"./_string-at":106}],246:[function(e,t,n){"use strict";e("./_string-html")("link",function(e){return function(t){return e(this,"a","href",t)}})},{"./_string-html":108}],247:[function(e,t,n){var r=e("./_export"),o=e("./_to-iobject"),i=e("./_to-length");r(r.S,"String",{raw:function(e){for(var t=o(e.raw),n=i(t.length),r=arguments.length,a=[],l=0;n>l;)a.push(String(t[l++])),l<r&&a.push(String(arguments[l]));return a.join("")}})},{"./_export":36,"./_to-iobject":117,"./_to-length":118}],248:[function(e,t,n){var r=e("./_export");r(r.P,"String",{repeat:e("./_string-repeat")})},{"./_export":36,"./_string-repeat":110}],249:[function(e,t,n){"use strict";e("./_string-html")("small",function(e){return function(){return e(this,"small","","")}})},{"./_string-html":108}],250:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_to-length"),i=e("./_string-context"),a="startsWith",l=""[a];r(r.P+r.F*e("./_fails-is-regexp")(a),"String",{startsWith:function(e){var t=i(this,e,a),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return l?l.call(t,r,n):t.slice(n,n+r.length)===r}})},{"./_export":36,"./_fails-is-regexp":37,"./_string-context":107,"./_to-length":118}],251:[function(e,t,n){"use strict";e("./_string-html")("strike",function(e){return function(){return e(this,"strike","","")}})},{"./_string-html":108}],252:[function(e,t,n){"use strict";e("./_string-html")("sub",function(e){return function(){return e(this,"sub","","")}})},{"./_string-html":108}],253:[function(e,t,n){"use strict";e("./_string-html")("sup",function(e){return function(){return e(this,"sup","","")}})},{"./_string-html":108}],254:[function(e,t,n){"use strict";e("./_string-trim")("trim",function(e){return function(){return e(this,3)}})},{"./_string-trim":111}],255:[function(e,t,n){"use strict";var r=e("./_global"),o=e("./_has"),i=e("./_descriptors"),a=e("./_export"),l=e("./_redefine"),s=e("./_meta").KEY,c=e("./_fails"),d=e("./_shared"),u=e("./_set-to-string-tag"),f=e("./_uid"),p=e("./_wks"),g=e("./_wks-ext"),h=e("./_wks-define"),m=e("./_enum-keys"),v=e("./_is-array"),b=e("./_an-object"),_=e("./_is-object"),C=e("./_to-iobject"),y=e("./_to-primitive"),E=e("./_property-desc"),T=e("./_object-create"),S=e("./_object-gopn-ext"),A=e("./_object-gopd"),O=e("./_object-dp"),x=e("./_object-keys"),N=A.f,L=O.f,w=S.f,D=r.Symbol,I=r.JSON,R=I&&I.stringify,k="prototype",M=p("_hidden"),P=p("toPrimitive"),B={}.propertyIsEnumerable,z=d("symbol-registry"),U=d("symbols"),F=d("op-symbols"),j=Object[k],W="function"==typeof D,H=r.QObject,Y=!H||!H[k]||!H[k].findChild,G=i&&c(function(){return 7!=T(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=N(j,t);r&&delete j[t],L(e,t,n),r&&e!==j&&L(j,t,r)}:L,V=function(e){var t=U[e]=T(D[k]);return t._k=e,t},q=W&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},Z=function(e,t,n){return e===j&&Z(F,t,n),b(e),t=y(t,!0),b(n),o(U,t)?(n.enumerable?(o(e,M)&&e[M][t]&&(e[M][t]=!1),n=T(n,{enumerable:E(0,!1)})):(o(e,M)||L(e,M,E(1,{})),e[M][t]=!0),G(e,t,n)):L(e,t,n)},K=function(e,t){b(e);for(var n,r=m(t=C(t)),o=0,i=r.length;i>o;)Z(e,n=r[o++],t[n]);return e},X=function(e,t){return void 0===t?T(e):K(T(e),t)},$=function(e){var t=B.call(this,e=y(e,!0));return!(this===j&&o(U,e)&&!o(F,e))&&(!(t||!o(this,e)||!o(U,e)||o(this,M)&&this[M][e])||t)},J=function(e,t){if(e=C(e),t=y(t,!0),e!==j||!o(U,t)||o(F,t)){var n=N(e,t);return!n||!o(U,t)||o(e,M)&&e[M][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=w(C(e)),r=[],i=0;n.length>i;)o(U,t=n[i++])||t==M||t==s||r.push(t);return r},ee=function(e){for(var t,n=e===j,r=w(n?F:C(e)),i=[],a=0;r.length>a;)!o(U,t=r[a++])||n&&!o(j,t)||i.push(U[t]);return i};W||(D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===j&&t.call(F,n),o(this,M)&&o(this[M],e)&&(this[M][e]=!1),G(this,e,E(1,n))};return i&&Y&&G(j,e,{configurable:!0,set:t}),V(e)},l(D[k],"toString",function(){return this._k}),A.f=J,O.f=Z,e("./_object-gopn").f=S.f=Q,e("./_object-pie").f=$,e("./_object-gops").f=ee,i&&!e("./_library")&&l(j,"propertyIsEnumerable",$,!0),g.f=function(e){return V(p(e))}),a(a.G+a.W+a.F*!W,{Symbol:D});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=x(p.store),oe=0;re.length>oe;)h(re[oe++]);a(a.S+a.F*!W,"Symbol",{for:function(e){return o(z,e+="")?z[e]:z[e]=D(e)},keyFor:function(e){if(!q(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!W,"Object",{create:X,defineProperty:Z,defineProperties:K,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:ee}),I&&a(a.S+a.F*(!W||c(function(){var e=D();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(_(t)||void 0!==e)&&!q(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!q(t))return t}),r[1]=t,R.apply(I,r)}}),D[k][P]||e("./_hide")(D[k],P,D[k].valueOf),u(D,"Symbol"),u(Math,"Math",!0),u(r.JSON,"JSON",!0)},{"./_an-object":10,"./_descriptors":32,"./_enum-keys":35,"./_export":36,"./_fails":38,"./_global":43,"./_has":44,"./_hide":45,"./_is-array":52,"./_is-object":54,"./_library":62,"./_meta":68,"./_object-create":73,"./_object-dp":74,"./_object-gopd":77,"./_object-gopn":79,"./_object-gopn-ext":78,"./_object-gops":80,"./_object-keys":83,"./_object-pie":84,"./_property-desc":92,"./_redefine":94,"./_set-to-string-tag":101,"./_shared":103,"./_to-iobject":117,"./_to-primitive":120,"./_uid":124,"./_wks":129,"./_wks-define":127,"./_wks-ext":128}],256:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_typed"),i=e("./_typed-buffer"),a=e("./_an-object"),l=e("./_to-absolute-index"),s=e("./_to-length"),c=e("./_is-object"),d=e("./_global").ArrayBuffer,u=e("./_species-constructor"),f=i.ArrayBuffer,p=i.DataView,g=o.ABV&&d.isView,h=f.prototype.slice,m=o.VIEW,v="ArrayBuffer";r(r.G+r.W+r.F*(d!==f),{ArrayBuffer:f}),r(r.S+r.F*!o.CONSTR,v,{isView:function(e){return g&&g(e)||c(e)&&m in e}}),r(r.P+r.U+r.F*e("./_fails")(function(){return!new f(2).slice(1,void 0).byteLength}),v,{slice:function(e,t){if(void 0!==h&&void 0===t)return h.call(a(this),e);for(var n=a(this).byteLength,r=l(e,n),o=l(void 0===t?n:t,n),i=new(u(this,f))(s(o-r)),c=new p(this),d=new p(i),g=0;r<o;)d.setUint8(g++,c.getUint8(r++));return i}}),e("./_set-species")(v)},{"./_an-object":10,"./_export":36,"./_fails":38,"./_global":43,"./_is-object":54,"./_set-species":100,"./_species-constructor":104,"./_to-absolute-index":114,"./_to-length":118,"./_typed":123,"./_typed-buffer":122}],257:[function(e,t,n){var r=e("./_export");r(r.G+r.W+r.F*!e("./_typed").ABV,{DataView:e("./_typed-buffer").DataView})},{"./_export":36,"./_typed":123,"./_typed-buffer":122}],258:[function(e,t,n){e("./_typed-array")("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},{"./_typed-array":121}],259:[function(e,t,n){e("./_typed-array")("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},{"./_typed-array":121}],260:[function(e,t,n){e("./_typed-array")("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},{"./_typed-array":121}],261:[function(e,t,n){e("./_typed-array")("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},{"./_typed-array":121}],262:[function(e,t,n){e("./_typed-array")("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},{"./_typed-array":121}],263:[function(e,t,n){e("./_typed-array")("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},{"./_typed-array":121}],264:[function(e,t,n){e("./_typed-array")("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},{"./_typed-array":121}],265:[function(e,t,n){e("./_typed-array")("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},{"./_typed-array":121}],266:[function(e,t,n){e("./_typed-array")("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},{"./_typed-array":121}],267:[function(e,t,n){"use strict";var r,o=e("./_array-methods")(0),i=e("./_redefine"),a=e("./_meta"),l=e("./_object-assign"),s=e("./_collection-weak"),c=e("./_is-object"),d=e("./_fails"),u=e("./_validate-collection"),f="WeakMap",p=a.getWeak,g=Object.isExtensible,h=s.ufstore,m={},v=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(e){if(c(e)){var t=p(e);return t===!0?h(u(this,f)).get(e):t?t[this._i]:void 0}},set:function(e,t){return s.def(u(this,f),e,t)}},_=t.exports=e("./_collection")(f,v,b,s,!0,!0);d(function(){return 7!=(new _).set((Object.freeze||Object)(m),7).get(m)})&&(r=s.getConstructor(v,f),l(r.prototype,b),a.NEED=!0,o(["delete","has","get","set"],function(e){var t=_.prototype,n=t[e];i(t,e,function(t,o){if(c(t)&&!g(t)){this._f||(this._f=new r);var i=this._f[e](t,o);return"set"==e?this:i}return n.call(this,t,o)})}))},{"./_array-methods":15,"./_collection":25,"./_collection-weak":24,"./_fails":38,"./_is-object":54,"./_meta":68,"./_object-assign":72,"./_redefine":94,"./_validate-collection":126}],268:[function(e,t,n){"use strict";var r=e("./_collection-weak"),o=e("./_validate-collection"),i="WeakSet";e("./_collection")(i,function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,i),e,!0)}},r,!1,!0)},{"./_collection":25,"./_collection-weak":24,"./_validate-collection":126}],269:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_flatten-into-array"),i=e("./_to-object"),a=e("./_to-length"),l=e("./_a-function"),s=e("./_array-species-create");r(r.P,"Array",{flatMap:function(e){var t,n,r=i(this);return l(e),t=a(r.length),n=s(r,0),o(n,r,r,t,0,1,e,arguments[1]),n}}),e("./_add-to-unscopables")("flatMap")},{"./_a-function":6,"./_add-to-unscopables":8,"./_array-species-create":18,"./_export":36,"./_flatten-into-array":41,"./_to-length":118,"./_to-object":119}],270:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_flatten-into-array"),i=e("./_to-object"),a=e("./_to-length"),l=e("./_to-integer"),s=e("./_array-species-create");r(r.P,"Array",{flatten:function(){var e=arguments[0],t=i(this),n=a(t.length),r=s(t,0);return o(r,t,t,n,0,void 0===e?1:l(e)),r}}),e("./_add-to-unscopables")("flatten")},{"./_add-to-unscopables":8,"./_array-species-create":18,"./_export":36,"./_flatten-into-array":41,"./_to-integer":116,"./_to-length":118,"./_to-object":119}],271:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_array-includes")(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),e("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":8,"./_array-includes":14,"./_export":36}],272:[function(e,t,n){var r=e("./_export"),o=e("./_microtask")(),i=e("./_global").process,a="process"==e("./_cof")(i);r(r.G,{asap:function(e){var t=a&&i.domain;o(t?t.bind(e):e)}})},{"./_cof":21,"./_export":36,"./_global":43,"./_microtask":70}],273:[function(e,t,n){var r=e("./_export"),o=e("./_cof");r(r.S,"Error",{isError:function(e){return"Error"===o(e)}})},{"./_cof":21,"./_export":36}],274:[function(e,t,n){var r=e("./_export");r(r.G,{global:e("./_global")})},{"./_export":36,"./_global":43}],275:[function(e,t,n){e("./_set-collection-from")("Map")},{"./_set-collection-from":97}],276:[function(e,t,n){e("./_set-collection-of")("Map")},{"./_set-collection-of":98}],277:[function(e,t,n){var r=e("./_export");r(r.P+r.R,"Map",{toJSON:e("./_collection-to-json")("Map")})},{"./_collection-to-json":23,"./_export":36}],278:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},{"./_export":36}],279:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},{"./_export":36}],280:[function(e,t,n){var r=e("./_export"),o=180/Math.PI;r(r.S,"Math",{degrees:function(e){return e*o}})},{"./_export":36}],281:[function(e,t,n){var r=e("./_export"),o=e("./_math-scale"),i=e("./_math-fround");r(r.S,"Math",{fscale:function(e,t,n,r,a){return i(o(e,t,n,r,a))}})},{"./_export":36,"./_math-fround":64,"./_math-scale":66}],282:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{iaddh:function(e,t,n,r){var o=e>>>0,i=t>>>0,a=n>>>0;return i+(r>>>0)+((o&a|(o|a)&~(o+a>>>0))>>>31)|0}})},{"./_export":36}],283:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{imulh:function(e,t){var n=65535,r=+e,o=+t,i=r&n,a=o&n,l=r>>16,s=o>>16,c=(l*a>>>0)+(i*a>>>16);return l*s+(c>>16)+((i*s>>>0)+(c&n)>>16)}})},{"./_export":36}],284:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{isubh:function(e,t,n,r){var o=e>>>0,i=t>>>0,a=n>>>0;
return i-(r>>>0)-((~o&a|~(o^a)&o-a>>>0)>>>31)|0}})},{"./_export":36}],285:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},{"./_export":36}],286:[function(e,t,n){var r=e("./_export"),o=Math.PI/180;r(r.S,"Math",{radians:function(e){return e*o}})},{"./_export":36}],287:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{scale:e("./_math-scale")})},{"./_export":36,"./_math-scale":66}],288:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},{"./_export":36}],289:[function(e,t,n){var r=e("./_export");r(r.S,"Math",{umulh:function(e,t){var n=65535,r=+e,o=+t,i=r&n,a=o&n,l=r>>>16,s=o>>>16,c=(l*a>>>0)+(i*a>>>16);return l*s+(c>>>16)+((i*s>>>0)+(c&n)>>>16)}})},{"./_export":36}],290:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_to-object"),i=e("./_a-function"),a=e("./_object-dp");e("./_descriptors")&&r(r.P+e("./_object-forced-pam"),"Object",{__defineGetter__:function(e,t){a.f(o(this),e,{get:i(t),enumerable:!0,configurable:!0})}})},{"./_a-function":6,"./_descriptors":32,"./_export":36,"./_object-dp":74,"./_object-forced-pam":76,"./_to-object":119}],291:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_to-object"),i=e("./_a-function"),a=e("./_object-dp");e("./_descriptors")&&r(r.P+e("./_object-forced-pam"),"Object",{__defineSetter__:function(e,t){a.f(o(this),e,{set:i(t),enumerable:!0,configurable:!0})}})},{"./_a-function":6,"./_descriptors":32,"./_export":36,"./_object-dp":74,"./_object-forced-pam":76,"./_to-object":119}],292:[function(e,t,n){var r=e("./_export"),o=e("./_object-to-array")(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},{"./_export":36,"./_object-to-array":86}],293:[function(e,t,n){var r=e("./_export"),o=e("./_own-keys"),i=e("./_to-iobject"),a=e("./_object-gopd"),l=e("./_create-property");r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=i(e),s=a.f,c=o(r),d={},u=0;c.length>u;)n=s(r,t=c[u++]),void 0!==n&&l(d,t,n);return d}})},{"./_create-property":27,"./_export":36,"./_object-gopd":77,"./_own-keys":87,"./_to-iobject":117}],294:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_to-object"),i=e("./_to-primitive"),a=e("./_object-gpo"),l=e("./_object-gopd").f;e("./_descriptors")&&r(r.P+e("./_object-forced-pam"),"Object",{__lookupGetter__:function(e){var t,n=o(this),r=i(e,!0);do if(t=l(n,r))return t.get;while(n=a(n))}})},{"./_descriptors":32,"./_export":36,"./_object-forced-pam":76,"./_object-gopd":77,"./_object-gpo":81,"./_to-object":119,"./_to-primitive":120}],295:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_to-object"),i=e("./_to-primitive"),a=e("./_object-gpo"),l=e("./_object-gopd").f;e("./_descriptors")&&r(r.P+e("./_object-forced-pam"),"Object",{__lookupSetter__:function(e){var t,n=o(this),r=i(e,!0);do if(t=l(n,r))return t.set;while(n=a(n))}})},{"./_descriptors":32,"./_export":36,"./_object-forced-pam":76,"./_object-gopd":77,"./_object-gpo":81,"./_to-object":119,"./_to-primitive":120}],296:[function(e,t,n){var r=e("./_export"),o=e("./_object-to-array")(!1);r(r.S,"Object",{values:function(e){return o(e)}})},{"./_export":36,"./_object-to-array":86}],297:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_global"),i=e("./_core"),a=e("./_microtask")(),l=e("./_wks")("observable"),s=e("./_a-function"),c=e("./_an-object"),d=e("./_an-instance"),u=e("./_redefine-all"),f=e("./_hide"),p=e("./_for-of"),g=p.RETURN,h=function(e){return null==e?void 0:s(e)},m=function(e){var t=e._c;t&&(e._c=void 0,t())},v=function(e){return void 0===e._o},b=function(e){v(e)||(e._o=void 0,m(e))},_=function(e,t){c(e),this._c=void 0,this._o=e,e=new C(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:s(n),this._c=n)}catch(t){return void e.error(t)}v(this)&&m(this)};_.prototype=u({},{unsubscribe:function(){b(this)}});var C=function(e){this._s=e};C.prototype=u({},{next:function(e){var t=this._s;if(!v(t)){var n=t._o;try{var r=h(n.next);if(r)return r.call(n,e)}catch(e){try{b(t)}finally{throw e}}}},error:function(e){var t=this._s;if(v(t))throw e;var n=t._o;t._o=void 0;try{var r=h(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{m(t)}finally{throw e}}return m(t),e},complete:function(e){var t=this._s;if(!v(t)){var n=t._o;t._o=void 0;try{var r=h(n.complete);e=r?r.call(n,e):void 0}catch(e){try{m(t)}finally{throw e}}return m(t),e}}});var y=function(e){d(this,y,"Observable","_f")._f=s(e)};u(y.prototype,{subscribe:function(e){return new _(e,this._f)},forEach:function(e){var t=this;return new(i.Promise||o.Promise)(function(n,r){s(e);var o=t.subscribe({next:function(t){try{return e(t)}catch(e){r(e),o.unsubscribe()}},error:r,complete:n})})}}),u(y,{from:function(e){var t="function"==typeof this?this:y,n=h(c(e)[l]);if(n){var r=c(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return a(function(){if(!n){try{if(p(e,!1,function(e){if(t.next(e),n)return g})===g)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:y)(function(e){var t=!1;return a(function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}}),function(){t=!0}})}}),f(y.prototype,l,function(){return this}),r(r.G,{Observable:y}),e("./_set-species")("Observable")},{"./_a-function":6,"./_an-instance":9,"./_an-object":10,"./_core":26,"./_export":36,"./_for-of":42,"./_global":43,"./_hide":45,"./_microtask":70,"./_redefine-all":93,"./_set-species":100,"./_wks":129}],298:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_core"),i=e("./_global"),a=e("./_species-constructor"),l=e("./_promise-resolve");r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return l(t,e()).then(function(){return n})}:e,n?function(n){return l(t,e()).then(function(){throw n})}:e)}})},{"./_core":26,"./_export":36,"./_global":43,"./_promise-resolve":91,"./_species-constructor":104}],299:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_new-promise-capability"),i=e("./_perform");r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},{"./_export":36,"./_new-promise-capability":71,"./_perform":90}],300:[function(e,t,n){var r=e("./_metadata"),o=e("./_an-object"),i=r.key,a=r.set;r.exp({defineMetadata:function(e,t,n,r){a(e,t,o(n),i(r))}})},{"./_an-object":10,"./_metadata":69}],301:[function(e,t,n){var r=e("./_metadata"),o=e("./_an-object"),i=r.key,a=r.map,l=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:i(arguments[2]),r=a(o(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var s=l.get(t);return s.delete(n),!!s.size||l.delete(t)}})},{"./_an-object":10,"./_metadata":69}],302:[function(e,t,n){var r=e("./es6.set"),o=e("./_array-from-iterable"),i=e("./_metadata"),a=e("./_an-object"),l=e("./_object-gpo"),s=i.keys,c=i.key,d=function(e,t){var n=s(e,t),i=l(e);if(null===i)return n;var a=d(i,t);return a.length?n.length?o(new r(n.concat(a))):a:n};i.exp({getMetadataKeys:function(e){return d(a(e),arguments.length<2?void 0:c(arguments[1]))}})},{"./_an-object":10,"./_array-from-iterable":13,"./_metadata":69,"./_object-gpo":81,"./es6.set":232}],303:[function(e,t,n){var r=e("./_metadata"),o=e("./_an-object"),i=e("./_object-gpo"),a=r.has,l=r.get,s=r.key,c=function(e,t,n){var r=a(e,t,n);if(r)return l(e,t,n);var o=i(t);return null!==o?c(e,o,n):void 0};r.exp({getMetadata:function(e,t){return c(e,o(t),arguments.length<3?void 0:s(arguments[2]))}})},{"./_an-object":10,"./_metadata":69,"./_object-gpo":81}],304:[function(e,t,n){var r=e("./_metadata"),o=e("./_an-object"),i=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(e){return i(o(e),arguments.length<2?void 0:a(arguments[1]))}})},{"./_an-object":10,"./_metadata":69}],305:[function(e,t,n){var r=e("./_metadata"),o=e("./_an-object"),i=r.get,a=r.key;r.exp({getOwnMetadata:function(e,t){return i(e,o(t),arguments.length<3?void 0:a(arguments[2]))}})},{"./_an-object":10,"./_metadata":69}],306:[function(e,t,n){var r=e("./_metadata"),o=e("./_an-object"),i=e("./_object-gpo"),a=r.has,l=r.key,s=function(e,t,n){var r=a(e,t,n);if(r)return!0;var o=i(t);return null!==o&&s(e,o,n)};r.exp({hasMetadata:function(e,t){return s(e,o(t),arguments.length<3?void 0:l(arguments[2]))}})},{"./_an-object":10,"./_metadata":69,"./_object-gpo":81}],307:[function(e,t,n){var r=e("./_metadata"),o=e("./_an-object"),i=r.has,a=r.key;r.exp({hasOwnMetadata:function(e,t){return i(e,o(t),arguments.length<3?void 0:a(arguments[2]))}})},{"./_an-object":10,"./_metadata":69}],308:[function(e,t,n){var r=e("./_metadata"),o=e("./_an-object"),i=e("./_a-function"),a=r.key,l=r.set;r.exp({metadata:function(e,t){return function(n,r){l(e,t,(void 0!==r?o:i)(n),a(r))}}})},{"./_a-function":6,"./_an-object":10,"./_metadata":69}],309:[function(e,t,n){e("./_set-collection-from")("Set")},{"./_set-collection-from":97}],310:[function(e,t,n){e("./_set-collection-of")("Set")},{"./_set-collection-of":98}],311:[function(e,t,n){var r=e("./_export");r(r.P+r.R,"Set",{toJSON:e("./_collection-to-json")("Set")})},{"./_collection-to-json":23,"./_export":36}],312:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_string-at")(!0);r(r.P,"String",{at:function(e){return o(this,e)}})},{"./_export":36,"./_string-at":106}],313:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_defined"),i=e("./_to-length"),a=e("./_is-regexp"),l=e("./_flags"),s=RegExp.prototype,c=function(e,t){this._r=e,this._s=t};e("./_iter-create")(c,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function(e){if(o(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in s?String(e.flags):l.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=i(e.lastIndex),new c(r,t)}})},{"./_defined":31,"./_export":36,"./_flags":40,"./_is-regexp":55,"./_iter-create":57,"./_to-length":118}],314:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_string-pad"),i=e("./_user-agent");r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padEnd:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},{"./_export":36,"./_string-pad":109,"./_user-agent":125}],315:[function(e,t,n){"use strict";var r=e("./_export"),o=e("./_string-pad"),i=e("./_user-agent");r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(i),"String",{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},{"./_export":36,"./_string-pad":109,"./_user-agent":125}],316:[function(e,t,n){"use strict";e("./_string-trim")("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},{"./_string-trim":111}],317:[function(e,t,n){"use strict";e("./_string-trim")("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},{"./_string-trim":111}],318:[function(e,t,n){e("./_wks-define")("asyncIterator")},{"./_wks-define":127}],319:[function(e,t,n){e("./_wks-define")("observable")},{"./_wks-define":127}],320:[function(e,t,n){var r=e("./_export");r(r.S,"System",{global:e("./_global")})},{"./_export":36,"./_global":43}],321:[function(e,t,n){e("./_set-collection-from")("WeakMap")},{"./_set-collection-from":97}],322:[function(e,t,n){e("./_set-collection-of")("WeakMap")},{"./_set-collection-of":98}],323:[function(e,t,n){e("./_set-collection-from")("WeakSet")},{"./_set-collection-from":97}],324:[function(e,t,n){e("./_set-collection-of")("WeakSet")},{"./_set-collection-of":98}],325:[function(e,t,n){for(var r=e("./es6.array.iterator"),o=e("./_object-keys"),i=e("./_redefine"),a=e("./_global"),l=e("./_hide"),s=e("./_iterators"),c=e("./_wks"),d=c("iterator"),u=c("toStringTag"),f=s.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=o(p),h=0;h<g.length;h++){var m,v=g[h],b=p[v],_=a[v],C=_&&_.prototype;if(C&&(C[d]||l(C,d,f),C[u]||l(C,u,v),s[v]=f,b))for(m in r)C[m]||i(C,m,r[m],!0)}},{"./_global":43,"./_hide":45,"./_iterators":61,"./_object-keys":83,"./_redefine":94,"./_wks":129,"./es6.array.iterator":142}],326:[function(e,t,n){var r=e("./_export"),o=e("./_task");r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},{"./_export":36,"./_task":113}],327:[function(e,t,n){var r=e("./_global"),o=e("./_export"),i=e("./_user-agent"),a=[].slice,l=/MSIE .\./.test(i),s=function(e){return function(t,n){var r=arguments.length>2,o=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,n)}};o(o.G+o.B+o.F*l,{setTimeout:s(r.setTimeout),setInterval:s(r.setInterval)})},{"./_export":36,"./_global":43,"./_user-agent":125}],328:[function(e,t,n){e("./modules/es6.symbol"),e("./modules/es6.object.create"),e("./modules/es6.object.define-property"),e("./modules/es6.object.define-properties"),e("./modules/es6.object.get-own-property-descriptor"),e("./modules/es6.object.get-prototype-of"),e("./modules/es6.object.keys"),e("./modules/es6.object.get-own-property-names"),e("./modules/es6.object.freeze"),e("./modules/es6.object.seal"),e("./modules/es6.object.prevent-extensions"),e("./modules/es6.object.is-frozen"),e("./modules/es6.object.is-sealed"),e("./modules/es6.object.is-extensible"),e("./modules/es6.object.assign"),e("./modules/es6.object.is"),e("./modules/es6.object.set-prototype-of"),e("./modules/es6.object.to-string"),e("./modules/es6.function.bind"),e("./modules/es6.function.name"),e("./modules/es6.function.has-instance"),e("./modules/es6.parse-int"),e("./modules/es6.parse-float"),e("./modules/es6.number.constructor"),e("./modules/es6.number.to-fixed"),e("./modules/es6.number.to-precision"),e("./modules/es6.number.epsilon"),e("./modules/es6.number.is-finite"),e("./modules/es6.number.is-integer"),e("./modules/es6.number.is-nan"),e("./modules/es6.number.is-safe-integer"),e("./modules/es6.number.max-safe-integer"),e("./modules/es6.number.min-safe-integer"),e("./modules/es6.number.parse-float"),e("./modules/es6.number.parse-int"),e("./modules/es6.math.acosh"),e("./modules/es6.math.asinh"),e("./modules/es6.math.atanh"),e("./modules/es6.math.cbrt"),e("./modules/es6.math.clz32"),e("./modules/es6.math.cosh"),e("./modules/es6.math.expm1"),e("./modules/es6.math.fround"),e("./modules/es6.math.hypot"),e("./modules/es6.math.imul"),e("./modules/es6.math.log10"),e("./modules/es6.math.log1p"),e("./modules/es6.math.log2"),e("./modules/es6.math.sign"),e("./modules/es6.math.sinh"),e("./modules/es6.math.tanh"),e("./modules/es6.math.trunc"),e("./modules/es6.string.from-code-point"),e("./modules/es6.string.raw"),e("./modules/es6.string.trim"),e("./modules/es6.string.iterator"),e("./modules/es6.string.code-point-at"),e("./modules/es6.string.ends-with"),e("./modules/es6.string.includes"),e("./modules/es6.string.repeat"),e("./modules/es6.string.starts-with"),e("./modules/es6.string.anchor"),e("./modules/es6.string.big"),e("./modules/es6.string.blink"),e("./modules/es6.string.bold"),e("./modules/es6.string.fixed"),e("./modules/es6.string.fontcolor"),e("./modules/es6.string.fontsize"),e("./modules/es6.string.italics"),e("./modules/es6.string.link"),e("./modules/es6.string.small"),e("./modules/es6.string.strike"),e("./modules/es6.string.sub"),e("./modules/es6.string.sup"),e("./modules/es6.date.now"),e("./modules/es6.date.to-json"),e("./modules/es6.date.to-iso-string"),e("./modules/es6.date.to-string"),e("./modules/es6.date.to-primitive"),e("./modules/es6.array.is-array"),e("./modules/es6.array.from"),e("./modules/es6.array.of"),e("./modules/es6.array.join"),e("./modules/es6.array.slice"),e("./modules/es6.array.sort"),e("./modules/es6.array.for-each"),e("./modules/es6.array.map"),e("./modules/es6.array.filter"),e("./modules/es6.array.some"),e("./modules/es6.array.every"),e("./modules/es6.array.reduce"),e("./modules/es6.array.reduce-right"),e("./modules/es6.array.index-of"),e("./modules/es6.array.last-index-of"),e("./modules/es6.array.copy-within"),e("./modules/es6.array.fill"),e("./modules/es6.array.find"),e("./modules/es6.array.find-index"),e("./modules/es6.array.species"),e("./modules/es6.array.iterator"),e("./modules/es6.regexp.constructor"),e("./modules/es6.regexp.to-string"),e("./modules/es6.regexp.flags"),e("./modules/es6.regexp.match"),e("./modules/es6.regexp.replace"),e("./modules/es6.regexp.search"),e("./modules/es6.regexp.split"),e("./modules/es6.promise"),e("./modules/es6.map"),e("./modules/es6.set"),e("./modules/es6.weak-map"),e("./modules/es6.weak-set"),e("./modules/es6.typed.array-buffer"),e("./modules/es6.typed.data-view"),e("./modules/es6.typed.int8-array"),e("./modules/es6.typed.uint8-array"),e("./modules/es6.typed.uint8-clamped-array"),e("./modules/es6.typed.int16-array"),e("./modules/es6.typed.uint16-array"),e("./modules/es6.typed.int32-array"),e("./modules/es6.typed.uint32-array"),e("./modules/es6.typed.float32-array"),e("./modules/es6.typed.float64-array"),e("./modules/es6.reflect.apply"),e("./modules/es6.reflect.construct"),e("./modules/es6.reflect.define-property"),e("./modules/es6.reflect.delete-property"),e("./modules/es6.reflect.enumerate"),e("./modules/es6.reflect.get"),e("./modules/es6.reflect.get-own-property-descriptor"),e("./modules/es6.reflect.get-prototype-of"),e("./modules/es6.reflect.has"),e("./modules/es6.reflect.is-extensible"),e("./modules/es6.reflect.own-keys"),e("./modules/es6.reflect.prevent-extensions"),e("./modules/es6.reflect.set"),e("./modules/es6.reflect.set-prototype-of"),e("./modules/es7.array.includes"),e("./modules/es7.array.flat-map"),e("./modules/es7.array.flatten"),e("./modules/es7.string.at"),e("./modules/es7.string.pad-start"),e("./modules/es7.string.pad-end"),e("./modules/es7.string.trim-left"),e("./modules/es7.string.trim-right"),e("./modules/es7.string.match-all"),e("./modules/es7.symbol.async-iterator"),e("./modules/es7.symbol.observable"),e("./modules/es7.object.get-own-property-descriptors"),e("./modules/es7.object.values"),e("./modules/es7.object.entries"),e("./modules/es7.object.define-getter"),e("./modules/es7.object.define-setter"),e("./modules/es7.object.lookup-getter"),e("./modules/es7.object.lookup-setter"),e("./modules/es7.map.to-json"),e("./modules/es7.set.to-json"),e("./modules/es7.map.of"),e("./modules/es7.set.of"),e("./modules/es7.weak-map.of"),e("./modules/es7.weak-set.of"),e("./modules/es7.map.from"),e("./modules/es7.set.from"),e("./modules/es7.weak-map.from"),e("./modules/es7.weak-set.from"),e("./modules/es7.global"),e("./modules/es7.system.global"),e("./modules/es7.error.is-error"),e("./modules/es7.math.clamp"),e("./modules/es7.math.deg-per-rad"),e("./modules/es7.math.degrees"),e("./modules/es7.math.fscale"),e("./modules/es7.math.iaddh"),e("./modules/es7.math.isubh"),e("./modules/es7.math.imulh"),e("./modules/es7.math.rad-per-deg"),e("./modules/es7.math.radians"),e("./modules/es7.math.scale"),e("./modules/es7.math.umulh"),e("./modules/es7.math.signbit"),e("./modules/es7.promise.finally"),e("./modules/es7.promise.try"),e("./modules/es7.reflect.define-metadata"),e("./modules/es7.reflect.delete-metadata"),e("./modules/es7.reflect.get-metadata"),e("./modules/es7.reflect.get-metadata-keys"),e("./modules/es7.reflect.get-own-metadata"),e("./modules/es7.reflect.get-own-metadata-keys"),e("./modules/es7.reflect.has-metadata"),e("./modules/es7.reflect.has-own-metadata"),e("./modules/es7.reflect.metadata"),e("./modules/es7.asap"),e("./modules/es7.observable"),e("./modules/web.timers"),e("./modules/web.immediate"),e("./modules/web.dom.iterable"),t.exports=e("./modules/_core")},{"./modules/_core":26,"./modules/es6.array.copy-within":132,"./modules/es6.array.every":133,"./modules/es6.array.fill":134,"./modules/es6.array.filter":135,"./modules/es6.array.find":137,"./modules/es6.array.find-index":136,"./modules/es6.array.for-each":138,"./modules/es6.array.from":139,"./modules/es6.array.index-of":140,"./modules/es6.array.is-array":141,"./modules/es6.array.iterator":142,"./modules/es6.array.join":143,"./modules/es6.array.last-index-of":144,"./modules/es6.array.map":145,"./modules/es6.array.of":146,"./modules/es6.array.reduce":148,"./modules/es6.array.reduce-right":147,"./modules/es6.array.slice":149,"./modules/es6.array.some":150,"./modules/es6.array.sort":151,"./modules/es6.array.species":152,"./modules/es6.date.now":153,"./modules/es6.date.to-iso-string":154,"./modules/es6.date.to-json":155,"./modules/es6.date.to-primitive":156,"./modules/es6.date.to-string":157,"./modules/es6.function.bind":158,"./modules/es6.function.has-instance":159,"./modules/es6.function.name":160,"./modules/es6.map":161,"./modules/es6.math.acosh":162,"./modules/es6.math.asinh":163,"./modules/es6.math.atanh":164,"./modules/es6.math.cbrt":165,"./modules/es6.math.clz32":166,"./modules/es6.math.cosh":167,"./modules/es6.math.expm1":168,"./modules/es6.math.fround":169,"./modules/es6.math.hypot":170,"./modules/es6.math.imul":171,"./modules/es6.math.log10":172,"./modules/es6.math.log1p":173,"./modules/es6.math.log2":174,"./modules/es6.math.sign":175,"./modules/es6.math.sinh":176,"./modules/es6.math.tanh":177,"./modules/es6.math.trunc":178,"./modules/es6.number.constructor":179,"./modules/es6.number.epsilon":180,"./modules/es6.number.is-finite":181,"./modules/es6.number.is-integer":182,"./modules/es6.number.is-nan":183,"./modules/es6.number.is-safe-integer":184,"./modules/es6.number.max-safe-integer":185,"./modules/es6.number.min-safe-integer":186,"./modules/es6.number.parse-float":187,"./modules/es6.number.parse-int":188,"./modules/es6.number.to-fixed":189,"./modules/es6.number.to-precision":190,"./modules/es6.object.assign":191,"./modules/es6.object.create":192,"./modules/es6.object.define-properties":193,"./modules/es6.object.define-property":194,"./modules/es6.object.freeze":195,"./modules/es6.object.get-own-property-descriptor":196,"./modules/es6.object.get-own-property-names":197,"./modules/es6.object.get-prototype-of":198,"./modules/es6.object.is":202,"./modules/es6.object.is-extensible":199,"./modules/es6.object.is-frozen":200,"./modules/es6.object.is-sealed":201,"./modules/es6.object.keys":203,"./modules/es6.object.prevent-extensions":204,"./modules/es6.object.seal":205,"./modules/es6.object.set-prototype-of":206,"./modules/es6.object.to-string":207,"./modules/es6.parse-float":208,"./modules/es6.parse-int":209,"./modules/es6.promise":210,"./modules/es6.reflect.apply":211,"./modules/es6.reflect.construct":212,"./modules/es6.reflect.define-property":213,"./modules/es6.reflect.delete-property":214,"./modules/es6.reflect.enumerate":215,"./modules/es6.reflect.get":218,"./modules/es6.reflect.get-own-property-descriptor":216,"./modules/es6.reflect.get-prototype-of":217,"./modules/es6.reflect.has":219,"./modules/es6.reflect.is-extensible":220,"./modules/es6.reflect.own-keys":221,"./modules/es6.reflect.prevent-extensions":222,"./modules/es6.reflect.set":224,"./modules/es6.reflect.set-prototype-of":223,"./modules/es6.regexp.constructor":225,"./modules/es6.regexp.flags":226,"./modules/es6.regexp.match":227,"./modules/es6.regexp.replace":228,"./modules/es6.regexp.search":229,"./modules/es6.regexp.split":230,"./modules/es6.regexp.to-string":231,"./modules/es6.set":232,"./modules/es6.string.anchor":233,"./modules/es6.string.big":234,"./modules/es6.string.blink":235,"./modules/es6.string.bold":236,"./modules/es6.string.code-point-at":237,"./modules/es6.string.ends-with":238,"./modules/es6.string.fixed":239,"./modules/es6.string.fontcolor":240,"./modules/es6.string.fontsize":241,"./modules/es6.string.from-code-point":242,"./modules/es6.string.includes":243,"./modules/es6.string.italics":244,"./modules/es6.string.iterator":245,"./modules/es6.string.link":246,"./modules/es6.string.raw":247,"./modules/es6.string.repeat":248,"./modules/es6.string.small":249,"./modules/es6.string.starts-with":250,"./modules/es6.string.strike":251,"./modules/es6.string.sub":252,"./modules/es6.string.sup":253,"./modules/es6.string.trim":254,"./modules/es6.symbol":255,"./modules/es6.typed.array-buffer":256,"./modules/es6.typed.data-view":257,"./modules/es6.typed.float32-array":258,"./modules/es6.typed.float64-array":259,"./modules/es6.typed.int16-array":260,"./modules/es6.typed.int32-array":261,"./modules/es6.typed.int8-array":262,"./modules/es6.typed.uint16-array":263,"./modules/es6.typed.uint32-array":264,"./modules/es6.typed.uint8-array":265,"./modules/es6.typed.uint8-clamped-array":266,"./modules/es6.weak-map":267,"./modules/es6.weak-set":268,"./modules/es7.array.flat-map":269,"./modules/es7.array.flatten":270,"./modules/es7.array.includes":271,"./modules/es7.asap":272,"./modules/es7.error.is-error":273,"./modules/es7.global":274,"./modules/es7.map.from":275,"./modules/es7.map.of":276,"./modules/es7.map.to-json":277,"./modules/es7.math.clamp":278,"./modules/es7.math.deg-per-rad":279,"./modules/es7.math.degrees":280,"./modules/es7.math.fscale":281,"./modules/es7.math.iaddh":282,"./modules/es7.math.imulh":283,"./modules/es7.math.isubh":284,"./modules/es7.math.rad-per-deg":285,"./modules/es7.math.radians":286,"./modules/es7.math.scale":287,"./modules/es7.math.signbit":288,"./modules/es7.math.umulh":289,"./modules/es7.object.define-getter":290,"./modules/es7.object.define-setter":291,"./modules/es7.object.entries":292,"./modules/es7.object.get-own-property-descriptors":293,"./modules/es7.object.lookup-getter":294,"./modules/es7.object.lookup-setter":295,"./modules/es7.object.values":296,"./modules/es7.observable":297,"./modules/es7.promise.finally":298,"./modules/es7.promise.try":299,"./modules/es7.reflect.define-metadata":300,"./modules/es7.reflect.delete-metadata":301,"./modules/es7.reflect.get-metadata":303,"./modules/es7.reflect.get-metadata-keys":302,"./modules/es7.reflect.get-own-metadata":305,"./modules/es7.reflect.get-own-metadata-keys":304,"./modules/es7.reflect.has-metadata":306,"./modules/es7.reflect.has-own-metadata":307,"./modules/es7.reflect.metadata":308,"./modules/es7.set.from":309,"./modules/es7.set.of":310,"./modules/es7.set.to-json":311,"./modules/es7.string.at":312,"./modules/es7.string.match-all":313,"./modules/es7.string.pad-end":314,"./modules/es7.string.pad-start":315,"./modules/es7.string.trim-left":316,"./modules/es7.string.trim-right":317,"./modules/es7.symbol.async-iterator":318,"./modules/es7.symbol.observable":319,"./modules/es7.system.global":320,"./modules/es7.weak-map.from":321,"./modules/es7.weak-map.of":322,"./modules/es7.weak-set.from":323,"./modules/es7.weak-set.of":324,"./modules/web.dom.iterable":325,"./modules/web.immediate":326,"./modules/web.timers":327}],329:[function(e,t,n){function r(e){return void 0===e||null===e}function o(e){var t={};for(var n in e)t[n]=e[n];return t}function i(e){e=o(e||{}),e.whiteList=e.whiteList||a.whiteList,e.onAttr=e.onAttr||a.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||a.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||a.safeAttrValue,this.options=e}var a=e("./default"),l=e("./parser");e("./util");i.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,o=n.whiteList,i=n.onAttr,a=n.onIgnoreAttr,s=n.safeAttrValue,c=l(e,function(e,t,n,l,c){var d=o[n],u=!1;if(d===!0?u=d:"function"==typeof d?u=d(l):d instanceof RegExp&&(u=d.test(l)),u!==!0&&(u=!1),l=s(n,l)){var f={position:t,sourcePosition:e,source:c,isWhite:u};if(u){var p=i(n,l,f);return r(p)?n+":"+l:p}var p=a(n,l,f);return r(p)?void 0:p}});return c},t.exports=i},{"./default":330,"./parser":332,"./util":333}],330:[function(e,t,n){function r(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,
e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function o(e,t,n){}function i(e,t,n){}function a(e,t){return l.test(t)?"":t}var l=/javascript\s*\:/gim;n.whiteList=r(),n.getDefaultWhiteList=r,n.onAttr=o,n.onIgnoreAttr=i,n.safeAttrValue=a},{}],331:[function(e,t,n){function r(e,t){var n=new i(t);return n.process(e)}var o=e("./default"),i=e("./css");n=t.exports=r,n.FilterCSS=i;for(var a in o)n[a]=o[a];"undefined"!=typeof window&&(window.filterCSS=t.exports)},{"./css":329,"./default":330}],332:[function(e,t,n){function r(e,t){function n(){if(!i){var n=o.trim(e.slice(a,l)),r=n.indexOf(":");if(r!==-1){var c=o.trim(n.slice(0,r)),d=o.trim(n.slice(r+1));if(c){var u=t(a,s.length,c,d,n);u&&(s+=u+"; ")}}}a=l+1}e=o.trimRight(e),";"!==e[e.length-1]&&(e+=";");for(var r=e.length,i=!1,a=0,l=0,s="";l<r;l++){var c=e[l];if("/"===c&&"*"===e[l+1]){var d=e.indexOf("*/",l+2);if(d===-1)break;l=d+1,a=l+1,i=!1}else"("===c?i=!0:")"===c?i=!1:";"===c?i||n():"\n"===c&&n()}return o.trim(s)}var o=e("./util");t.exports=r},{"./util":333}],333:[function(e,t,n){t.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},{}],334:[function(e,t,n){n.read=function(e,t,n,r,o){var i,a,l=8*o-r-1,s=(1<<l)-1,c=s>>1,d=-7,u=n?o-1:0,f=n?-1:1,p=e[t+u];for(u+=f,i=p&(1<<-d)-1,p>>=-d,d+=l;d>0;i=256*i+e[t+u],u+=f,d-=8);for(a=i&(1<<-d)-1,i>>=-d,d+=r;d>0;a=256*a+e[t+u],u+=f,d-=8);if(0===i)i=1-c;else{if(i===s)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var a,l,s,c=8*i-o-1,d=(1<<c)-1,u=d>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,g=r?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),t+=a+u>=1?f/s:f*Math.pow(2,1-u),t*s>=2&&(a++,s/=2),a+u>=d?(l=0,a=d):a+u>=1?(l=(t*s-1)*Math.pow(2,o),a+=u):(l=t*Math.pow(2,u-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&l,p+=g,l/=256,o-=8);for(a=a<<o|l,c+=o;c>0;e[n+p]=255&a,p+=g,a/=256,c-=8);e[n+p-g]|=128*h}},{}],335:[function(e,t,n){function r(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}function o(e,t,n){}function i(e,t,n){}function a(e,t,n){}function l(e,t,n){}function s(e){return e.replace(A,"&lt;").replace(O,"&gt;")}function c(e,t,n,r){if(n=h(n),"href"===t||"src"===t){if(n=T.trim(n),"#"===n)return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(I.lastIndex=0,I.test(n))return""}else if("style"===t){if(R.lastIndex=0,R.test(n))return"";if(k.lastIndex=0,k.test(n)&&(I.lastIndex=0,I.test(n)))return"";r!==!1&&(r=r||S,n=r.process(n))}return n=m(n)}function d(e){return e.replace(x,"&quot;")}function u(e){return e.replace(N,'"')}function f(e){return e.replace(L,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})}function p(e){return e.replace(w,":").replace(D," ")}function g(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return T.trim(t)}function h(e){return e=u(e),e=f(e),e=p(e),e=g(e)}function m(e){return e=d(e),e=s(e)}function v(){return""}function b(e,t){function n(t){return!!r||T.indexOf(e,t)!==-1}"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),o=[],i=!1;return{onIgnoreTag:function(e,r,a){if(n(e)){if(a.isClosing){var l="[/removed]",s=a.position+l.length;return o.push([i!==!1?i:a.position,s]),i=!1,l}return i||(i=a.position),"[removed]"}return t(e,r,a)},remove:function(e){var t="",n=0;return T.forEach(o,function(r){t+=e.slice(n,r[0]),n=r[1]}),t+=e.slice(n)}}}function _(e){return e.replace(M,"")}function C(e){var t=e.split("");return t=t.filter(function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}),t.join("")}var y=e("cssfilter").FilterCSS,E=e("cssfilter").getDefaultWhiteList,T=e("./util"),S=new y,A=/</g,O=/>/g,x=/"/g,N=/&quot;/g,L=/&#([a-zA-Z0-9]*);?/gim,w=/&colon;?/gim,D=/&newline;?/gim,I=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,R=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,k=/u\s*r\s*l\s*\(.*/gi,M=/<!--[\s\S]*?-->/g;n.whiteList=r(),n.getDefaultWhiteList=r,n.onTag=o,n.onIgnoreTag=i,n.onTagAttr=a,n.onIgnoreTagAttr=l,n.safeAttrValue=c,n.escapeHtml=s,n.escapeQuote=d,n.unescapeQuote=u,n.escapeHtmlEntities=f,n.escapeDangerHtml5Entities=p,n.clearNonPrintableCharacter=g,n.friendlyAttrValue=h,n.escapeAttrValue=m,n.onIgnoreTagStripAll=v,n.StripTagBody=b,n.stripCommentTag=_,n.stripBlankChar=C,n.cssFilter=S,n.getDefaultCSSWhiteList=E},{"./util":338,cssfilter:331}],336:[function(e,t,n){function r(e,t){var n=new l(t);return n.process(e)}function o(){return"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope}var i=e("./default"),a=e("./parser"),l=e("./xss");n=t.exports=r,n.FilterXSS=l;for(var s in i)n[s]=i[s];for(var s in a)n[s]=a[s];"undefined"!=typeof window&&(window.filterXSS=t.exports),o()&&(self.filterXSS=t.exports)},{"./default":335,"./parser":337,"./xss":339}],337:[function(e,t,n){function r(e){var t=u.spaceIndex(e);if(t===-1)var n=e.slice(1,-1);else var n=e.slice(1,t+1);return n=u.trim(n).toLowerCase(),"/"===n.slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function o(e){return"</"===e.slice(0,2)}function i(e,t,n){"user strict";var i="",a=0,l=!1,s=!1,c=0,d=e.length,u="",f="";for(c=0;c<d;c++){var p=e.charAt(c);if(l===!1){if("<"===p){l=c;continue}}else if(s===!1){if("<"===p){i+=n(e.slice(a,c)),l=c,a=c;continue}if(">"===p){i+=n(e.slice(a,l)),f=e.slice(l,c+1),u=r(f),i+=t(l,i.length,u,f,o(f)),a=c+1,l=!1;continue}if(('"'===p||"'"===p)&&"="===e.charAt(c-1)){s=p;continue}}else if(p===s){s=!1;continue}}return a<e.length&&(i+=n(e.substr(a))),i}function a(e,t){"user strict";function n(e,n){if(e=u.trim(e),e=e.replace(f,"").toLowerCase(),!(e.length<1)){var r=t(e,n||"");r&&o.push(r)}}for(var r=0,o=[],i=!1,a=e.length,c=0;c<a;c++){var p,g,h=e.charAt(c);if(i!==!1||"="!==h)if(i===!1||c!==r||'"'!==h&&"'"!==h||"="!==e.charAt(c-1))if(/\s|\n|\t/.test(h)){if(e=e.replace(/\s|\n|\t/g," "),i===!1){if(g=l(e,c),g===-1){p=u.trim(e.slice(r,c)),n(p),i=!1,r=c+1;continue}c=g-1;continue}if(g=s(e,c-1),g===-1){p=u.trim(e.slice(r,c)),p=d(p),n(i,p),i=!1,r=c+1;continue}}else;else{if(g=e.indexOf(h,c+1),g===-1)break;p=u.trim(e.slice(r+1,g)),n(i,p),i=!1,c=g,r=c+1}else i=e.slice(r,c),r=c+1}return r<e.length&&(i===!1?n(e.slice(r)):n(i,d(u.trim(e.slice(r))))),u.trim(o.join(" "))}function l(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function s(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function c(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}function d(e){return c(e)?e.substr(1,e.length-2):e}var u=e("./util"),f=/[^a-zA-Z0-9_:\.\-]/gim;n.parseTag=i,n.parseAttr=a},{"./util":338}],338:[function(e,t,n){t.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,o;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,o=e.length;r<o;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,n=t.exec(e);return n?n.index:-1}}},{}],339:[function(e,t,n){function r(e){return void 0===e||null===e}function o(e){var t=f.spaceIndex(e);if(t===-1)return{html:"",closing:"/"===e[e.length-2]};e=f.trim(e.slice(t+1,-1));var n="/"===e[e.length-1];return n&&(e=f.trim(e.slice(0,-1))),{html:e,closing:n}}function i(e){var t={};for(var n in e)t[n]=e[n];return t}function a(e){e=i(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=s.onIgnoreTagStripAll),e.whiteList=e.whiteList||s.whiteList,e.onTag=e.onTag||s.onTag,e.onTagAttr=e.onTagAttr||s.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||s.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||s.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||s.safeAttrValue,e.escapeHtml=e.escapeHtml||s.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new l(e.css))}var l=e("cssfilter").FilterCSS,s=e("./default"),c=e("./parser"),d=c.parseTag,u=c.parseAttr,f=e("./util");a.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,n=t.options,i=n.whiteList,a=n.onTag,l=n.onIgnoreTag,c=n.onTagAttr,p=n.onIgnoreTagAttr,g=n.safeAttrValue,h=n.escapeHtml,m=t.cssFilter;n.stripBlankChar&&(e=s.stripBlankChar(e)),n.allowCommentTag||(e=s.stripCommentTag(e));var v=!1;if(n.stripIgnoreTagBody){var v=s.StripTagBody(n.stripIgnoreTagBody,l);l=v.onIgnoreTag}var b=d(e,function(e,t,n,s,d){var v={sourcePosition:e,position:t,isClosing:d,isWhite:i.hasOwnProperty(n)},b=a(n,s,v);if(!r(b))return b;if(v.isWhite){if(v.isClosing)return"</"+n+">";var _=o(s),C=i[n],y=u(_.html,function(e,t){var o=f.indexOf(C,e)!==-1,i=c(n,e,t,o);if(!r(i))return i;if(o)return t=g(n,e,t,m),t?e+'="'+t+'"':e;var i=p(n,e,t,o);return r(i)?void 0:i}),s="<"+n;return y&&(s+=" "+y),_.closing&&(s+=" /"),s+=">"}var b=l(n,s,v);return r(b)?h(s):b},h);return v&&(b=v.remove(b)),b},t.exports=a},{"./default":335,"./parser":337,"./util":338,cssfilter:331}],340:[function(e,t,n){"use strict";var r=e("../config/const"),o=e("../libs/utils"),i=function(){var e=null,t=null,n=null,i=null;this.initCore=function(r){e=r,t=e.env,n=e.require.domUtils,i=e.require.rangeUtils};var a=function(){var e=t.doc.createElement(r.TAG.TMP_TAG);return n.css(e,{position:"absolute","z-index":-1,top:"-100px",left:"-100px",width:"1px",height:"1px",color:"transparent",background:"transparent",overflow:"hidden",opacity:0,filter:"alpha(opacity=0)"}),t.body.appendChild(e),e.innerHTML="<br/>",e};this.getData=function(e,r){var o={files:null,html:"",text:""};if(t.browser.isIe){var l=window.clipboardData;if(!l)return void r(o);i.caretBackup();var s=l.getData("Text"),c=a();return i.setRange(c,0,c,1),void setTimeout(function(){o.text=s||"",o.html=c.innerHTML||"",i.caretRestore(),n.remove(c),r(o)},50)}return e&&e.clipboardData?(o.files=e.clipboardData&&e.clipboardData.items&&1===e.clipboardData.items.length&&/^image\//.test(e.clipboardData.items[0].type)?e.clipboardData.items:null,o.html=e.clipboardData&&e.clipboardData.getData("text/html")||"",o.text=e.clipboardData&&e.clipboardData.getData("text/plain")||"",void r(o)):void r(o)},this.setData=function(e,r,l,s){if(t.browser.isIe){var c=window.clipboardData;if(c){i.caretBackup();var d=a();c.setData("Text",l),d.innerHTML=r,i.setRange(d,0,d,d.childNodes.length),setTimeout(function(){i.caretRestore(),n.remove(d),s()},50)}else s()}else{if(!e||!e.clipboardData)return void s();if(e.clipboardData&&!t.browser.isIe&&(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",l),e.clipboardData.setData("text/html",r)),e.clipboardData.getData("text"))return o.stopEvent(e),void s();var u=a(),f=t.doc.createElement("textarea");f.value=l,n.attr(f,{readonly:""}),n.css(f,{position:"absolute",top:"0",left:"0",width:"1000px"}),n.css(u,{position:"absolute",top:"-99999px",left:"-99999px",overflow:"hidden"}),u.appendChild(f),t.body.appendChild(u),f.focus(),f.selectionStart=0,f.selectionEnd=f.value.length,setTimeout(function(){t.body.removeChild(u),f=null,u=null,s()},50)}}};t.exports=i},{"../config/const":391,"../libs/utils":402}],341:[function(e,t,n){"use strict";var r=e("../config/const"),o=function(){var e=this,t=null,n=null,o=null,i=null,a=null,l=null,s=null,c=null,d=null,u=null;this.initCore=function(e){t=e,n=t.env,o=t.require.blockUtils,i=t.require.domUtils,a=t.require.historyUtils,l=t.require.rangeUtils,s=t.require.tableCore,c=t.require.tableUtils,d=t.require.tableZone,u=t.require.todoUtils};var f=function(e){for(var t=1;t<=6;t++){var n=e.querySelector("h"+t);if(n)return n}return null},p=function(e){var t=l.getRange(),n=d.getZone();if(t||n.range){var r=void 0,a=void 0,s=void 0,c=void 0;t&&(r=t.startContainer,a=t.startOffset,s=t.endContainer,c=t.endOffset);for(var u=o.fixAndGetBlockListFromRange(),p=!1,h=0;h<u.length;h++){var m=u[h];if(p=i.isTag(m,["h1","h2","h3","h4","h5","h6"])||!!f(m))break}if(!p&&/^div$/gi.test(e))return!0;for(var v=0;v<u.length;v++){var b=u[v],_=f(b);if(!i.isSelfClosingTag(b)&&!b.notFormat)if(_&&!i.isTag(_,[e]))u[v]=i.replaceTagName(_,e);else if(i.isTag(b,["ol","ul"]))for(var C=b.children,y=0;y<C.length;y++){var E=C[y],T=i.packageChildNodesByDiv(E);i.replaceTagName(T,e)}else i.isTag(b,["td","th","li"])?(b=i.packageChildNodesByDiv(b),u[v]=i.replaceTagName(b,e)):_||(u[v]=i.replaceTagName(b,e))}if(g(u),t){var S=u[u.length-1];r.parentNode&&s.parentNode?l.setRange(r,a,s,c):r.parentNode?l.setRange(r,a):s.parentNode?l.setRange(s,c):l.setRange(S,i.getEndOffset(S))}return!0}},g=function e(t){for(var n=!0,r=t.length-1;r>=0;r--){var o=t[r];i.clearStyle(o,"font-size",n),e(o.querySelectorAll("[style]"))}},h=function(t){return m(t)?(e.clearSubSup(),!1):n.doc.execCommand(t,!1)},m=function(e){var t="subscript"===e?"sub":"sup",n=l.getRange(),r=void 0;return n&&(r=l.getRangeDetail(n.startContainer,n.startOffset),r=r.container,r=i.getFirstDeepChild(r),r=i.getParentByTagName(r,t,!0)),!!r},v=function(e){var t=void 0,a=void 0;switch(e.toLowerCase()){case"justifycenter":t="center",a=!0;break;case"justifyright":t="right",a=!0;break;default:t="left",a=!1}var l=d.getZone();if(l.range)return void s.setCellAlign(t,null);for(var c=o.fixAndGetBlockListFromRange(),u=[],f=0;f<c.length;f++){var p=c[f],g=i.getParentByTagName(p,"li",!0);g?u.indexOf(g)<0&&u.push(g):u.push(p)}for(var h=function(e){var o=u[e];if(i.eachChild(o,function(e){return!i.isWizDom(e)&&!i.hasClass(e,r.CLASS.CODE_CONTAINER)},function(e){e!==o&&i.css(e,{"text-align":null})}),i.isTag(o,"li")){a?i.addClass(o,r.CLASS.ORDER_LIST_ALIGN_STYLE):i.removeClass(o,r.CLASS.ORDER_LIST_ALIGN_STYLE);var l=o.firstChild;if(i.isTag(l,"div")&&!i.hasClass(l,r.CLASS.CODE_CONTAINER)&&!i.hasClass(l,r.CLASS.TABLE_CONTAINER)){var s=l.getAttribute("style"),c=i.replaceTagName(l,"span");s&&c.setAttribute("style",s),c.nextSibling&&i.after(n.doc.createElement("br"),c)}}i.css(o,{"text-align":t})},m=0;m<u.length;m++)h(m)},b=function(){for(var e=o.fixAndGetBlockListFromRange(),t=[],n=function(e){for(var n=0;n<t.length;n++)if(e===t[n].main)return n;return-1},r=function(e){if(e){var r=n(e.main);r<0?t.push(e):e.first&&t[r].first?t[r].last=e.last:(t[r].first=null,t[r].last=null)}},a=function(e,t){for(var n=i.getIndexList(e),o=e.querySelectorAll(t),a=!1,l=0;l<o.length;l++){var s=o[l],c=i.getParentByTagName(s,["ol","ul"],!1);if(c){var d=i.getIndexList(c);i.compareIndexList(n,d)<0&&(s=null)}s&&(r({main:s,first:null,last:null}),a=!0)}return a},s=0;s<e.length;s++){var c=e[s],d=void 0;if(i.isTag(c,["blockquote","ol","ul","li"]))d={main:c,first:null,last:null};else{var u=a(c,"ol"),f=a(c,"ul");u||f?d=null:(d=i.getParentByTagName(c,["blockquote","li"],!1),d&&(d={main:d,first:c,last:c}))}r(d)}var p=void 0,g=void 0;if(t.length>0){var h=t[0],m=t[t.length-1];p=i.getFirstDeepChild(h.first?h.first:h.main),g=i.getLastDeepChild(m.last?m.last:m.main)}for(var v=0;v<t.length;v++){var b=t[v];if(i.isTag(b.main,"blockquote"))if(b.first){var _=i.splitDomBeforeSub(b.main,b.first);_=i.splitDomAfterSub(_,b.last),i.peelDom(_)}else i.peelDom(b.main);else if(i.isTag(b.main,["ol","ul"])){var C=i.getParentByTagName(b.main,["ol","ul"],!1);if(!C)for(var y=b.main.childNodes.length-1;y>=0;y--){var E=b.main.childNodes[y];i.isTag(E,"li")&&(i.packageChildNodesByDiv(E),i.peelDom(E))}i.peelDom(b.main)}else{var T=b.main.parentNode;T=i.splitDomSingle(T,b.main),i.peelDom(T),T=i.getParentByTagName(b.main,["ol","ul"],!1),T||(i.packageChildNodesByDiv(b.main),i.peelDom(b.main))}}return p&&g&&l.setRange(p,0,g,i.getEndOffset(g)),t.length>0},_=function(e){if(/bold|italic|underline/i.test(e)){var t=l.getRange();if(t&&t.collapsed){var n=i.createSpan();n.innerHTML=r.FILL_CHAR,t.insertNode(n)}}},C={bind:function(){C.unbind(),n.event.add(r.EVENT.EXEC_COMMEND,C.handler.onExecCommand)},unbind:function(){n.event.remove(r.EVENT.EXEC_COMMEND,C.handler.onExecCommand)},handler:{onExecCommand:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.execCommand.apply(e,n)}}};this.on=function(){C.bind()},this.off=function(){C.unbind()},this.clearSubSup=function(){var e=l.getRangeDomList({noSplit:!1}),t=void 0,n=void 0,o=void 0,a=void 0,s=void 0;if(!e||0===e.list.length)return n=l.getRange(),void(n&&n.collapsed&&(o=i.createSpan(),o.innerHTML=r.FILL_CHAR+r.FILL_CHAR,n.insertNode(o),t=i.getParentByTagName(o,["sub","sup"],!0),t?(t=i.splitDomSingle(t,o),i.peelDom(t),l.setRange(o,1)):i.remove(o)));var c=i.getParentByTagName(e.list[0],["sub","sup"],!0);if(1===e.list.length)return t=i.splitDomSingle(c,e.list[0]),void(t?(a=t.firstChild,s=t.lastChild,i.peelDom(t),l.setRange(a,0,s,i.getEndOffset(s))):l.setRange(e.startDom,e.startOffset,e.endDom,e.endOffset));c&&i.splitDomBeforeSub(c,e.list[0]);var d=i.getParentByTagName(e.list[e.list.length-1],["sub","sup"],!0);d&&i.splitDomAfterSub(d,e.list[e.list.length-1]);for(var u=!1,f=0;f<e.list.length;f++){var p=e.list[f];t=i.getParentByTagName(p,["sub","sup"],!0),0===f?a=p:f===e.list.length-1&&(s=p),t&&(0===f?a=t.firstChild:f===e.list.length-1&&(s=t.lastChild),i.peelDom(t),u=!0)}u?l.setRange(a,0,s,i.getEndOffset(s)):l.fixRange(e)},this.execCommand=function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];var s=l.getRange(),f=void 0,g=void 0,m=void 0;s&&s.collapsed&&u&&(f=u.getMainByCaret(),g=u.getCheckbox(f),m=g?g.id:"");var C=o[0],y=null;if(s&&/^(insertOrderedList)|(insertUnorderedList)$/i.test(C)){var E=s.startContainer,T=s.startOffset;1===E.nodeType&&T<E.childNodes.length&&(E=E.childNodes[T]),E=i.getPreviousNode(E,!0),y=i.getParentByClass(E,r.CLASS.CODE_CONTAINER,!1),y&&i.setContenteditable(y,!0)}var S=void 0;if(/formatblock/i.test(o[0]))S=p(o[2]);else if(/subscript|superscript/i.test(o[0]))S=h(o[0]);else if(/outdent/i.test(o[0]))S=b(o[0]);else if(/justifyCenter|justifyLeft|justifyRight/i.test(o[0]))S=v(o[0]);else{var A=d.getZone();if(!s&&A.range){var O=null;n.event.setPause(r.EVENT.ON_SELECTION_CHANGE,!0),c.eachRange(A.grid,A.range,function(t){if(!t.fake){var n=t.cell;if(i.isEmptyDom(n))return;l.setRange(n,0,n,i.getEndOffset(n));var r=e.queryCommandState(o[0]);return O=!r,!1}}),c.eachRange(A.grid,A.range,function(t){if(!t.fake){var a=t.cell;n.event.setPause(r.EVENT.ON_SELECTION_CHANGE,!0),l.setRange(a,0,a,i.getEndOffset(a));var s=e.queryCommandState(o[0]);s===O&&(S=n.doc.execCommand.apply(n.doc,o)),S=n.doc.execCommand.apply(n.doc,o),l.remove()}}),n.event.setPause(r.EVENT.ON_SELECTION_CHANGE,!1)}else _(o[0],!1),S=n.doc.execCommand.apply(n.doc,o)}if(y&&i.setContenteditable(y,!1),/^(indent)|(outdent)|(insertOrderedList)|(insertUnorderedList)$/i.test(C)&&i.fixList(),m&&(/^indent$/i.test(C)&&n.client.type.isIOS||/^outdent$/i.test(C))&&(/^outdent$/i.test(C)&&u&&u.fixNewTodo(),g=n.body.querySelector("#"+m),f=u&&u.getMainFromChild(g),f&&u&&u.isEmptyMain(f))){for(var x=u.getCheckbox(f);f.lastChild!==x;)f.removeChild(f.lastChild);var N=i.createSpan();i.after(N,x),N.innerHTML=r.FILL_CHAR+r.FILL_CHAR,l.setRange(N,1)}return i.fixFont(),n.event.call(r.EVENT.ON_EXEC_COMMAND),n.event.call(r.EVENT.ON_SELECTION_CHANGE),S},this.queryCommandState=function(e){var t=void 0;return t=/subscript|superscript/i.test(e)?m(e):n.doc.queryCommandState(e)}};t.exports=o},{"../config/const":391}],342:[function(e,t,n){"use strict";var r=e("../config/const"),o=e("../libs/utils"),i=12,a=function(){var e=this,t=null,n=null;this.initCore=function(e){t=e,n=t.env},this.addClass=function(t,n){if(t){t.nodeType&&(t=[t]);var r=void 0,o=void 0;for(r=t.length-1;r>=0;r--)o=t[r],1!==o.nodeType||e.hasClass(o,n)||(o.className=(o.className+" "+n).trim())}},this.after=function(t,n){e.before(t,n,!0)},this.appendStyle=function(e,t){if(e){var n=e.split(";"),r=void 0,o=void 0,i=void 0;for(r=0,o=n.length;r<o;r++)n[r].indexOf(":")>0&&(i=n[r].split(":"),t[i[0].trim()]=i[1].trim())}},this.attr=function(e,t){var n=void 0,r=void 0;if(e&&t&&1===e.nodeType)for(n in t)t.hasOwnProperty(n)&&"string"==typeof n&&(r=t[n],r?e.setAttribute(n,r):e.removeAttribute(n))},this.before=function(e,t,r){if(r=!!r,t&&e){var i=t===n.body,a=i?t:t.parentNode,l=i?r?null:n.body.childNodes[0]:r?t.nextSibling:t,s=void 0;if(o.isArray(e)){s=l;for(var c=e.length-1;c>=0;c--){var d=e[c];a.insertBefore(d,s),s=d}}else a.insertBefore(e,l)}},this.getBodyText=function(){var e=n.body;return e?e.innerText?e.innerText:"":" "},this.canEdit=function(t){var n=["script","style"];return t&&(1===t.nodeType||3===t.nodeType)&&(e.isTag(t,"br")||!e.isEmptyDom(t))&&!e.checkInTmp(t)&&!(1===t.nodeType&&e.isTag(t,n)||3===t.nodeType&&t.parentNode&&e.isTag(t.parentNode,n))},this.checkInTmp=function(t){return!!e.getParentByTagName(t,r.TAG.TMP_TAG,!0)},this.childNodesFilter=function(t){t&&1===t.nodeType&&e.eachChild(t,function(e){return 1===e.nodeType&&/link|style|script|meta/gi.test(e.nodeName)?(t.removeChild(e),!1):1!==e.nodeType&&3!==e.nodeType?(t.removeChild(e),!1):1===e.nodeType},function(){})},this.clearChild=function(t,o,i){if(!t||1!==t.nodeType||n.isWizTemplate||/^wiz_/gi.test(t.tagName)||e.isTag(t,["svg"])||e.hasClass(t,r.CLASS.CODE_CONTAINER)||!n.doc.querySelector("#"+r.ID.WIZ_DEFAULT_STYLE))return!1;o||(o=t);var a=/(^| )wiz[\-_]/i,l=t.childNodes,s=void 0,c=void 0,d=!1,u=e.isTag(t,["div","p","span"])&&!a.test(t.tagName)&&!a.test(t.id)&&!a.test(t.className),f=t.childNodes.length>2;if(u&&1===l.length)d=e.clearChild(l[0],o,i+1);else{var p=!1,g=null;for(s=l.length-1;s>=0;s--)if(c=l[s],e.clearChild(c,null,0),u&&f&&c.parentNode&&1===c.nodeType&&!e.isSelfClosingTag(c)&&0===c.childNodes.length)p||!e.isTag(c,"div")||/inline/i.test(c.style.display)||(g=n.doc.createElement("br"),e.after(g,c),p=!0),e.remove(c);else if(c.parentNode&&e.isTag(c,"div")&&0===c.childNodes.length){var h=n.browser.isIe&&"<br>"===c.innerHTML;h?p=!0:e.remove(c)}else p=!1;u&&1===l.length&&(d=e.clearChild(l[0],o,i+1))}if(u&&i>5&&!d&&o)return e.mergeDomParent(t,o),!0;if(u&&0===l.length&&!e.isBlock(t,{includeBr:!0})&&e.isEmptyDom(t)||e.isTag(t,["ol","ul"])&&0===l.length){if(n.browser.isIe&&"<br>"===t.innerHTML)return d;e.remove(t)}else if(u){var m=0,v=0;for(s=0;s<l.length&&(c=l[s],e.isTag(c,["p","div"]));s++)m=s+1;if(m<l.length)for(s=l.length-1;s>=0&&(c=l[s],e.isTag(c,["p","div"]));s--)v=l.length-s;if(m&&m===l.length)e.peelDom(t,function(n){return e.mergeStyleAToB(t,n),!0});else{for(s=0;s<m;s++)c=t.firstChild,e.mergeStyleAToB(t,c),e.before(c,t);for(s=0;s<v;s++)c=t.lastChild,e.mergeStyleAToB(t,c),e.after(c,t)}}return d},this.clearChildSpan=function(t,n){if(t){var o=n.indexOf(t)>=0,i=void 0;if(!(o||3!==t.nodeType||e.isUsableTextNode(t)||e.getParentByTagName(t,"pre",!1)))return void e.remove(t);if(!o&&3===t.nodeType)return i=t.nodeValue.replace(r.FILL_CHAR_REG,""),void(i!==t.nodeValue&&(t.nodeValue=i));if(!o&&1===t.nodeType){var a=t.childNodes,l=void 0,s=void 0;for(l=a.length-1;l>=0;l--)s=a[l],e.clearChildSpan(s,n);e.mergeChildSpan(t,n),n.indexOf(t)<0&&0===t.childNodes.length&&1===t.nodeType&&!e.isSelfClosingTag(t)&&t.getAttribute(r.ATTR.SPAN)&&e.remove(t)}}},this.clearStyle=function(t,n,r){var o=function(t,r){t.style[n]="",e.isTag(t,"font")&&"color"===r&&e.attr(t,{color:null})};if(o(t,n),!r)for(;t&&!e.isBlock(t);)o(t,n),t=t.parentNode},this.clearStyleFromHtml=function(t,n){var r=/(<[^<>]* style=(['"]))((\r?\n|(?!(\2|[<>])).)*)/gi;n=n?n:[];for(var o=void 0,i=void 0,a=0;a<n.length;a++)o=n[a],i=o.indexOf("*"),n[a]=i>=0?o.substr(0,i).escapeRegex():o.escapeRegex()+"$";var l=n.length>0?new RegExp("^("+n.join("|")+")","i"):null;return t=t.replace(r,function(t,n,r,o){var i=[n];o=o.replace(/&quot;/gi,'"');for(var a=o.split(";"),s=void 0,c=void 0,d=void 0,u=void 0,f=0,p=a.length;f<p;f++)s=a[f],c=s.indexOf(":"),d="",u="",c>-1&&(d=s.substr(0,c).trim(),u=s.substr(c+1).trim(),d&&u&&l&&l.test(d)&&(/^font-size$/i.test(d)?u=e.getFontSizeRem(u,{useRootSize:!0}):(/^text-align$/i.test(d)&&!/right|justify/i.test(u)||/^font-style$/i.test(d)&&!/italic/i.test(u))&&(u=null),u&&!/^(inherit|initial|transparent)$/i.test(u)&&i.push(d,":",u.replace(/"/gi,"&quot;"),";")));return i.join("")})},this.clone=function(t,r){var o=void 0,i=void 0,a=void 0,l=void 0,s=void 0,c=void 0,d=void 0;if(!t)return null;if(r)if(3===t.nodeType)o=n.doc.createTextNode("");else{for(o=n.doc.createElement(t.tagName),a=t.attributes,l={},s=0,c=a.length;s<c;s++)d=a[s],/^id$/i.test(d.nodeName)||(l[d.nodeName]=d.nodeValue);e.attr(o,l)}else 3===t.nodeType?o=n.doc.createTextNode(t.nodeValue):(i=n.doc.createElement("div"),i.innerHTML=t.outerHTML,o=i.childNodes[0]);return o},this.compareIndexList=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=e[r],i=t[r];if(o<i)return-1;if(o>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0},this.contains=function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))},this.convertImageToBase64=function(e,t,r,o){var i=n.doc.createElement("img");i.onload=function(){var e=n.doc.createElement("canvas");e.width=t,e.height=r;var a=e.getContext("2d"),l=t/i.width,s=r/i.height,c=Math.max(l,s);a.scale(c,c),a.drawImage(i,0,0),o(e.toDataURL()),i=null,e=null},i.src=e},this.createSpan=function(){var t=n.doc.createElement("span"),o={};return o[r.ATTR.SPAN]=r.ATTR.SPAN,e.attr(t,o),t},this.css=function(t,n){if(t&&n&&!e.isTag(t,"br")){var r={},o=void 0,i=void 0;for(o in n)n.hasOwnProperty(o)&&"string"==typeof o&&(i=n[o],i||0===i?r[o]=i:e.clearStyle(t,o,!1));for(o in r)r.hasOwnProperty(o)&&"string"==typeof o&&(i=r[o],i||0===i?i.toString().indexOf("!important")>0?(e.clearStyle(t,o,!0),t.style.cssText+=o+":"+i):"font-size"===o.toLowerCase()?(e.clearStyle(t,o,!0),i=e.getFontSizeRem(i),i&&(t.style.cssText+=o+":"+i)):t.style[o]!==i&&(t.style[o]=i):e.clearStyle(t,o,!1))}},this.eachChild=function(t,n,r){if(t&&n(t)){var o=t.children;if(o){for(var i=o.length-1;i>=0;i--){var a=o[i];e.eachChild(a,n,r)}r(t)}}},this.fixFont=function(){for(var t=n.body.querySelectorAll("[style]"),r=/color\s*:\s*([^;]*)/i,i=/background-color\s*:\s*([^;]*)/i,a=/font-family\s*:\s*([^;]*)/i,l=/font-size\s*:\s*([%.\w]*)/i,s=/line-height\s*:\s*([^;]*)/i,c=e.getComputedStyle(n.body,"font-family"),d=0;d<t.length;d++){var u=t[d];if(u.parentNode&&!e.isTag(u,["html"])){var f=u.getAttribute("style");if(f&&u.style){var p=f.match(a);if(p&&(c===p[1]||0===c.indexOf(p[1]+","))){var g=e.getSpanTop(u);for(g=e.splitDomSingle(g,u);g&&1===g.nodeType;)g.style.fontFamily=null,g=g.firstChild}var h=l.exec(f);if(h){var m=h[1];e.getComputedStyle(u,"font-size")===e.getComputedStyle(u.parentNode,"font-size")?u.style.fontSize=null:m.indexOf("rem")<0&&(u.style.fontSize=e.getFontSizeRem(m,{useRootSize:!0}))}var v=s.exec(f);v&&e.getComputedStyle(u,"line-height")===e.getComputedStyle(u.parentNode,"line-height")&&(u.style.lineHeight=null);var b=r.exec(f);if(b&&!e.isTag(u,"a")){var _=b[1].trim(),C=n.options.nightMode.enable?o.rgb2Hex(_):e.getComputedStyle(u,"color"),y=e.getComputedStyle(u.parentNode,"color");C===y&&(u.style.color=null)}var E=i.exec(f);if(E){var T=E[1].trim(),S=n.options.nightMode.enable?o.rgb2Hex(T):e.getComputedStyle(u,"background-color"),A=e.getComputedStyle(u.parentNode,"background-color",!0);S===A&&(u.style.backgroundColor=null)}}}}},this.fixList=function(){for(var t=n.body.querySelectorAll("ol"),o=0;o<t.length;o++){for(var i=t[o],a=i,l=0;a;)l++,a=e.getParentByTagName(a,["ul","ol"],!1);e.removeClass(i,r.CLASS.ORDER_LIST_LEVEL),e.addClass(i,r.CLASS.ORDER_LIST_LEVEL[l%3])}var s=function(r){t=n.body.querySelectorAll(r);for(var o=t.length-1;o>=0;o--){
var i=t[o],a=n.doc.createElement("li");e.before(a,i),a.appendChild(i)}};s("ol > div"),s("ol > p"),s("ul > div"),s("ul > p"),t=n.body.querySelectorAll("li");for(var c=t.length-1;c>=0;c--){var d=t[c];e.checkInTmp(d)||e.isTag(d.firstChild,["div","p"])&&(e.replaceTagName(d.firstChild,"span"),d.firstChild.nextSibling&&e.after(n.doc.createElement("br"),d.firstChild))}},this.focus=function(){n.win.WizTemplate?n.win.WizTemplate.focus():n.body.focus()},this.fragmentFilterForCopy=function(t){var n=function(t){for(var n=t.length-1;n>=0;n--){var r=t[n];e.remove(r)}};n(t.querySelectorAll("."+r.CLASS.CODE_CONTAINER+" textarea")),n(t.querySelectorAll("."+r.CLASS.CODE_MIRROR_MEASURE)),n(t.querySelectorAll("."+r.CLASS.CODE_MIRROR_GUTTER)),n(t.querySelectorAll("."+r.CLASS.CODE_TOOLS))},this.getBlockParent=function(t,n){return t?e.getParentByFilter(t,function(t){return e.isBlock(t)},n):null},this.getComputedStyle=function(e,t,r){if(!e||3===e.nodeType||!t)return"";for(var i=void 0;!i;){if(!e)return"";if(1===e.nodeType){var a=n.win.getComputedStyle(e,null);if(i=o.rgb2Hex(a[t]||""),e===n.body||!r||i)break;e=e.parentNode}else e=e.parentNode}return i},this.getContentHtml=function(t){e.fixFont(),e.fixList();var i=t&&t.isCreateSvg;if(!i)for(var a=n.body.querySelectorAll("."+r.CLASS.SVG_TEMPLATE),l=a.length-1;l>=0;l--)e.remove(a[l]);var s=t&&t.isSaveTemp;n.event.call(r.EVENT.BEFORE_GET_DOCHTML,null);for(var c=void 0,d=n.body.getElementsByTagName("input"),u=0,f=d.length;u<f;u++)c=d[u],e.checkInTmp(c)||/^text$/i.test(c.type||c.getAttribute("type"))&&c.value!==c.getAttribute("value")&&e.attr(c,{value:c.value});d=n.body.getElementsByTagName("textarea");for(var p=0,g=d.length;p<g;p++)c=d[p],e.getParentByClass(c,r.CLASS.CODE_CONTAINER,!1)||e.setTextarea(c);d=n.body.querySelectorAll("."+r.CLASS.TABLE_CONTAINER);for(var h=0,m=d.length;h<m;h++)e.moveOutFromTableContainer(d[h]);var v=[r.NAME.TMP_STYLE];s||v.push(r.NAME.UNSAVE_STYLE);var b=void 0,_="";if(n.options.container&&!n.options.useFrame){if(n.options.editor.type!==r.NOTE_EDITOR_TYPE.MARKDOWN)throw b="",new Error("普通笔记不适合采用 iFrame 方式");b=n.body.innerHTML}else{_=e.getDocType(n.doc);var C=void 0;n.isSetBodyFontSize&&(C=n.body.style.fontSize,n.body.style.fontSize=null),b=n.doc.documentElement.outerHTML,n.isSetBodyFontSize&&(n.body.style.fontSize=C)}b=e.removeStyleByNameFromHtml(b,v),b=e.removeByTagFromHtml(b,r.TAG.TMP_TAG),b=e.peelTagFromHtml(b,r.TAG.TMP_PLUGIN_TAG),b=b.replace(/<!--(.|\n)*?(-->)/g,""),b=b.replace(/<script[^<>]*\/>/gi,"").replace(/<script[^<>]*>(((?!<\/script>).)|(\r?\n))*<\/script>/gi,"");var y=/(<[\w]*[^<>]*[ ]+)contenteditable([ ]*=[ ]*['"][^'"<>]*['"])?/gi;b=b.replace(y,"$1");var E=/(<body [^<>]*class=(['"]))(.*?)(\2)/gi,T=new RegExp(" *("+r.CLASS.EDITING+"|"+r.CLASS.READONLY+") *","g");if(b=b.replace(E,function(e,t,n,r,o){return t+r.replace(T," ")+o}),b=b.replace(/(<div class="CodeMirror-measure">)<pre><span>xxxxxxxxxx<\/span><\/pre>/gi,"$1"),b=e.hideTableFromHtml(b),b=e.hideCodeFromHtml(b),!s){b=e.removeLazyLoadFromHtml(b);var S=/<base\s*[^>]*>/gi;b=b.replace(S,"")}if(n.win.WizTemplate&&(b=n.win.WizTemplate.hideTemplateFormHtml(b)),b=o.replaceSpecialChar(b),!s){var A=new RegExp("(<img[^<>]*)( "+r.ATTR.IMG_EDITING+"=('|\")1\\3)","ig");b=b.replace(A,"$1"),b=e.restoreImgPath(b)}return _+b},this.getWordCount=function(){var e=n.body.innerText?n.body.innerText:"";return o.getWordCount(e)},this.removeLazyLoadFromHtml=function(e){var t=/<img [^>]*data-src\s*=\s*('|")[^>]*>/gi,n=/(('|")[^'"]*[^\s])(\s*wiz-lazyload\s*)([^'"]*\2)/gi,r=/\s*class\s*=\s*('|")\s*\1/gi,o=/\s*data-src\s*=/gi,i=/\s+src\s*=/i,a=e.replace(t,function(e){var t=e;return t.indexOf("wiz-lazyload")<0&&i.test(t)?t:t=t.replace(n,"$1$4").replace(r,"").replace(o," src=")});return a},this.getRenderDocument=function(){n.event.call(r.EVENT.BEFORE_GET_DOCHTML,null);var t=void 0,o="";return n.options.container&&!n.options.useFrame?t=n.body.innerHTML:(o=e.getDocType(n.doc),t=n.doc.documentElement.outerHTML),t=e.removeByTagFromHtml(t,r.TAG.TMP_TAG),t=e.peelTagFromHtml(t,r.TAG.TMP_PLUGIN_TAG),t=t.replace(/<!--(.|\n)*?(-->)/g,""),t=t.replace(/<script[^<>]*\/>/gi,"").replace(/<script[^<>]*>(((?!<\/script>).)|(\r?\n))*<\/script>/gi,""),t=t.replace(/(<div class="CodeMirror-measure">)<pre><span>xxxxxxxxxx<\/span><\/pre>/gi,"$1"),t=e.hideTableFromHtml(t),t=e.hideCodeFromHtml(t),n.win.WizTemplate&&(t=n.win.WizTemplate.hideTemplateFormHtml(t)),t=e.restoreImgPath(t),o+t},this.restoreImgPath=function(e){function t(e,t,n){var r=new RegExp("(<[^<>]*src[ ]*=[ ]*(\"|'))"+t.escapeRegex(),"ig"),o=new RegExp("(!\\[[^[\\]]*\\]\\()"+t.escapeRegex(),"ig");return e.replace(r,"$1"+n+"/").replace(o,"$1"+n+"/")}e=t(e,n.indexFilesFullPath,n.indexFilesPath);var r=n.doc.querySelector("head base");return r&&(e=t(e,r.href+"index_files/","index_files")),e},this.getDocType=function(e){var t=e.doctype,n="";return(!t||t.systemId||t.publicId)&&t?(n="<!",n+='DOCTYPE HTML PUBLIC "'+t.publicId+'" "'+t.systemId+'" >'):n="<!DOCTYPE HTML>",n},this.getEndOffset=function(e){return e?3===e.nodeType?e.nodeValue.length:e.childNodes.length:0},this.getFirst=function(t){t||(t=n.body);for(var r=e.getFirstDeepChild(t),o=e.canEdit(r);r&&!o;)r=e.getNextNodeCanEdit(r,!1),o=e.canEdit(r);return r},this.getFirstDeepChild=function(e){if(!e)return null;for(var t=e;t&&t.childNodes&&t.childNodes.length>0;){for(t=t.childNodes[0];t&&1===t.nodeType&&/^wiz_/gi.test(t.tagName);)t=t.nextSibling;t&&(e=t)}return e},this.getFontSizeRem=function(t,r){t=t.trim();var o=parseFloat(t);if(t.indexOf("%")>-1)return Math.round(o/100*1e3)/1e3+"rem";if(/^smaller$/i.test(t))return"0.83rem";if(/^small$/i.test(t))return"0.8125rem";if(/^x-small$/i.test(t))return"0.75rem";if(/^xx-small$/i.test(t))return"0.75rem";if(/^larger$/i.test(t))return"1.2rem";if(/^large$/i.test(t))return"1.125rem";if(/^x-large$/i.test(t))return"1.5rem";if(/^xx-large$/i.test(t))return"2rem";if(/^medium$/i.test(t))return"1rem";if(!/pt|px/i.test(t))return isNaN(o)?null:o+"rem";var a={useRootSize:!(!r||!r.useRootSize)},l=n.win.getComputedStyle(n.doc.body.parentNode),s=parseFloat(l.fontSize),c=a.useRootSize?i*e.getRootSizeRate():i;return isNaN(s)||isNaN(o)||0===s?null:(o/=/pt/i.test(t)?c:s,Math.round(1e3*o)/1e3+"rem")},this.getFromIndexList=function(e){if(!e||0===e.length)return null;var t=n.body,r=void 0;try{var o=void 0,i=void 0;for(o=0,i=e.length-1;o<i;o++)t=t.childNodes[e[o]];return r=e[o],{dom:t,offset:r}}catch(e){return null}},this.getImageData=function(t){var r=e.getImageSize(t.src),o=n.doc.createElement("canvas");o.width=r.width,o.height=r.height;var i=o.getContext("2d");i.drawImage(t,0,0);var a=o.toDataURL("image/png");return a.replace(/^data:image\/(png|jpg);base64,/,"")},this.getImageSize=function(e){var t=new Image;return t.src=e,{width:t.width,height:t.height}},this.getIndex=function(e){if(!e||!e.parentNode)return-1;for(var t=0,n=e;n=n.previousSibling;)++t;return t},this.getIndexList=function(t){for(var n=t,r=[];n&&!e.isBody(n);)r.splice(0,0,e.getIndex(n)),n=n.parentNode;return r},this.getInnerText=function(t){var n="",r=function(e){return e?e.replace(/ +/gm," ").replace(/[\t]+/gm,"").replace(/[ ]+$/gm,"").replace(/^[ ]+/gm,"").replace(/\n+/gm,"\n").replace(/\n+$/,"").replace(/^\n+/,"").replace(/NEWLINE/gm,"\n"):""},o=function(t){var n=function(e){return!/[^\t\n\r ]/.test(e.nodeValue)},r=[];e.eachChild(t,function(e){return 3===e.nodeType&&n(e)&&r.push(e),e.hasChildNodes()},function(){});for(var o=0;o<r.length;o++)r[o].parentNode.removeChild(r[o])},i=function(e,t){if(e.style[t])return e.style[t];var n=e.currentStyle||e.ownerDocument.defaultView.getComputedStyle(e,null);return"SCRIPT"===e.tagName?"none":n[t]?"block"===n[t]&&"TD"===e.tagName?"feaux-inline":n[t]:"LI,P,TR".indexOf(e.tagName)>-1?"block":e.style[t]},a="table-row,block,list-item",l=function(e){var t=i(e,"display")||"feaux-inline";return a.indexOf(t)>-1},s=function e(t){if(/pre/.test(i(t,"whiteSpace")))return n+=t.innerHTML.replace(/\t/g," "),"";var r=i(t,"display");if("none"===r)return"";var o=l(t)?"\n":" ";n+=o;for(var a=0;a<t.childNodes.length;a++){var s=t.childNodes[a];3===s.nodeType&&(n+=s.nodeValue),s.childNodes.length&&e(s)}return n+=o},c=t.cloneNode(!0);return c.innerHTML=c.innerHTML.replace(/<br[\/]?>/gi,"NEWLINE"),o(c),r(s(c))},this.getLast=function(t){t||(t=n.body);for(var r=e.getLastDeepChild(t),o=e.canEdit(r);r&&!o;)r=e.getPreviousNodeCanEdit(r,!1),o=e.canEdit(r);return r},this.getLastDeepChild=function(e){if(!e)return null;for(var t=e;t&&t.childNodes&&t.childNodes.length>0;){for(t=t.childNodes[t.childNodes.length-1];t&&1===t.nodeType&&/^wiz_/gi.test(t.tagName);)t=t.previousSibling;t&&(e=t)}return e},this.getListA2B=function(t){function n(e,t){e.push(t)}var o=t.startDom,i=t.startOffset,a=t.endDom,l=t.endOffset,s=!!t.noSplit,c=void 0,d=!1,u=!1;1===o.nodeType&&i>0&&i<o.childNodes.length&&(o=o.childNodes[i],i=0),1===a.nodeType&&l>0&&l<a.childNodes.length&&(a=a.childNodes[l],l=0),o!==a&&0===l&&(a=e.getPreviousNode(a,!1,o),a||(a=o),l=e.isSelfClosingTag(a)?1:e.getEndOffset(a)),o===a&&i!==l?(c=3===o.nodeType,!c||o.parentNode.getAttribute(r.ATTR.SPAN_DELETE)||s?1===o.nodeType&&o.childNodes.length>0&&!e.isSelfClosingTag(o)&&(o=o.childNodes[i],a=a.childNodes[l-1],d=!0,u=!0):(o=e.splitRangeText(o,i,l,!1),a=o,d=!0,u=!0)):o!==a&&(3!==o.nodeType||o.parentNode.getAttribute(r.ATTR.SPAN_DELETE)||s?1===o.nodeType&&o.childNodes.length>0&&i<o.childNodes.length&&(o=o.childNodes[i],d=!0):(o=e.splitRangeText(o,i,null,!1),d=!0),3===a.nodeType&&l>0&&!a.parentNode.getAttribute(r.ATTR.SPAN_DELETE)&&!s?(a=e.splitRangeText(a,0,l,!0),u=!0):!e.isSelfClosingTag(a)&&1===a.nodeType&&l>0&&(a=e.getLastDeepChild(a.childNodes[l-1]),u=!0)),d&&(i=0),u&&(l=e.getEndOffset(a));var f=o,p=[];for(i===o.length&&(f=e.getNextNode(f,!1,a));f&&(o!==a||i!==l);){if(f===a||f===a.parentNode){n(p,a);break}if(e.isBody(f)){n(p,f);break}n(p,f),f=e.getNextNode(f,!1,a)}var g=e.getPreviousNode(p[0],!1,null),h=e.getNextNode(p[p.length-1],!1,null);g&&1===g.nodeType&&g.firstChild&&(g=g.firstChild),h&&1===h.nodeType&&h.lastChild&&(h=h.lastChild);var m=e.getEndOffset(g),v=0;return{list:p,startDom:o,startOffset:i,endDom:a,endOffset:l,startDomBak:g,startOffsetBak:m,endDomBak:h,endOffsetBak:v}},this.getListFromTagAndIndex=function(t,n,r,i){for(var a=[],l=n.querySelectorAll(t),s=0;s<l.length;s++){var c=l[s],d=e.getIndexList(c).join(".");o.compareVersion(d,r)>-1&&o.compareVersion(d,i)<1&&a.push(c)}return a},this.getNextBlock=function(t){var n=!1,r=void 0;if(e.isBlock(t,{includeBr:!0}))return t;for(;t&&(n&&t.childNodes&&t.childNodes.length>0?(t=t.childNodes[0],n=!1):(r=t.nextSibling,r?(t=r,n=!0):(t=t.parentNode,n=!1)),!e.isBlock(t,{includeBr:!0})););return t},this.getNextNode=function(t,n,r){function o(e){return e?n?e.nextElementSibling:e.nextSibling:null}function i(e){return e?n?e.firstElementChild:e.firstChild:null}var a=t;if(!t||t===r)return null;if(n=!!n,!o(t)&&!t.parentNode)return null;if(o(t))t=o(t);else for(;t.parentNode;){if(t=t.parentNode,e.isBody(t)){t=null;break}if(t===r)break;if(o(t)){t=o(t);break}}if(t===r)return t;var l=i(t);if(t&&l)for(;l&&(t=l,t!==r);)l=i(l);return t===a?null:t},this.getNextNodeCanEdit=function(t,n,r){for(t=e.getNextNode(t,n,r);t&&!e.canEdit(t);)t=e.getNextNode(t,n,r);return t},this.getOffset=function(e){var t={top:0,left:0};if(e.offsetParent)for(;e.offsetParent;)t.top+=e.offsetTop,t.left+=e.offsetLeft,e=e.offsetParent;else t.left+=e.offsetLeft,t.top+=e.offsetTop;return t},this.getPageScroll=function(){var e={left:0,top:0},t=n.scrollContainer,r=void 0,o=void 0;return t===n.doc.body?(r=n.win,o=n.doc):t===window.document.body&&(r=window,o=window.document),r&&"undefined"!=typeof r.pageYOffset?(e.left=r.pageXOffset,e.top=r.pageYOffset):o&&"undefined"!=typeof o.compatMode&&"BackCompat"!==o.compatMode?(e.left=o.documentElement.scrollLeft||o.body.scrollLeft,e.top=o.documentElement.scrollTop||o.body.scrollTop):t&&(e.left=t.scrollLeft,e.top=t.scrollTop),e},this.getParentByClass=function(t,n,r){return e.getParentByFilter(t,function(t){return e.hasClass(t,n)},r)},this.getParentByFilter=function(t,n,r){if(t&&!e.isBody(t))for(t=r?t:t.parentNode;t;){if(!n||n(t))return t;if(e.isBody(t))return null;t=t.parentNode}return null},this.getParentByTagName=function(t,n,r,i){return t?(n=o.listToMap(o.isArray(n)?n:[n]),e.getParentByFilter(t,function(e){return n[e.tagName]&&!(i&&i(e))},r)):null},this.getParentList=function(t){for(var o=[],i=t.parentNode;i&&i!==n.body&&!e.hasClass(i,r.CLASS.WIZ_BODY);)o.splice(0,0,i),i=i.parentNode;return o},this.getParentRoot=function(t){if(!t||0===t.length)return null;var r=void 0,o=void 0,i=[];for(o=1===t[0].nodeType?t[0]:t[0].parentNode;o&&!e.isBody(o);)i.push(o),o=o.parentNode;for(var a=1,l=t.length;a<l;a++)for(o=t[a];o;){if(e.isBody(o))return n.body;if(r=i.indexOf(o),r>-1){i.splice(0,r);break}o=o.parentNode}return 0===i.length?n.body:i[0]},this.getPosition=function(t){if(!t)return null;var n=e.getOffset(t);return{top:n.top,left:n.left,height:t.offsetHeight,width:t.offsetWidth}},this.getPrevBlock=function(t){var n=!1,r=void 0;if(e.isBlock(t,{includeBr:!0}))return t;for(;t&&(n&&t.childNodes&&t.childNodes.length>0?(t=t.childNodes[t.childNodes.length-1],n=!1):(r=t.previousSibling,r?(t=r,n=!0):(t=t.parentNode,n=!1)),!e.isBlock(t,{includeBr:!0})););return t},this.getPreviousNode=function(t,n,r){function o(e){return n?e.previousElementSibling:e.previousSibling}function i(e){return n?e.lastElementChild:e.lastChild}var a=t;if(!t||t===r)return null;if(n=!!n,o(t))t=o(t);else for(;t.parentNode;){if(t=t.parentNode,e.isBody(t)){t=null;break}if(t===r)break;if(o(t)){t=o(t);break}}if(!t)return null;if(t===r&&(3===t.nodeType||1===t.nodeType&&0===t.childNodes.length))return t;var l=void 0;if(l=i(t),t&&l)for(;l&&(t=l,t!==r||3!==t.nodeType&&(1!==t.nodeType||0!==t.childNodes.length));)l=i(l);return t===a?null:t},this.getPreviousNodeCanEdit=function(t,n,r){for(t=e.getPreviousNode(t,n,r);t&&!e.canEdit(t);)t=e.getPreviousNode(t,n,r);return t},this.getRootSizeRate=function(){if(!n.doc.getElementById(r.ID.WIZ_DEFAULT_STYLE))return 1;var t=n.win.getComputedStyle(n.body.parentNode),o=parseFloat(t.fontSize);return o/e.pt2px()/i},this.getScrollContainer=function(){var t=n.options.container||n.body;if(t===n.doc.body)return t;for(var r=t,o=n.body;r&&1===r.nodeType;){var i=n.win.getComputedStyle(r);if(/auto|scroll/i.test(i.overflowY))return r;e.isTag(r,["body"])&&(o=r),r=r.parentNode}return o},this.getSpanTop=function(t){if(!t)return t;for(var n=t;e.isTag(t,"span");)n=t,t=t.parentNode;return n},this.getTab=function(){var e=n.doc.createElement("span");return e.innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;",e.childNodes[0]},this.getWindowSize=function(){return{width:n.doc.documentElement.clientWidth,height:n.doc.documentElement.clientHeight}},this.getWizAmendParent=function(t){return e.getParentByFilter(t,function(e){return e&&1===e.nodeType&&(e.getAttribute(r.ATTR.SPAN_INSERT)||e.getAttribute(r.ATTR.SPAN_DELETE))},!0)},this.hasClass=function(e,t){return!(!e||1!==e.nodeType)&&(" "+e.className+" ").indexOf(" "+t+" ")>-1},this.hideCodeFromHtml=function(e){var t=/(<div [^<>]*)(CodeMirror-activeline-background|CodeMirror-cursors|CodeMirror-selected|CodeMirror-hscrollbar|CodeMirror-vscrollbar)([^<>]*>)/gi;e=e.replace(t,"$1 wiz-hide wiz_$2$3");var n=/(<span [^<>]*)(CodeMirror-matchingbracket)([^<>]*>)/gi;return e=e.replace(n,"$1$3")},this.hideTableFromHtml=function(e){var t=/(<[^<> ]*[^<>]* class[ ]*=[ ]*['"])([^'"]*)(['"])/gi,n=new RegExp(" ("+r.CLASS.SELECTED_CELL+"|"+r.CLASS.SELECTED_CELL_MULTI+")(?= )","ig"),o=e.replace(t,function(e,t,r,o){var i=r;return i=(" "+i+" ").replace(n,"").trim(),t+i+o});return o},this.html2Markdown=function(t,i){var a=void 0,l=void 0,s=void 0;if(i=i||{},3===t.nodeType)return s=t.nodeValue,i.isInA&&(s=s.replace(/([\[\]])/g,"\\$1")),void(t.nodeValue=s);if(!(1!==t.nodeType||i.noPureLink&&e.isTag(t,"a")&&0===t.childElementCount)){i.isInA||(i.isInA=e.isTag(t,"a")),l=t.childNodes;for(var c=l.length-1;c>=0;c--)e.html2Markdown(l[c],{isInA:i.isInA,noPureLink:i.noPureLink});if(!e.getParentByTagName(t,"table"))if(e.isTag(t,"a"))s=t.innerText,a=n.doc.createElement("span"),a.innerText="["+s+"]("+t.href+")",e.before(a,t),e.remove(t);else if(e.isTag(t,"img")&&!e.hasClass(t,r.CLASS.TODO_CHECKBOX))s=t.alt||o.getFileNameByUrl(t.src),a=n.doc.createElement("span"),a.innerText="!["+s+"]("+t.src+")",e.before(a,t),e.remove(t);else if(e.isTag(t,["h1","h2","h3","h4","h5","h6","li"]))s=t.innerText,a=n.doc.createElement("div"),a.innerText=s,e.before(a,t),e.remove(t);else if(e.isTag(t,["ol","ul"])){for(;t.lastChild;)e.after(t.lastChild,t);e.remove(t)}}},this.initDocHtml=function(e){var t=/<html[^<>]*>([\s\S]*)<\/html>/im,r=e.match(t),o=r?r[0]:null,i=/(<head( [^<>]*)?>)/i,a=/(<html( [^<>]*)?>)/i,l=/(<\/html>)/i,s=/(<body( [^<>]*)?>)/i,c=/(<\/body>)/i,d=/(<\!DOCTYPE( [^<>]*)?>)/i,u=/<head[^<>]*>([\s\S]*)<\/head>/im,f=/<[^<>]*>/i,p=/\r|\n/g,g=e.replace(d,"").replace(t,"").replace(f,"").replace(p,"").trim();if(g.length>0){var h=e.match(u),m="";h&&(m=h[0]),g=e.replace(a,"").replace(l,"").replace(s,"").replace(c,""),e="<!DOCTYPE html><html>"+m+"<body>"+g+"</body></html>"}var v="";return n.client.type.isWeb&&n.options.htmlBaseUrl&&(v='<base href="'+n.options.htmlBaseUrl+'" />'),o=e&&i.test(e)?e.replace(i,"$1"+v.escapeReplace()):e.replace(a,"$1<head>"+v.escapeReplace()+"</head>")},this.isBlock=function(t,n){if(!t)return!1;if(n&&n.includeBr&&e.isTag(t,"br"))return!0;if(e.isWizDom(t))return!0;var r=e.getComputedStyle(t,"display",!1);return!!r&&!/^(inline|inline-block|inline-table|none)$/i.test(r)},this.isBody=function(e){return e&&e===n.body},this.isEmptyDom=function(t){if(!t)return!1;if(3===t.nodeType){var n=t.nodeValue;return o.isEmpty(n)}if(1!==t.nodeType)return!0;if(0===t.childNodes.length)return e.isTag(t,"br")||!e.isSelfClosingTag(t);for(var r=0,i=t.childNodes.length;r<i;r++)if(!e.isEmptyDom(t.childNodes[r]))return!1;return!0},this.isFillChar=function(e,t){return 3===e.nodeType&&!e.nodeValue.replace(new RegExp((t?"^":"")+r.FILL_CHAR),"").length},this.isIncludeBr=function(e){return!(!e||1!==e.nodeType)&&(!!e.querySelector("br")||!!(n.browser.isIe&&e.innerHTML.indexOf("<br>")>-1))},this.isInWizBody=function(t){return t===n.body||!!e.getParentByFilter(t,function(e){return e===n.body},!0)},this.isParent=function(e,t){if(!e||!t||e===t)return!1;for(;e;)if(e=e.parentNode,e===t)return!0;return!1},this.isSameAttr=function(e,t){var n=e.attributes,i=t.attributes;if(n.length!==i.length)return!1;for(var a=0,l=n.length;a<l;a++){var s=n[a];if("style"!==s.name)if(s.name===r.ATTR.SPAN_TIMESTAMP){if(!o.isSameAmendTime(s.value,i[s.name].value))return!1}else if(!i[s.name]||i[s.name].value!==s.value)return!1}return!0},this.isSameSpan=function(t,n){return!!t&&!!n&&1===t.nodeType&&1===n.nodeType&&e.isTag(t,"span")&&t.tagName===n.tagName&&t.getAttribute(r.ATTR.SPAN)===r.ATTR.SPAN&&e.isSameStyle(t,n)&&e.isSameAttr(t,n)},this.isSameStyle=function(t,n){var r={},o={};e.appendStyle(t.getAttribute("style"),r),e.appendStyle(n.getAttribute("style"),o);for(var i in r)if(r.hasOwnProperty(i)){if(o[i]!==r[i])return!1;delete r[i],delete o[i]}for(var a in o)if(o.hasOwnProperty(a))return!1;return!0},this.isSelfClosingTag=function(e){var t=/^(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i;return e&&1===e.nodeType&&t.test(e.tagName)},this.isTag=function(e,t){if(o.isArray(t)||(t=[t]),!e||1!==e.nodeType)return!1;for(var n=e.tagName.toLowerCase(),r=0,i=t.length;r<i;r++)if(n===t[r].toLowerCase())return!0;return!1},this.isUsableTextNode=function(e){return 3===e.nodeType&&!o.isEmpty(e.nodeValue)},this.isVisible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},this.isWizDom=function(e){return 1===e.nodeType&&/^wiz_/i.test(e.tagName)},this.isWizSpan=function(e){return!!e&&!!e.getAttribute(r.ATTR.SPAN)},this.mergeAtoB=function(t,n,r){e.mergeStyleAToB(t,n,r),e.mergeAttrAtoB(t,n,r)},this.mergeAttrAtoB=function(t,n,r){if(1===t.nodeType&&1===n.nodeType){var o=t.attributes,i=n.attributes,a=void 0,l=void 0,s=void 0;for(a=0,l=o.length;a<l;a++)if(s=o[a],"style"!==s.name&&(!i[s.name]||r)){var c={};c[s.name]=s.value,e.attr(n,c)}}},this.mergeChildSpan=function(t,n){if(t&&1===t.nodeType){for(var o=0,i=t.children.length;o<i;o++)e.mergeChildSpan(t.children[o],n);e.mergeSiblingSpan(t,n);var a=t.children[0],l=void 0;if(a&&n.indexOf(a)<0&&1===t.childNodes.length&&t.getAttribute(r.ATTR.SPAN)===r.ATTR.SPAN&&a.getAttribute(r.ATTR.SPAN)===r.ATTR.SPAN)e.mergeChildToParent(t,a);else for(;a;)n.indexOf(a)<0&&n.indexOf(t)<0&&e.isSameSpan(t,a)?(l=a.previousElementSibling,e.mergeChildToParent(t,a),a=l?l.nextElementSibling:t.children[0]):a=a.nextElementSibling}},this.mergeChildToParent=function(t,n){if(t&&n&&n.parentNode===t){for(;n.childNodes.length>0;)e.before(n.childNodes[0],n);e.mergeAtoB(t,n,!1),e.mergeAtoB(n,t,!0),t.removeChild(n)}},this.mergeDomParent=function(t,r){var o=function(e,t,n){e=e.trim(),t=t?t.trim():"",t&&!n[e]&&(n[e]=t)},i=function(t,n){for(var r=t.getAttribute("style")||"",i=r.split(";"),a=0,l=i.length;a<l;a++)if(i[a].indexOf(":")>0){var s=i[a].split(":");o(s[0],s[1],n)}e.isTag(t,["strong","b"])?o("font-weight","bold",n):e.isTag(t,["i","em"])?o("font-style","italic",n):e.isTag(t,["u","ins"])&&o("text-decoration","underline",n)},a={},l=t;for(i(l,a);l&&(l=l.parentNode,l&&l!==r&&l!==n.body);)i(l,a);var s=[];for(var c in a)s.push(c+":"+a[c]);r.removeChild(r.firstChild),e.attr(t,{style:s.join(";")}),r.appendChild(t)},this.mergeSiblingSpan=function(t,n){var o=t.childNodes[0],i=void 0,a=void 0;if(o)for(;o;)if(i=o.nextSibling,i&&n.indexOf(i)<0&&n.indexOf(o)<0&&e.isSameSpan(o,i)){for(;i.childNodes.length;)a=i.childNodes[0],a&&(a.innerHTML||e.isTag(a,"br")||a.nodeValue&&a.nodeValue!==r.FILL_CHAR)?o.appendChild(a):i.removeChild(a);e.remove(i)}else o=i},this.mergeStyleAToB=function(t,n,r){if(1===t.nodeType&&1===n.nodeType){var o=t.getAttribute("style"),i=n.getAttribute("style")||"";if(o){var a={};r?(e.appendStyle(i,a),e.appendStyle(o,a)):(e.appendStyle(o,a),e.appendStyle(i,a));var l=[];for(var s in a)a.hasOwnProperty(s)&&"display"!==s&&l.push(s+":"+a[s]);e.attr(n,{style:l.join(";")})}}},this.modifyChildNodesStyle=function(t,n,r){if(t)for(var o=t.childNodes,i=!1,a=0;a<o.length;a++){var l=o[a];!i&&e.isUsableTextNode(l)?(i=!0,e.modifyStyle(t,n,r)):1===l.nodeType&&e.modifyChildNodesStyle(l,n,r)}},this.modifyNodeStyle=function(t,n,r,o){if(1===t.nodeType)if(e.isTag(t,"br")){var i=e.createSpan();e.before(i,t),i.appendChild(t),e.modifyStyle(i,n,r)}else e.isSelfClosingTag(t)||e.isEmptyDom(t)?e.modifyStyle(t,n,r):e.modifyChildNodesStyle(t,n,r);else e.isUsableTextNode(t)&&(t=e.splitRangeText(t,null,null,o),e.modifyStyle(t,n,r));return t},this.modifyNodesStyle=function(t,n,r){if(0!==t.length)for(var o=0,i=t.length;o<i;o++){var a=t[o];t[o]=e.modifyNodeStyle(a,n,r,o===i-1)}},this.modifyNodesStyleAndClear=function(t,n,r,o){e.modifyNodesStyle(t,n,r);for(var i=[],a=void 0,l=void 0,s=0,c=t.length;s<c;s++)a=t[s].parentNode,a&&i.indexOf(a)<0&&i.push(a);a=e.getParentRoot(i),l=e.getWizAmendParent(a),a=l?l.parentNode:a,e.clearChildSpan(a,o)},this.modifyStyle=function(t,n,o){var i=e.isSelfClosingTag(t),a=e.hasClass(t,r.CLASS.TODO_CHECKBOX);if(!(a||o&&o[r.ATTR.SPAN_INSERT]&&i)){var l=t,s=function(t){if(t){var n=e.createSpan();for(e.attr(n,{style:t.getAttribute("style")||""}),e.attr(t,{style:null});t.firstChild;)n.insertBefore(t.firstChild,null);t.insertBefore(n,null)}};if(o&&(o[r.ATTR.SPAN_INSERT]||o[r.ATTR.SPAN_DELETE])&&(l=e.getWizAmendParent(t),l?t=null:l=t),t&&!i&&(!e.isTag(t,"span")||t.getAttribute(r.ATTR.SPAN)!==r.ATTR.SPAN))for(l=e.createSpan(),t.insertBefore(l,null);t.childNodes.length>1;)l.insertBefore(t.childNodes[0],null);var c=void 0,d=void 0,u=[];for(c in n)n.hasOwnProperty(c)&&(d=n[c],d||u.push(c));var f=l,p=void 0,g=l;if(u.length>0){for(;f&&!e.isBlock(f)&&!e.hasClass(f,r.CLASS.TODO_MAIN);)e.isTag(f,"a")&&(p=f),g=f,f=g.parentNode;p?p===g?(s(p),e.splitDomSingle(p.firstChild,l)):(e.splitDomSingle(g,p),s(p),e.splitDomSingle(p.firstChild,l)):e.splitDomSingle(g,l)}e.css(l,n),e.attr(l,o)}},this.moveOutFromTableContainer=function(t){if(t){var n=function(t,n){if(t&&n){var o=t===n,i=void 0,a=void 0,l=void 0,s=void 0,c=!1,d=!1;for(i=n.childNodes,l=t,s=i.length-1;s>=0;s--)a=i[s],1!==a.nodeType||!(o&&e.hasClass(a,r.CLASS.TABLE_BODY)||!o&&e.isTag(a,["table",r.TAG.TMP_TAG]))||d?e.hasClass(a,r.CLASS.TABLE_TOOLS)||(e.before(a,l,!c),c&&(l=a)):(e.hasClass(a,r.CLASS.TABLE_BODY)||e.isTag(a,"table"))&&(c=!0,d=!0);0===n.childNodes.length&&e.remove(t)}};n(t,t),n(t,t.querySelector("."+r.CLASS.TABLE_BODY))}},this.packageChildNodesByDiv=function(t){if(1===t.childNodes.length&&e.isBlock(t.firstChild))return t.firstChild;for(var r=n.doc.createElement("div");t.firstChild;)r.appendChild(t.firstChild);return t.appendChild(r),r},this.peelDom=function(t,n){if(t&&3!==t.nodeType){var r={start:null,end:null},o=void 0,i=void 0,a=void 0;for(o=t.childNodes,a=o.length-1;a>=0;a--)i=o[a],n&&!n(i)||(e.after(i,t),r.start?r.end=i:(r.start=i,r.end=i));return e.remove(t),r}},this.peelTag=function(t){var r=n.body.querySelectorAll(t),o=void 0,i=void 0;for(o=r.length-1;o>=0;o--){for(i=r[o];i.firstChild;)e.before(i.firstChild,i);e.remove(i)}},this.peelTagFromHtml=function(e,t){var n=new RegExp("<"+t+"( [^>]*)?>|</"+t+">","ig");return e.replace(n,"")},this.pt2px=function(){var t=void 0,r=document.createElement("span");return r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.fontSize=i+"pt",n.body.appendChild(r),t=n.win.getComputedStyle(r).fontSize,t=parseInt(t,10)/i,n.body.removeChild(r),e.pt2px=function(){return t},t},this.remove=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},this.removeClass=function(e,t){if(e){e.nodeType&&(e=[e]),o.isArray(t)||(t=[t]);for(var n=e.length-1;n>=0;n--){var r=e[n];if(1===r.nodeType){r.className=" "+r.className+" ";for(var i=t.length;i>=0;i--){var a=t[i];r.className=r.className.replace(" "+a+" "," ")}r.className=r.className.trim()}}}},this.removeByName=function(t){for(var r=n.doc.getElementsByName(t),o=r.length-1;o>=0;o--){var i=r[o];e.remove(i)}},this.removeByTag=function(t){for(var r=n.doc.getElementsByTagName(t),o=r.length-1;o>=0;o--){var i=r[o];e.remove(i)}},this.removeEmptyParent=function(t){if(t){var r=void 0;e.isEmptyDom(t)&&(t===n.body?t.innerHTML="<div><br/></div>":e.isTag(t,["td","th"])?t.innerHTML="<br/>":(r=t.parentNode,r&&(r.removeChild(t),e.removeEmptyParent(r))))}},this.removeListFilter=function(e,t){var n=[],r=void 0;if(!e||!t)return n;for(var o=e.length-1;o>=0;o--)r=e[o],t(r)&&n.unshift(e.splice(o,1)[0]);return n},this.removeStyleByNameFromHtml=function(e,t){var n="("+t.join("|")+")",r=new RegExp("<style( ([^<>])+[ ]+|[ ]+)name *= *(['\"])"+n+"\\3[^<>]*>[^<]*</style>","ig"),o=new RegExp("<link( ([^<>])+[ ]+|[ ]+)name *= *(['\"])"+n+"\\3[^<>]*>","ig");return e.replace(r,"").replace(o,"")},this.replaceTagName=function(t,o){if(e.isTag(t,o))return t;var i=e.hasClass(t,r.CLASS.TODO_LAYER),a=n.doc.createElement(o);for(e.after(a,t);t.firstChild;)a.appendChild(t.firstChild);return i&&(t.className&&(a.className=t.className),t.id&&(a.id=t.id)),e.remove(t),a},this.removeByTagFromHtml=function(e,t){var n=new RegExp("<"+t+"( [^>]*)?>((?!</"+t+">).|\r|\n)*?</"+t+">","ig");return e.replace(n,"")},this.scrollIntoView=function(e){e&&(e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():e.scrollIntoView&&!n.browser.isIe&&e.scrollIntoView(!0))},this.search=function(e,t,n){var r=e.querySelectorAll(t),o=void 0,i=void 0,a=void 0;for(n=n?n:[],o=0,i=r.length;o<i;o++)a=r[o],n.push(a)},this.setContenteditable=function(t,o){if(!t&&n.win.WizTemplate?n.win.WizTemplate.setContenteditable(o):(t||(t=n.body),e.attr(t,{contenteditable:o?"true":"false"})),t===n.body)for(var i=n.body.querySelectorAll("."+r.CLASS.TABLE_BODY),a=i.length-1;a>=0;a--){var l=i[a];e.checkInTmp(l)||e.attr(l,{contenteditable:o?"true":"false"})}},this.setLayout=function(t){var o=t.layerObj,i=t.target,a=t.placement,l=!!t.isFixed,s=!!t.isReverse,c=t.space||0,d=e.getPosition(o),u=i.nodeType?e.getPosition(i):i,f=e.getPageScroll(),p=n.doc.documentElement.clientWidth,g=n.doc.documentElement.clientHeight,h=n.win.getComputedStyle(n.doc.body,null)["margin-top"],m="50%",v="30%",b=0,_=-d.width/2,C=void 0,y=void 0,E=void 0,T=void 0,S=void 0;return h&&(S=parseInt(h),isNaN(S)&&(S=0)),l?(C=0,y=p-5,E=S,T=g):(C=0+f.left,y=p+f.left-5,E=S+(f.top<=S?0:Math.abs(f.top-S)),T=g+f.top),u&&a&&(b=0,_=0,a===r.TYPE.PLACEMENT.TOP||a===r.TYPE.PLACEMENT.TOP_START||a===r.TYPE.PLACEMENT.TOP_END?v=u.top-d.height-c:a===r.TYPE.PLACEMENT.BOTTOM||a===r.TYPE.PLACEMENT.BOTTOM_START||a===r.TYPE.PLACEMENT.BOTTOM_END?v=u.top+u.height+c:a===r.TYPE.PLACEMENT.LEFT_START||a===r.TYPE.PLACEMENT.LEFT_END?m=u.left-d.width-c:a!==r.TYPE.PLACEMENT.RIGHT_START&&a!==r.TYPE.PLACEMENT.RIGHT_END||(m=u.left+u.width+c),a===r.TYPE.PLACEMENT.TOP||a===r.TYPE.PLACEMENT.BOTTOM?(m=u.left+u.width/2-d.width/2,l&&(m-=f.left)):a===r.TYPE.PLACEMENT.TOP_START||a===r.TYPE.PLACEMENT.BOTTOM_START?(m=u.left,l&&(m-=f.left)):a===r.TYPE.PLACEMENT.TOP_END||a===r.TYPE.PLACEMENT.BOTTOM_END?(m=u.left+u.width-d.width,l&&(m-=f.left)):a===r.TYPE.PLACEMENT.LEFT_START||a===r.TYPE.PLACEMENT.RIGHT_START?(v=u.top,l&&(v-=f.top)):a!==r.TYPE.PLACEMENT.LEFT_END&&a!==r.TYPE.PLACEMENT.RIGHT_END||(v=u.top+u.height-d.height,l&&(v-=f.top)),m+d.width>y&&(m=y-d.width),m<C&&(m=C),s&&v+d.height>T&&(v=u.top-d.height-c),v+d.height>T&&(v=T-d.height),s&&v<E&&(v=u.top+u.height+c),(v<E||v+d.height>T)&&(v=E)),e.css(o,{left:m+"px",top:v+"px","margin-top":b+"px","margin-left":_+"px"}),{top:v,left:m,width:d.width,height:d.height,targetTop:u.top,targetLeft:u.left,targetWidth:u.width,targetHeight:u.height}},this.setPageScrollLeft=function(e){var t=n.scrollContainer,r=void 0;t===n.doc.body?r=n.doc:t===window.document.body&&(r=window.document),r&&"undefined"!=typeof r.compatMode&&"BackCompat"!==r.compatMode?(r.body.scrollLeft=e,r.documentElement.scrollLeft=e):t&&(t.scrollLeft=e)},this.setPageScrollTop=function(e){var t=n.scrollContainer,r=void 0;t===n.doc.body?r=n.doc:t===window.document.body&&(r=window.document),setTimeout(function(){r&&"undefined"!=typeof r.compatMode&&"BackCompat"!==r.compatMode?(r.body.scrollTop=e,r.documentElement.scrollTop=e):t&&(t.scrollTop=e)},0)},this.setPageScrollTopTimer=null,this.setPageScrollTopAni=function(t){function n(e,t,n,r){return-n*(e/=r)*(e-2)+t}e.setPageScrollTopTimer&&clearTimeout(e.setPageScrollTopTimer);var r=(new Date).valueOf(),o=e.getPageScroll(),i=t-o.top,a=250,l=o.top;if(i<10)return void e.setPageScrollTop(t);var s=function s(){var c=e.getPageScroll();if(!(Math.abs(c.top-l)>30)){var d=(new Date).valueOf()-r;d>a&&(d=a);var u=n(d,o.top,i,a);e.setPageScrollTop(u),(i>0&&u<t||i<0&&u>t)&&(l=u,e.setPageScrollTopTimer=setTimeout(s,20))}};s()},this.setTextarea=function(e,t){var n=void 0===e.textContent?"innerText":"textContent";return t?void(e[n]=o.replaceSpecialChar(t)):void(e.value!==e[n]&&(e[n]=e.value))},this.splitDomAfterSub=function(t,n){var r=void 0,o=void 0;if(n.nextSibling)o=n.nextSibling;else for(r=n.parentNode;r&&r!==t&&!(o=r.nextSibling);)r=r.parentNode;return o&&e.splitDomBeforeSub(t,o),t},this.splitDomBeforeSub=function(e,t){function n(e,t){for(var n=e.parentNode,r=e.cloneNode(!1),o=void 0;t;)o=t.nextSibling,r.appendChild(t),t=o;return n.insertBefore(r,e.nextSibling),r}if(!e||!t)return e;for(var r=[t],o=t.parentNode,i=o.firstChild===t;o&&(r.push(o),i&&o.parentNode.firstChild!==o&&(i=!1),o!==e);)o=o.parentNode;if(i)return e;if(r[r.length-1]!==e)return e;for(;r.length>1;)r[1]=n(r[1],r[0]),r.splice(0,1);return r[0]},this.splitDomSingle=function(t,n){if(t&&n&&1===t.nodeType&&n===t.firstChild&&1===t.childNodes.length)return t;var r=e.splitDomBeforeSub(t,n);return r=e.splitDomAfterSub(r,n)},this.splitRangeText=function(t,r,o,i){if(!e.isUsableTextNode(t))return t;var a=void 0,l=void 0,s=void 0,c=t.nodeValue;return a=t.parentNode,l=e.createSpan(),!r&&!o||0===r&&o===t.nodeValue.length?a.childNodes.length>1||e.isTag(a,["td","th"])?(i?a.insertBefore(l,t):a.insertBefore(l,t.nextSibling),l.appendChild(t)):l=a:0===r?(l.textContent=c.substring(r,o),
a.insertBefore(l,t),t.nodeValue=c.substring(o)):o&&o!==t.nodeValue.length?(s=n.doc.createTextNode(c.substring(o)),l.textContent=c.substring(r,o),a.insertBefore(l,t.nextSibling),a.insertBefore(s,l.nextSibling),t.nodeValue=c.substring(0,r)):(l.textContent=c.substring(r),a.insertBefore(l,t.nextSibling),t.nodeValue=c.substring(0,r)),l}};t.exports=a},{"../config/const":391,"../libs/utils":402}],343:[function(e,t,n){"use strict";var r=e("../config/const"),o=(e("../libs/utils"),["background","background-color","color","font-family","font-size","font-weight","font-style","text-decoration","text-align"]),i=["h1","h2","h3","h4","h5","h6"],a=["sub","sup"],l=["b","i","u","strike"],s={b:"bold",div:"formatBlock",h1:"formatBlock",h2:"formatBlock",h3:"formatBlock",h4:"formatBlock",h5:"formatBlock",h6:"formatBlock",i:"italic",strike:"strikeThrough",sub:"subscript",sup:"superscript",u:"underline","text-align-center":"justifyCenter","text-align-justify":"justifyFull","text-align-left":"JustifyLeft","text-align-right":"JustifyRight"},c=function(){var e=this,t=null,n=null,c=null,d=null,u=null,f=null,p=null,g=null,h=null,m=null;this.initCore=function(e){t=e,n=t.env,c=t.require.codeUtils,d=t.require.commandExtend,u=t.require.domUtils,f=t.require.historyUtils,p=t.require.rangeUtils,g=t.require.tableCore,h=t.require.tableZone,m=t.require.wizStyle};var v=!1,b=void 0,_=function(e,t,r,o){for(var i=n.win.getComputedStyle(e),a=r.length-1;a>=0;a--){var l=r[a],s=t.style[l];!s&&"color"===l&&u.isTag(t,"font")&&(s=t.getAttribute(l)),s&&u.getFontSizeRem(s)===u.getFontSizeRem(i[l])&&(r.splice(a,1),o[l]=s)}},C=function(e){return"h"===e.charAt(0)||"div"===e},y=function(e){return/sub|sup/i.test(e)},E=function(e){for(var t=o.concat(),r={},s=i.concat(a,l),c={},d=void 0,f=void 0,p=!1,g=!1,m=!1,v=!1,E=1===e.nodeType?e:e.parentNode,T=E;T&&T!==n.body;)_(E,T,t,r),T=T.parentNode;for(var S=t.length-1;S>=0;S--)r[t[S]]=null;for(b.style=r,T=e;T;)T=u.getParentByTagName(T,s,!0),T&&(d=T.tagName.toLowerCase(),f={name:d,enabled:!0},C(d)?(b.tagList.splice(0,0,f),p=!0):y(d)?(b.tagList.push(f),g=!0):(b.tagList.push(f),/^i$/i.test(d)?m=!0:/^b$/i.test(d)&&(v=!0)),c[d]=1,T=T.parentNode);p||b.tagList.splice(0,0,{name:"div",enabled:!0}),g||b.tagList.push({name:"sub",enabled:!1});for(var A=0;A<s.length;A++)d=s[A],C(d)||y(d)||c[d]||b.tagList.push({name:d,enabled:!1});var O=h.getZone();O.range?delete b.style["text-align"]:(d=b.style["text-align"]?"text-align-"+b.style["text-align"]:"text-align-left",delete b.style["text-align"],b.tagList.push({name:d,enabled:!0}))},T=function(){b={style:null,tagList:[]}},S={bind:function(){S.unbind(),n.event.add(r.EVENT.ON_KEY_DOWN,S.handler.onKeyDown),n.event.add(r.EVENT.ON_MOUSE_UP,S.handler.onMouseUp)},unbind:function(){n.event.remove(r.EVENT.ON_KEY_DOWN,S.handler.onKeyDown),n.event.remove(r.EVENT.ON_MOUSE_UP,S.handler.onMouseUp)},handler:{onKeyDown:function(t){var n=t.keyCode||t.which;27===n&&e.off()},onMouseUp:function(){if(b.style){f.saveSnap(!1);var t=void 0,n=void 0,r=void 0,o=h.getZone();o.range&&(delete b.tagList["text-align-left"],delete b.tagList["text-align-right"]);for(var i=0;i<b.tagList.length;i++){var a=b.tagList[i],l=s[a.name];if(C(a.name))d.execCommand(l,!1,a.name);else if(y(a.name))a.enabled?d.execCommand(l,!1):d.clearSubSup();else{var c=d.queryCommandState(l);a.enabled&&!c?d.execCommand(l,!1):!a.enabled&&c?d.execCommand(l,!1):(d.execCommand(l,!1),t=p.getRange(),t&&(n=p.getRangeDetail(t.startContainer,t.startOffset),r=p.getRangeDetail(t.endContainer,t.endOffset)),d.execCommand(l,!1),t&&p.setRange(n.container,n.offset,r.container,r.offset))}}g.modifySelectionDom(b.style,null)||p.modifySelectionDom(b.style,null),v||e.init()}}}};this.init=function(){e.off()},this.on=function(t){if(T(),v=!!t,0===e.status())return 0;var o=p.getRange(),i=h.getZone(),a=void 0,l=0;return o?(a=p.getRangeDetail(o.startContainer,o.startOffset),l=a.offset,a=a.container):a=i.start.cell,a=u.getFirstDeepChild(a),E(a,l),S.bind(),m.insertStyle({id:r.ID.FORMAT_PAINTER_STYLE,name:r.NAME.TMP_STYLE},'body {cursor:url("'+n.dependency.files.cursor.formatPainter+'"), auto;}'),2},this.off=function(){return T(),m.removeStyleById(r.ID.FORMAT_PAINTER_STYLE),S.unbind(),e.status()},this.status=function(){if(n.readonly||n.client.type.isPhone||n.client.type.isPad)return 0;var e=p.getRange(),t=h.getZone();return!e&&!t.range||t.active?0:e&&c&&c.getContainerFromChild(e.startContainer)?0:b&&b.style?2:1}};t.exports=c},{"../config/const":391,"../libs/utils":402}],344:[function(e,t,n){"use strict";var r=e("../config/const"),o=e("../libs/utils"),i="yellow",a="#FF9632",l=function(){var e=this,t=null,n=null,l=null,s=null,c=null,d=null;this.initCore=function(e){t=e,n=t.env,l=t.require.codeUtils,s=t.require.domUtils,c=t.require.readerEvent,d=t.require.rangeUtils};var u=!1,f=void 0,p=void 0,g=[],h={searching:"cm-searching"},m=function(e,t){t&&(p=-1,f=null,g=[]),u=!1,t&&n.win.find(e,!1,!1,!0)&&(f=v(e)),d.setRange(n.body,n.body.childNodes.length);for(var o=1;o++<101&&n.win.find(e,!1,!0);)v(e);u=!!n.body.querySelector(r.TAG.TMP_HIGHLIGHT_TAG)||!!n.body.querySelector(r.TAG.CODE_MIRROR+" ."+h.searching),u&&!t&&d.setRange(document.body,0)},v=function(e){var t=void 0,n=void 0,o=void 0;if(t=d.getRange()){if(t&&s.getParentByTagName(t.startContainer,r.TAG.TMP_HIGHLIGHT_TAG))return t.collapse(!0),null;var a=l&&l.getContainerFromChild(t.startContainer);if(a)a.state&&a.state.query===e||(l.highlight.search(a,e),f||(n=a.querySelector("."+h.searching)));else{for(n=document.createElement(r.TAG.TMP_HIGHLIGHT_TAG),s.addClass(n,h.searching),n.style.backgroundColor=i,o=t.extractContents();o.firstChild;)n.appendChild(o.firstChild);s.isEmptyDom(n)||t.insertNode(n)}return n}},b=function(){if(g=n.body.querySelectorAll("."+h.searching),0!==g.length){for(var e=g.length-1;e>=0;e--){var t=g[e];if(t===f)return void(p=e)}p=0,f=g[0]}},_=function(e){var t=p;if(0!==g.length){if(e>=g.length?e=0:e<0&&(e=g.length-1),e===t)return void(f.style.backgroundColor=a);g[t].style.backgroundColor=i,p=e,f=g[p],f.style.backgroundColor=a,s.scrollIntoView(f)}};this.on=function(t,r){if(e.off(),!t)return!1;o.isArray(t)||(t=[t]),t.length>1&&(r=!1);for(var i=s.getPageScroll(),a=0,l=t.length;a<l;a++)m(t[a],r);return b(),r?_(p):!c.isScrolled&&g.length>0&&(n.client.type.isWin||n.client.type.isMac||n.client.type.isLinux)?s.scrollIntoView(g[0]):s.setPageScrollTop(i.top),u},this.off=function(){s.peelTag(r.TAG.TMP_HIGHLIGHT_TAG),l&&l.highlight.clearAll()},this.next=function(){_(p+1)},this.previous=function(){_(p-1)}};t.exports=l},{"../config/const":391,"../libs/utils":402}],345:[function(e,t,n){"use strict";var r=e("../config/const"),o=e("../libs/utils"),i=function(e,t){var n=null,r=e.querySelector("#"+t);return r&&r.codeMirror&&(n=r.codeMirror),n},a=function(e){return e.querySelectorAll("."+r.CLASS.CODE_CONTAINER)},l=function(){var e=this,t=null,n=null,l=null,s=null;this.initCore=function(e){t=e,n=t.env,l=t.require.domUtils,s=t.require.rangeUtils};var c=100,d={},u=function(){var e=a(n.body),t=void 0,r=void 0,o=void 0;for(o=e.length-1;o>=0;o--)t=e[o],r=t.codeMirror,r&&(d[t.id]=r.getDoc().copy(!0))},f={bind:function(){f.unbind(),n.event.add(r.EVENT.ON_KEY_DOWN,f.onKeyDown)},unbind:function(){n.event.remove(r.EVENT.ON_KEY_DOWN,f.onKeyDown)},onKeyDown:function(t){var n=t.keyCode||t.which;return t.ctrlKey&&90===n||t.metaKey&&90===n&&!t.shiftKey?(e.undo(),void o.stopEvent(t)):void((t.ctrlKey&&89===n||t.metaKey&&89===n||t.metaKey&&90===n&&t.shiftKey)&&(e.redo(),o.stopEvent(t)))}};this.enable=!1,this.callback=[],this.stack=[],this.stackIndex=0,this.init=function(){e.callback=[],e.stack=[],e.stackIndex=0},this.addCallback=function(t){if(t&&"function"==typeof t){for(var n=0,r=e.callback.length;n<r;n++)if(e.callback[n]===t)return;e.callback.push(t)}},this.applyCallback=function(){for(var t=e.getUndoState(),n=0,r=e.callback.length;n<r;n++)e.callback[n](t)},this.canSave=function(e,t){function n(e,t){if(e.isCollapsed!==t.isCollapsed)return 0;if(e.start.length!==t.start.length||e.end.length!==t.end.length)return 0;var n=r(e.start,t.start);return n<1?n:n=r(e.end,t.end)}function r(e,t){var n=1,r=void 0,o=void 0;for(r=0,o=e.length-1;r<o;r++)if(e[r]!==t[r]){n=0;break}return n&&e[o]<t[o]&&(n=-1),n}var o={add:!1,replace:!1,direct:0};return(e.content.length!==t.content.length||e.content.localeCompare(t.content))&&(o.direct=n(e.focus,t.focus),0===o.direct||o.direct!==t.direct||!/^\s*$/g.test(e.focus.lastChar+t.focus.lastChar)&&/\s/.test(t.focus.lastChar)||Math.abs(e.focus.startOffset-t.focus.startOffset)>20?o.add=!0:o.replace=!0),o},this.getCodeMirrorDoc=function(e){var t=d[e]||null;return t&&(t=t.copy(!0)),t},this.getUndoState=function(){return{undoCount:e.stack.length,undoIndex:e.stackIndex}},this.redo=function(){if(e.enable&&!(e.stackIndex>=e.stack.length-1)){var t=e.stack[++e.stackIndex];t.type===r.HISTORY.TYPE.CODE_MIRROR?e.restoreCodeMirror("redo",t):(u(),e.restoreSnap(t.snap)),n.event.call(r.EVENT.AFTER_RESTORE_HISTORY,{type:t.type}),e.applyCallback(),t.type===r.HISTORY.TYPE.COMMON&&l.focus()}},this.removeCallback=function(t){for(var n=0,r=e.callback.length;n<r;n++)if(e.callback[n]===t)return void e.callback.splice(n,1)},this.restoreCodeMirror=function(t,r){if(e.enable&&r){var o=void 0,a=void 0;o="undo"===t?r.nextChange.cmContainerId:r.cmContainerId,a=i(n.body,o),a&&("redo"===t?a.redo():a.undo())}},this.restoreSnap=function(t){if(e.enable&&t){var r=void 0,o=void 0;n.body.innerHTML=t.content;try{r=l.getFromIndexList(t.focus.start),s.setRange(r.dom,r.offset),t.focus.isCollapsed?s.setRange(r.dom,r.offset,r.dom,r.offset):(o=l.getFromIndexList(t.focus.end),s.setRange(r.dom,r.offset,o.dom,o.offset)),s.caretFocus()}catch(e){console.error(e)}}},this.saveSnap=function(t,o){if(e.enable&&(!n.compositionStart||o&&o.type!==r.HISTORY.TYPE.COMMON)){n.event.call(r.EVENT.BEFORE_SAVESNAP);var a={type:r.HISTORY.TYPE.COMMON};o&&o.type===r.HISTORY.TYPE.CODE_MIRROR&&(a.type=r.HISTORY.TYPE.CODE_MIRROR,a.cmContainerId=o.cmContainerId);var l={nextChange:a},s=void 0,d=void 0,u=void 0,f=void 0,p=void 0,g=void 0,h=void 0;if(p=e.stackIndex>0?e.stack[e.stackIndex-1]:null,p&&p.nextChange.type===r.HISTORY.TYPE.CODE_MIRROR){if(f=p.cmContainerId,u=p.nextChange.cmContainerId,l.type=r.HISTORY.TYPE.CODE_MIRROR,l.cmContainerId=u,d=i(n.body,u)){if(e.stackIndex>=0&&e.stack.splice(e.stackIndex,e.stack.length-e.stackIndex),l.nextChange.type===r.HISTORY.TYPE.COMMON&&(l.snap=e.snapshot()),l.cmHistory=d.historySize(),f===u&&p.cmHistory.undo===l.cmHistory.undo&&p.cmHistory.redo===l.cmHistory.redo)return p.nextChange=l.nextChange,l.snap&&(p.snap=l.snap),void(t&&e.stackIndex--);e.stack.push(l),t||e.stackIndex++}}else l.type=r.HISTORY.TYPE.COMMON,s={add:!0,replace:!1,direct:0},g=e.snapshot(),!t&&p&&p.type===r.HISTORY.TYPE.COMMON&&(s=e.canSave(g,p.snap)),(s.add||s.replace)&&(g.direct=s.direct,e.stackIndex>=0&&e.stack.splice(e.stackIndex,e.stack.length-e.stackIndex),s.add?(l.snap=g,e.stack.push(l),t||e.stackIndex++):s.replace&&(h=p.snap,g.focus.startOffset=h.focus.startOffset,p.snap=g));e.stack.length>c&&(e.stack.shift(),e.stackIndex--),e.applyCallback()}},this.snapshot=function(){var e=s.getRange(),t=n.body.innerHTML,r={isCollapsed:!0,start:[],end:[],lastChar:null,startOffset:-1},o={content:t,focus:r};return e?(r.start=l.getIndexList(e.startContainer),r.start.push(e.startOffset),r.isCollapsed=e.collapsed,e.collapsed?3===e.startContainer.nodeType&&e.startOffset>0&&(r.lastChar=e.startContainer.nodeValue.charAt(e.startOffset-1),r.startOffset=e.startOffset):(r.end=l.getIndexList(e.endContainer),r.end.push(e.endOffset)),o):(r.start.push(0),o)},this.start=function(t,n){t&&t>0&&(c=t),e.enable=!0,f.bind(),e.addCallback(n),e.applyCallback()},this.stop=function(){e.enable=!1,e.init(),f.unbind()},this.undo=function(){if(!e.enable||e.stackIndex<=0||0===e.stack.length)return void(e.stackIndex=0);e.stackIndex>=e.stack.length&&e.saveSnap(!0);var t=e.stack[--e.stackIndex];t.nextChange.type===r.HISTORY.TYPE.CODE_MIRROR?e.restoreCodeMirror("undo",t):(u(),e.restoreSnap(t.snap)),n.event.call(r.EVENT.AFTER_RESTORE_HISTORY,{type:t.nextChange.type}),e.applyCallback(),t.type===r.HISTORY.TYPE.COMMON&&l.focus()}};t.exports=l},{"../config/const":391,"../libs/utils":402}],346:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=e("../config/const"),i=e("../libs/utils"),a=e("../libs/Markdown.Converter"),l=e("../libs/Markdown.Extra"),s=e("../libs/dependLoader"),c=e("../libs/LoadController"),d=e("../libs/xssUtils"),u=new c,f="#wizToc",p=function(e){var t=this;e=e||{};var n=null,c=null,p=null,g=null,h=null,m=void 0,v=void 0,b=void 0,_=void 0;this.initCore=function(r){n=r,c=n.env,p=n.require.codeCore,g=n.require.codeUtils,h=n.require.domUtils;var o=n.require.MathJaxRender;o&&(y=new o(e),y.initCore(n)),t.init()};var C=!1,y=void 0,E="",T=!1,S=function(){m.prettyPrint&&m.prettyPrint(),N.tocRender(),N.flowRender(),N.sequenceRender()},A=function(){var e=v.createElement("span");e.innerHTML="<math>a</math>",e.style.opacity="0",b.appendChild(e);var t=e.innerText;if(h.remove(e),!t)for(var n=v.getElementsByTagName("math"),r=void 0,o=void 0,i=void 0;n.length>0;)r=n[0],o=r.parentNode,i=v.createElement("span"),i.innerText=r.textContent,o.insertBefore(i,r),o.removeChild(r)},O=function(e){u.addCallback(v,e),u.getLoading(v)||(m.$&&m.Diagram&&m.flowchart&&m.prettyPrint?u.callback(v):(u.setLoading(v,!0),s.loadJs(v,s.getDependencyFiles(c.dependency,"js","markdown"),function(){u.setLoading(v,!1),u.callback(v)})))},x=function(e){function t(){c.options.reader.callback.markdown&&c.options.reader.callback.markdown(),C&&y?y.do({container:b},e):e()}s.loadCss(v,s.getDependencyFiles(c.dependency,"css","markdown")),N.markdownConvert(),S(),p?p.on({body:b,readOnly:!0},t):t()},N={getBodyTxt:function(e){A();var t=e.innerText;return t?"\n"===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)):t=h.getInnerText(e),t=t.replace(String.fromCharCode(65279),""),t=t.replace(/\u00a0/g," ")},markdownConvert:function(){var e=/(\$\$?|\\(?:begin|end){[a-z]*\*?}|\\[\\{}$]|[{}]|(?:\n\s*)+|@@\d+@@)/i,n=void 0,r=void 0,i=void 0,s=void 0,d=void 0,u=void 0,f=!1,p=m.$(b);p.addClass(o.CLASS.MARKDOWN_BODY);var g=new a.Converter({nonAsciiLetters:!0,asteriskIntraWordEmphasis:!0,imgSrcFilter:function(e){return c.options.reader.markdownPlugIn.imgSrcFilter?c.options.reader.markdownPlugIn.imgSrcFilter(e):e},customBlockGamut:function(e){return c.options.reader.markdownPlugIn.customBlockGamut?c.options.reader.markdownPlugIn.customBlockGamut(e):e}}),h=function(e){return e=e.replace(/@@(\d+)@@/g,function(e,t){return d[t]}),d=null,e},v=function(e,t){var o=s.slice(e,t+1).join("");if(!o.match(/`/i)){for(o=o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");t>e;)s[t]="",t--;s[e]="@@"+d.length+"@@",d.push(o)}n=r=i=null},_=function(t){n=r=i=null,d=[],s=t.replace(/\r\n?/g,"\n").split(e);for(var o=void 0,a=1,l=s.length;a<l;a+=2)o=s[a],f&&o.match(/[\n`]/)?n=r=i=null:"@"===o.charAt(0)?(s[a]="@@"+d.length+"@@",d.push(o)):n?o===r?u?i=a:v(n,a):o.match(/\n.*\n/)?(i&&(a=i,v(n,a)),n=r=i=null,u=0):"{"===o?u++:"}"===o&&u&&u--:/^\$\$?$/.test(o)?(f=o.length<2,n=a,r=o,u=0):"begin"===o.substr(1,5)&&(n=a,r="\\end"+o.substr(6),u=0);return i&&v(n,i),s.join("")};try{var y=void 0;T?y=E:(E=b.innerHTML,y=t.getMarkdownSrc(b)),y=N.tocReady(y);var S=/^```/gm,A=y.match(S);A=A?A.length/2:0,l.init(g,{extensions:"all",highlighter:A>50?"prettify":"codeMirror"});var O=y.replace(/\n/g,"\\n").replace(/\r\n?/g,"\n").replace(/```(.*\n)+?```/gm,"");C=/(\$\$?)[^$\n]+\1/.test(O),C&&(y=_(y)),y=g.makeHtml(y),y=N.tocFixForCode(y),C&&(y=h(y)),y=N.xssFilter(y),p[0].innerHTML=y}catch(e){console.error(e)}},markdownPreProcess:function(e){i.forEach(e.querySelectorAll("."+o.CLASS.TABLE_CONTAINER),function(e){if(h.isVisible(e)){var t=v.createElement("span");t.appendChild(v.createTextNode(e.outerHTML)),e.parentNode.insertBefore(t,e),e.parentNode.insertBefore(v.createElement("br"),e),e.parentNode.removeChild(e)}}),i.forEach(e.querySelectorAll("label."+o.CLASS.TODO_LABEL_OLD),function(e){if(h.isVisible(e)){var t=e.querySelector("."+o.CLASS.TODO_CHECK_IMG_OLD);if(t){var n=v.createElement("span");n.appendChild(v.createTextNode(e.outerHTML)),e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e)}}}),i.forEach(e.querySelectorAll("."+o.CLASS.TODO_LAYER),function(e){if(h.isVisible(e)){var t=e.querySelector("."+o.CLASS.TODO_CHECKBOX);if(t){var n=v.createElement("span");n.appendChild(v.createTextNode(e.outerHTML)),e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e)}}}),i.forEach(e.querySelectorAll("a"),function(e){if(h.isVisible(e)){var t=e.getAttribute("href");if(i.isWizProtocol(t)||t&&e.childElementCount>0){var n=v.createElement("span");n.appendChild(v.createTextNode(e.outerHTML)),e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e)}}}),i.forEach(e.querySelectorAll("img"),function(e){if(h.isVisible(e)){var t=v.createElement("span");t.appendChild(v.createTextNode(e.outerHTML)),e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)}}),i.forEach(e.querySelectorAll("p"),function(e){if(h.isVisible(e)){var t=v.createElement("div");for(e.parentNode.insertBefore(t,e);e.firstChild;)t.appendChild(e.firstChild);e.parentNode.removeChild(e)}})},tocReady:function(e){return e.replace(/(^[ ]*)(\[toc])([ ]*(\n|$))/gim,"$1$2("+f+")$3")},tocFixForCode:function(e){var t=new RegExp("(\\[toc])\\("+f+"\\)","ig");return e=e.replace(/<textarea [^>]*>(.|\r?\n)*<\/textarea>/gi,function(e){return e.replace(t,"$1")})},tocRender:function(){var e={},t=[],n=6;m.$("h1,h2,h3,h4,h5,h6",b).each(function(e,t){var r=parseInt(t.tagName.charAt(1),10);n=Math.min(n,r)}),m.$("h1,h2,h3,h4,h5,h6",b).each(function(r,o){var i=(o.textContent||o.innerText).replace(/[()<> '"\r\n]/g,"");e[i]?(++e[i],i+="-"+e[i]):e[i]=1;var a=parseInt(o.tagName.charAt(1),10),l=m.$(o);l.attr("id",i),t.push('<a class="wiz_toc h'+(a-n+1)+'" href="#'+i+'">'+l.text()+"</a>")}),t='<div class="wiz_toc_layer">'+t.join("<br/>")+"</div>",m.$("a",b).each(function(e,n){n=m.$(n),n.attr("href")===f&&(n.before(t),n.css("display","none"))})},flowRender:function(){if(m.flowchart){var e=m.$(".language-flow",b).parents("pre");e.each(function(e,t){var n="wiz-flow-"+e,r=m.$("textarea",t).val();if(r.length>0)try{t.style.display="none";var o=m.flowchart.parse(r),i=v.createElement("div");if(i.id=n,t.parentNode.insertBefore(i,t),o.drawSVG(n),c.client.type.isPhone){var a=m.$("svg",i);a.attr("width")&&a.css({"max-width":a.attr("width")}).attr({height:null,width:"95%"})}}catch(e){console.error(e)}})}},sequenceRender:function(){if(m.Diagram){var e=function(e){e.each(function(e,t){var n="wiz-sequence-"+e,r=m.$("textarea",t).val();if(r.length>0)try{t.style.display="none";var o=m.Diagram.parse(r),i=v.createElement("div");if(i.id=n,t.parentNode.insertBefore(i,t),o.drawSVG(n,{theme:"simple"}),c.client.type.isPhone){var a=m.$("svg",i);a.attr("width")&&(h.attr(a.get(0),{viewBox:"0 0 "+a.attr("width")+" "+a.attr("height")}),a.css({"max-width":a.attr("width")}).attr({preserveAspectRatio:"xMidYMid meet",height:null,width:"95%"}))}}catch(e){console.error(e)}})},t=m.$(".language-sequence",b).parents("pre");e(t),t=m.$(".language-seq",b).parents("pre"),e(t)}},xssFilter:d.xssFilter};this.getMarkdownSrcForEditor=function(e){g&&g.saveToText(),e=e||{};var n=void 0,r=void 0;r=c.readonly?E.replace(/\n/g,"<div><br/></div>"):c.body.innerHTML;var i=c.doc.createElement("div");e.escapeHtml&&(r=r.replace(/&/g,"&amp;")),i.innerHTML=r,h.html2Markdown(i,{noPureLink:!0}),h.css(i,{opacity:0,position:"absolute",top:"-9999px",left:"-9999px",width:"1px",height:"1px",overflow:"hidden"}),c.body.appendChild(i),g&&g.clearCodeForMarkdown(i);for(var a=i.querySelectorAll(o.TAG.TMP_TAG),l=a.length-1;l>=0;l--)h.remove(a[l]);return n=t.getMarkdownSrc(i),n=h.restoreImgPath(n),c.body.removeChild(i),i=null,n},this.getMarkdownSrc=function(e){var t=e?e:b;return N.markdownPreProcess(t),N.getBodyTxt(t)},this.do=function(e,t){e.container&&(b=e.container),"string"==typeof e.markdownSrc?(E=e.markdownSrc,T=!0):(E="",T=!1);var n=function(){h.addClass(b,o.CLASS.READONLY);var e=c.options.reader.timeout.markdown;t=t||_;var n=!1,i=function(){t&&/^function$/i.test("undefined"==typeof t?"undefined":r(t))&&!n&&(t(),n=!0)};setTimeout(i,e),x(function(){i()})};O(n)},this.init=function(){m=e.win||c.win,v=e.doc||c.doc,b=e.container||c.body,_=e.callback,y&&y.init()}};t.exports=p},{"../config/const":391,"../libs/LoadController":395,"../libs/Markdown.Converter":396,"../libs/Markdown.Extra":397,"../libs/dependLoader":399,"../libs/utils":402,"../libs/xssUtils":403}],347:[function(e,t,n){"use strict";var r=e("../libs/dependLoader"),o=e("../libs/scriptLoader"),i=e("../libs/LoadController"),a=new i,l='MathJax.Hub.Config({\n  skipStartupTypeset: true,\n  "HTML-CSS": {\n      preferredFont: "TeX",\n      availableFonts: [\n          "STIX",\n          "TeX"\n      ],\n      linebreaks: {\n          automatic: true\n      },\n      EqnChunk: 10,\n      imageFont: null\n  },\n  SVG: { linebreaks: { automatic: true } },\n  tex2jax: {\n      inlineMath: [["$","$"],["\\\\\\\\(","\\\\\\\\)"]],\n      displayMath: [["$$","$$"],["\\\\[","\\\\]"]],\n      processEscapes: true },\n  TeX: {\n      equationNumbers: {\n          autoNumber: "AMS"\n      },\n      noUndefined: {\n          attributes: {\n              mathcolor: "red",\n              mathbackground: "#FFEEEE",\n              mathsize: "90%"\n          }\n      },\n      Safe: {\n          allow: {\n              URLs: "safe",\n              classes: "safe",\n              cssIDs: "safe",\n              styles: "safe",\n              fontsize: "all"\n          }\n      }\n  },\n  messageStyle: "none"\n});',s=function(e){var t=this;e=e||{};var n=null,i=null,s=null,c=void 0,d=void 0,u=void 0,f=void 0;this.initCore=function(e){n=e,i=n.env,s=n.require.domUtils,t.init()};var p=function(e){if(a.addCallback(d,e),!a.getLoading(d)){a.setLoading(d,!0),o.appendJsCode(d,"MathJax = null","text/javascript"),o.appendJsCode(d,l,"text/x-mathjax-config");for(var t=r.getDependencyFiles(i.dependency,"js","mathJax"),n=0;n<t.length;n++)for(var c=t[n],u=0;u<c.length;u++){var f=c[u];if(f.indexOf("MathJax.js")>-1){var p=i.doc.getElementById("wiz_"+f);p&&s.remove(p)}}r.loadJs(d,t,function(){a.setLoading(d,!1),a.callback(d)})}},g=function(e){c.MathJax.Hub.Queue(["Typeset",c.MathJax.Hub,u,function(){e()}])};this.do=function(e,t){e.container&&(u=e.container);var n=function(){var e=i.options.reader.timeout.mathJax;t=t||f;var n=!1,r=function(){t&&!n&&(t(),n=!0)};setTimeout(r,e),g(function(){i.options.reader.callback.mathJax&&i.options.reader.callback.mathJax(),r()})};p(n)},this.init=function(){c=e.win||i.win,d=e.doc||i.doc,u=e.container||i.body,f=e.callback}};t.exports=s},{"../libs/LoadController":395,"../libs/dependLoader":399,"../libs/scriptLoader":401}],348:[function(e,t,n){"use strict";var r=e("../config/const"),o="#7990b6",i="#1f2126",a="50%",l="70%",s=function(){var e=this,t=null,n=null,s=null,c=null;this.initCore=function(e){t=e,n=t.env,s=t.require.domUtils,c=t.require.wizStyle};var d="wiz_night_mode_style",u=function(e,t){t[e]||/^[.|#]?[\d]+/i.test(e)||!/^[.|#]?[. \w-]+$/i.test(e)||(e=e.replace(/[.\-]/g,function(e,t){return t>0?"\\"+e:e}),t[e]="")},f=function(e,t,n){if(t){var o=t.tagName.toLowerCase();if(!/^(style|script|link|meta|img)$/gi.test(o)&&!s.hasClass(t,r.CLASS.TODO_CHECKBOX)&&!s.hasClass(t,r.CLASS.TODO_AVATAR)){var i=t.className;if(i&&i.length>0)for(var a=i.split(" "),l=0;l<a.length;l++){var c=a[l];0!==c.length&&u("."+g(c),n)}var d=t.id;d&&d.length>0&&u("#"+g(d),n),e&&!/wiz[\-_]/i.test(e)?u("#"+g(e)+" "+o,n):u(g(o),n)}}},p=function e(t,n,o){if(!s.hasClass(n,r.CLASS.TABLE_TOOLS)&&t!==r.ID.TABLE_RANGE_BORDER&&n.id!==r.ID.TABLE_RANGE_BORDER&&!s.hasClass(n,r.CLASS.CODE_CONTAINER)){f(t,n,o);for(var i=n.children,a=0;a<i.length;a++){var l=i[a];e(n.id?n.id:t,l,o)}}},g=function(e){return e.replace(/ /g,"")};this.getBaseStyle=function(e,t){e=e||n.options.nightMode.color||o,t=t||n.options.nightMode.bgColor||i;var r={div:"",p:""},a=[];p("",n.body,r);var l="{color:"+e+" !important; background-color:"+t+" !important; background-image: none !important; box-shadow: none !important; border-color:"+e+" !important; }";for(var s in r)r.hasOwnProperty(s)&&a.push(s);var c=a.join(", ");return c+=l},this.on=function(t,o,i){if(n.options.nightMode.enable){i=i||n.options.nightMode.brightness||a;var s=l,u={toc:{bg:"#2b2f38"}};n.client.type.isMac&&(u.toc.bg="#2e2e2e"),e.off();var f=e.getBaseStyle(t,o);f+="img {filter: brightness("+i+");-webkit-filter: brightness("+i+");}",f+="svg, iframe {filter: brightness("+s+");-webkit-filter: brightness("+s+");}",f+="iframe#wiz-content-iframe-viewer {filter:none;-webkit-filter:none;}",f+=r.TAG.TMP_HIGHLIGHT_TAG+"{background-color: #50a9fb !important;  color: black !important;}",f+="a, a:visited, a:active {color: #448aff !important;}",f+="div.wiz-code-container .CodeMirror {border: 1px solid rgba(255, 255, 255, 0.2) !important; box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.2) !important;}",f+="div.CodeMirror-selected {background-color: #49483E !important;}",f+=".wiz-editor-body .wiz_toc_layer {background-color: "+u.toc.bg+" !important;}",f+=".wiz-editor-body .wiz_toc_layer a, .wiz-editor-body .wiz_toc_layer a:visited, .wiz-editor-body .wiz_toc_layer a:active {background-color: "+u.toc.bg+" !important; color: #448aff !important;}",f+="."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP+", .wiz-table-tools .wiz-table-color-pad, .wiz-table-tools .wiz-table-cell-align {background-color: #22272F !important; border: solid 1px #3E495B !important; box-shadow: none;}",f+="."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP+" ."+r.CLASS.TOOL_TIP_ARROW_BG+" {border-color: transparent !important;border-bottom-color: #3E495B !important;background-color: transparent !important;}",f+="."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP+" ."+r.CLASS.TOOL_TIP_ARROW+" {display: none !important;}",f+="."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP+" div {background-color: transparent !important;}",f+="."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP+" input, ."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP_ITEM+" {color: #97A3B8 !important;}",f+="."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP_ITEM+" {background-color: #22272F !important;}",f+="."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP_ITEM+":hover {background-color: #2E353F !important;}",f+="."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP_ITEM+".disabled {color: #484E5C !important;}",f+="."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP_ITEM+".split {border-top-color: #3E495B !important;}",f+="."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP_ITEM+".disabled:hover, ."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP+" > div, .wiz-table-tools .wiz-table-menu-item, .wiz-table-tools .wiz-table-menu-item .wiz-table-menu-button, .wiz-table-tools .wiz-table-cell-align .wiz-table-cell-align-item, .wiz-table-tools .wiz-table-color-pad .wiz-table-color-pad-item {background-color: transparent !important;}",f+=".wiz-table-tools {background-color:#22272F !important; border-color: #3E495B !important;}",f+=".wiz-table-tools i.editor-icon {color: #97A3B8;}",f+="#wiz-table-col-line, #wiz-table-row-line, #wiz-table-range-border_start_top, #wiz-table-range-border_range_top, #wiz-table-range-border_start_right, #wiz-table-range-border_range_right, #wiz-table-range-border_start_bottom, #wiz-table-range-border_range_bottom, #wiz-table-range-border_start_left, #wiz-table-range-border_range_left,#wiz-table-range-border_start_dot, #wiz-table-range-border_range_dot  {background-color: #448aff !important;}",f+=".markdown-body table tr {background-color:transparent !important;}",f+=".markdown-body code, .markdown-body tt {background-color:#4c3d40 !important; color:#cf506f !important;}",f+=".wiz-editor-body .wiz-select-plugin-header  {background-color: transparent !important;}",f+=".wiz-editor-body .wiz-select-plugin-container, .wiz-editor-body .wiz-select-plugin-options, .wiz-editor-body .wiz-select-plugin-options-item, .wiz-editor-body .wiz-select-plugin-header-text  {background-color:#22272F !important; border-color: #3E495B !important;color: #97A3B8 !important;box-shadow:none;}",f+=".wiz-editor-body .wiz-select-plugin-header  {color: #97A3B8 !important;}",f+=".wiz-editor-body .wiz-select-plugin-options .wiz-select-plugin-options-item.selected, .wiz-editor-body .wiz-select-plugin-options .wiz-select-plugin-options-item:hover  {background-color: #2E353F !important;}",f+=".wiz-editor-body .wiz-select-plugin-header i  {border-left-color: #3E495B !important;}",f+=".wiz-editor-body .wiz-select-plugin-options .wiz-select-plugin-options-item div, .wiz-editor-body .wiz-select-plugin-options .wiz-select-plugin-options-item span  {background-color: transparent !important;}",f+=".wiz-editor-body .wiz-select-plugin-options .wiz-select-plugin-options-item:hover div  {color: #FFFFFF !important;}",f+=".wiz-editor-body .CodeMirror-activeline .CodeMirror-activeline-gutter {background-color: transparent !important;}",f+=".wiz-content-outer  {border-color: transparent !important;}",c.insertStyle({id:d,name:r.NAME.TMP_STYLE},f)}},this.off=function(){var e=n.doc.getElementById(d);e&&e.remove()}};t.exports=s},{"../config/const":391}],349:[function(e,t,n){"use strict";var r=e("../config/const"),o=e("../libs/utils"),i=e("../libs/xssUtils"),a=function(){var e=this,t=null,n=null,a=null,l=null,s=null,c=null,d=null,u=null,f=null,p=null,g=null,h=null,m=null,v=null,b=null,_=null;this.initCore=function(e){t=e,n=t.env,a=t.require.amend,l=t.require.amendUser,s=t.require.amendUtils,c=t.require.clipboardUtils,d=t.require.codeCore,u=t.require.codeUtils,f=t.require.commandExtend,p=t.require.domUtils,g=t.require.historyUtils,h=t.require.rangeUtils,m=t.require.svgClick,v=t.require.tableCore,b=t.require.tableUtils,_=t.require.tableZone};var C=function(e){var t=/<body[^>]*>([\s\S]*)<\/body>/gi,o=/<head[^>]*>([\s\S]*)<\/head>/i,a=/<style[^>]*>[^<>]*<\/style>/gi,l=/(<[^>]*)(class[ ]*=[ ]*(['"])[^>]*\3)([^>]*>)/gi,s=/(<[^>]*)(id[ ]*=[ ]*(['"])[^>]*\3)([^>]*>)/gi;e=e.replace(/<!--.*?(-->)/gi,""),e=e.replace(/<meta [^>]*>/gi,""),e=e.replace(/<iframe[^>]*>[\s\S]*?<\/iframe>/gi,""),e=e.replace(/<iframe[^>]*\/>/gi,""),n.options.editor.type===r.NOTE_EDITOR_TYPE.MARKDOWN&&(e=e.replace(a,""),e=e.replace(l,"$1$4"),e=e.replace(s,"$1$4"));var c=void 0,d=void 0,u=void 0;try{c=t.exec(e)}catch(e){console.error(e)}if(c){if(d=o.exec(e),e="",d)for(d=d[1];null!==(u=a.exec(d));)u.index===a.lastIndex&&a.lastIndex++,e+=u[0];e+=c[1]}else{for(var f=[/<body( [^<>]*)?>/i,/<html( [^<>]*)?>/i],g=[/<\/body>/i,/<\/html>/i],h=0,m=f.length;h<m;h++){var v=f[h],b=e.match(v);if(b){e=e.substr(b.index+b[0].length);break}}for(var _=0,C=g.length;_<C;_++){var y=g[_],E=e.match(y);E&&(e=e.substr(0,E.index))}}e=e.replace(/(^(\r?\n)*)|((\r?\n)*$)/g,""),e=e.replace(/\u00A0/gi,"&nbsp;");var T=[];return n.options.editor.type===r.NOTE_EDITOR_TYPE.MARKDOWN||(T=["color","width","font-family","font-size","font-style","text-align","background*","text-decoration*"]),e=p.clearStyleFromHtml(e,T),e=i.xssFilter(e),/^<tr/.test(e)&&(e="<table>"+e+"</table>"),e},y=function(e){var t=h.getSelection(),r=/\n/g,i=e.match(r);if(i&&i.length>400){var a=o.txt2HTML(e,{wizTableSaveDom:!1});f.execCommand("insertparagraph");var l=h.getRange(),s=n.doc.createElement("div");l.insertNode(s),s.innerHTML=a,h.setRangeToEnd(s)}else e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),f.execCommand("insertText",!1,e);t.collapseToEnd()},E=function(e,t){var o=n.doc.createElement("div"),i=void 0;a.isAmendEditing()?a.readyForPaste():(i=s.fixedAmendRange(),a.splitAmendDomByRange(i));var l=h.getRange(),c=void 0,d=void 0,f=void 0,g=void 0,m=void 0,v=void 0,b=null;if(e)for(o.innerHTML=e,n.options.editor.type===r.NOTE_EDITOR_TYPE.MARKDOWN&&p.html2Markdown(o,{noPureLink:!1}),u&&u.pastePatch.ready(o),S(o),l.deleteContents(),l=h.getRange(),c=h.getRangeDetail(l.startContainer,l.startOffset),d=p.getParentByTagName(c.container,["li","td","th"],!0),p.isEmptyDom(d)?(h.setRange(d,0,d,p.getEndOffset(d)),
l=h.getRange()):p.isTag(c.container,"br")&&(h.setRange(c.container.parentNode,p.getIndex(c.container)),l=h.getRange()),p.isTag(d,"li")&&1===o.childNodes.length&&p.isTag(o.firstChild,["ul","ol"])&&(o=o.firstChild);o.firstChild;){if(l=h.getRange(),c=h.getRangeDetail(l.startContainer,l.startOffset),v=p.getBlockParent(c.container,!0),f=p.getParentByTagName(v,["pre"],!0),f&&(v=f),m=o.firstChild,/^h[1-6]$/i.test(v.tagName)&&(m.tagName===v.tagName||3===m.nodeType||p.isTag(m,["span"])))g=n.doc.createElement("span"),g.appendChild(n.doc.createTextNode(3===m.nodeType?m.nodeValue:m.innerText)),l.insertNode(g),o.removeChild(m),m=g;else if(/^h[1-6]$/i.test(v.tagName)||/^h[1-6]$/i.test(m.tagName)&&v!==n.body&&!p.isParent(v,b))g=n.doc.createElement("span"),l.insertNode(g),v=p.splitDomBeforeSub(v,g),p.after(m,v),p.isEmptyDom(v)?p.remove(v):p.remove(g);else if(b)p.after(m,b);else if(p.isTag(v,"li")&&p.isTag(m,"li")){var _=void 0;if(p.isEmptyDom(v))_=v,_.innerHTML="";else{var C=n.doc.createElement("br");l.insertNode(C),_=p.splitDomSingle(v,C),p.remove(C)}for(;m.firstChild;)_.appendChild(m.firstChild);p.remove(m),m=_}else l.insertNode(m);n.options.editor.type===r.NOTE_EDITOR_TYPE.MARKDOWN&&(T(m),m=A(m)),h.setRangeToEnd(m),b=m}else y(t)},T=function(e){if(1===e.nodeType){var t=function(e){for(var t=0;t<e.length;t++){var n=e[t];r(n)}},r=function(e){for(var t={},n={},r=e.querySelectorAll("img"),a=0,l=r.length-1;l>=0;l--)o(a++,r[l],n);for(var s=e.querySelectorAll("a"),c=s.length-1;c>=0;c--)o(a++,s[c],t);e.innerText=e.innerText.trim();var d=e.innerHTML;e.innerHTML=i(i(d,t),n)},o=function(e,t,r){e="$$_WIZ_"+(new Date).valueOf()+"_"+e+"_$$",r[e]=t.outerHTML;var o=n.doc.createTextNode(e);p.after(o,t),p.remove(t)},i=function(e,t){for(var n in t)e=e.replace(n,t[n]);return e};t(e.querySelectorAll("td")),t(e.querySelectorAll("th"))}},S=function(e){for(var t=e.querySelectorAll("[style]"),n=t.length-1;n>=0;n--){var o=t[n];if(!o.getAttribute(r.ATTR.SPAN)&&!p.isTag(o,["td","table"])){var i=o.style.width;i&&(o.style.width=null)}}},A=function(e){if(1!==e.nodeType)return e;var t=function(e){for(var t=[],r=e.length-1;r>=0;r--){for(var o=e[r],i=n.doc.createElement("span");o.firstChild;)i.appendChild(o.firstChild);p.before(i,o),p.remove(o),t.push(i)}return t};return t(e.querySelectorAll("strong")),t(e.querySelectorAll("u")),t(e.querySelectorAll("i")),t(e.querySelectorAll("b")),p.isTag(e,["u","i","b","strong"])&&(e=t([e])[0]),e},O=function(e,t){var r=void 0,o=void 0,i=void 0,c=void 0,d=void 0,f=void 0,g=void 0,m=void 0,C=void 0,y=void 0,T=void 0,A=void 0,O=void 0,x=h.getRange(),N=_.getZone();if(e?(r=b.getTemplateByHtmlForPaste(e),r.isHtml=!0,u&&u.pastePatch.ready(r.pasteDom,!0)):t&&!_.isSingleCell()?(r=b.getTemplateByTxtForPaste(t),r.isHtml=!0):r={isTable:!1,isHtml:!1,pasteDom:n.doc.createElement("div")},r.isTable){for(S(r.pasteDom),i=b.getTableGrid(r.pasteDom),f=i.length,d=i[0]?i[0].length:0,m=N.grid.length-N.range.minY-f,g=N.grid[0].length-N.range.minX-d,A=m;A<0;A++)v.insertRow(!1);for(T=g;T<0;T++)v.insertCol(!1);N=_.getZone(),e?(y=Math.max(N.range.minY+f-1,N.range.maxY),C=Math.max(N.range.minX+d-1,N.range.maxX)):(y=N.range.minY+f-1,C=N.range.minX+d-1),b.eachRange(N.grid,{minY:N.range.minY,maxY:y,minX:N.range.minX,maxX:C},function(e){if(!e.fake)if(O=e.cell,c=i[(e.y-N.range.minY)%f][(e.x-N.range.minX)%d],a.isAmendEditing()){if(h.setRange(O,0,O.lastChild,p.getEndOffset(O.lastChild)),s.removeSelection(l.getCurUser()),s.removeUserDel(O,l.getCurUser()),c.fake)return;if(p.isEmptyDom(O))O.innerHTML=c.cell.innerHTML;else for(;c.cell.firstChild;)O.appendChild(c.cell.firstChild);a.fixPaste(O.firstChild,O.lastChild,l.getCurUser())}else O.innerHTML=c.fake?"":c.cell.innerHTML}),_.setStart(N.grid[N.range.minY][N.range.minX].cell).setEnd(N.grid[y][C].cell)}else!x&&N.range&&(o=N.grid[N.range.minY][N.range.minX].cell,_.setStart(o).setEnd(o),h.setRange(o,0,o.lastChild,p.getEndOffset(o.lastChild))),E(e,t)};this.paste=function(e,t){e=C(e),e=o.replaceSpecialChar(e),t=o.replaceSpecialChar(t);var n=h.getRange(),r=_.getZone();if((n||r.table||r.range)&&(e||t)){if(n){var i=u&&u.getContainerFromChild(n.startContainer);if(i)return void u.insertCodeSrc(i,t)}g.saveSnap(!1),r.table||r.range?O(e,t):E(e,t),p.fixList(),m.fixSvgId();var a=function(){u&&(h.caretBackup(),u.pastePatch.fix(),h.caretRestore())};if(d.hasLoaded){for(var l=u&&u.oldPatch.fixOldCode(),s=0;s<l.length;s++){var c=l[s];u.fixCodeContainer({container:c})}a()}else d.on({},a)}},this.pasteForIOS=function(e){e&&o.stopEvent(e),h.caretBackup(),h.remove(),setTimeout(function(){h.caretRestore(),e&&n.client.sendCmdToWizClient(r.CLIENT_EVENT.WizEditorPaste)},0)},this.pasteFromClient=function(t,n){e.paste(t,n)},this.pasteFromClipBoard=function(t,i){if(u&&u.getContainerFromChild(t.target))return void i(!1);if(n.client.type.isIOS)return e.pasteForIOS(t),void i(!1);var a=function(a){return a.files&&n.options.editor.callback.onPasteFile?(n.options.editor.callback.onPasteFile(a.files),o.stopEvent(t),void i(!0)):a.html||a.text?(e.paste(a.html,a.text),o.stopEvent(t),void i(!0)):(n.client.type.isMac&&n.win.WizQtEditor&&n.client.sendCmdToWizClient(r.CLIENT_EVENT.WizEditorPaste),void i(!1))};c.getData(t,a)}};t.exports=a},{"../config/const":391,"../libs/utils":402,"../libs/xssUtils":403}],350:[function(e,t,n){"use strict";var r=e("../config/const"),o=e("../libs/utils"),i=function(){var e=this,t=null,n=null,i=null,a=null,l=null;this.initCore=function(e){t=e,n=t.env,a=t.require.domUtils,i=t.require.codeUtils,l=t.require.wizStyle};var s=void 0,c=void 0;this.caretBackup=function(){var t=e.getRange();if(!t){if(c)return!0;if(a.focus(),t=e.getRange(),!t)return!1}return t=e.getRange(),c=t?{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}:null,!0},this.scrollTimer=null,this.clearScrollTimer=function(){e.scrollTimer&&clearTimeout(e.scrollTimer),e.scrollTimer=null},this.caretFocus=function(){var t=e.getRange(),o=t?t.getClientRects():null,i=o&&o.length>0?o[0]:null,s=n.doc.documentElement.clientHeight,c=n.doc.documentElement.clientWidth;if(o&&0===o.length){var d=t.startContainer;3===d.nodeType?d=d.parentNode:1===d.nodeType&&d.childNodes.length>0&&(d=t.startOffset<d.childNodes.length?d.childNodes[t.startOffset]:d.childNodes[d.childNodes.length-1],3===d.nodeType&&(d=t.startContainer)),d&&(i=d.getBoundingClientRect())}var u=a.getPageScroll(),f=0;n.options.useFrame&&(f=n.body.parentElement.scrollTop);var p=parseInt(a.getComputedStyle(n.doc.body,"line-height"),10)||27,g=p+8,h=0;if(i&&i.top<0)e.clearScrollTimer(),a.setPageScrollTopAni(u.top+i.top-30);else if(!n.isWizTemplate&&i&&i.top+i.height+f>s-2.5*g){e.clearScrollTimer(),h=3*g;var m="."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" {margin-bottom: "+h+"px;}";n.client.type.isWeb||l.insertCustomStyle(r.ID.BODY_TMP_BOTTOM_STYLE,m,!0);var v=i.top+i.height+f-s+h;e.scrollTimer=setTimeout(function(){n.client.type.isWeb?a.setPageScrollTop(u.top+v):a.setPageScrollTopAni(u.top+v)},200)}if(!n.compositionStart&&n.doc.querySelector("#"+r.ID.BODY_TMP_BOTTOM_STYLE)){a.css(n.doc.body,{"min-height":"0"});var b=n.doc.body.clientHeight;a.css(n.doc.body,{"min-height":null});var _=n.doc.body.clientHeight;_-b>3*g&&l.removeStyleById(r.ID.BODY_TMP_BOTTOM_STYLE)}i&&i.left<0?a.setPageScrollLeft(u.left+i.left):i&&i.left+i.width>c&&a.setPageScrollLeft(u.left+(i.left+i.width-c))},this.caretRestore=function(){if(!c)return!1;var t=e.getSelection();return 0===t.rangeCount&&a.focus(),e.setRange(c.startContainer,c.startOffset,c.endContainer,c.endOffset),c=null,!0},this.clearFillCharByCollapsed=function(){var t=e.getRange(),n=void 0,i=void 0,a=void 0;if(t&&t.collapsed&&3===t.startContainer.nodeType){n=t.startContainer;var l=n.nodeValue;!o.isEmpty(l)&&l.indexOf(r.FILL_CHAR)>-1&&(i=l.substr(0,t.startOffset),a=l.substr(t.startOffset),i=i.replace(r.FILL_CHAR_REG,""),a=a.replace(r.FILL_CHAR_REG,""),n.nodeValue=i+a,e.setRange(n,i.length))}},this.collapse=function(t){var n=e.getRange();n&&!n.collapsed&&(t?e.setRange(n.startContainer,n.startOffset):e.setRange(n.endContainer,n.endOffset))},this.fixRange=function(t){var n=!t.startDom.parentNode,r=!t.endDom.parentNode,o=a.isSelfClosingTag(t.endDom);n&&a.isSelfClosingTag(t.startDomBak)&&(t.startDomBak=a.getNextNode(t.startDomBak,!1,t.endDomBak),t.startOffsetBak=0),e.setRange(n?t.startDomBak:t.startDom,n?t.startOffsetBak:t.startOffset,r||o?t.endDomBak:t.endDom,r||o?t.endOffsetBak:t.endOffset)},this.fixScroll=function(){s&&clearTimeout(s);var t=function(){var t=void 0,r=void 0,o=void 0,i=void 0,l=e.getRange();if(l&&(l.collapsed||!n.client.type.isPhone&&!n.client.type.isPad)&&(t=e.getRangeClientRect())){r=a.getWindowSize();var s=r.height,c=0;n.client.type.isIOS&&(s=r.height);var d=25,u=a.getPageScroll();o=u.top,i=u.left;var f=null,p=null;n.client.type.isIOS&&t.top+c<0?f=o+t.top+c-30:n.client.type.isIOS&&t.top+t.height>s-c?f=o+t.top+t.height+c-s+d:!n.client.type.isIOS&&t.top<0?f=o+t.top-30:!n.client.type.isIOS&&t.top+t.height>r.height&&(f=o+t.top+t.height-r.height+d),t.left<i?p=i+t.left:t.left+t.width>r.width&&(p=i+t.left+t.width-r.width),null!==f&&a.setPageScrollTopAni(f),null!==p&&a.setPageScrollLeft(p)}};s=setTimeout(t,30)},this.getFragmentForCopy=function(){var t=e.getRange(),r=null;return!t||t.collapsed?r:(r=n.doc.createElement("div"),r.appendChild(t.cloneContents()),a.fragmentFilterForCopy(r),a.css(r,{position:"absolute",top:"-99999px",left:"-99999px",overflow:"hidden"}),n.body.appendChild(r),r)},this.getRange=function(){var t=e.getSelection();try{if(!t||0===t.rangeCount)return null}catch(e){return null}var r=t.getRangeAt(0),o=void 0;r.startContainer!==n.body||0!==r.startOffset||!r.collapsed||n.body.firstChild&&!a.checkInTmp(n.body.firstChild)||(o=n.doc.createElement("div"),o.appendChild(n.doc.createElement("br")),n.body.insertBefore(o,n.body.firstChild),e.setRange(o,0));var i=e.getRangeDetail(r.startContainer,r.startOffset);return a.isInWizBody(i.container)||(r=null),r},this.getRangeAnchor=function(t){var n=e.getRange();if(!n)return null;var r=t?n.startContainer:n.endContainer,o=t?n.startOffset:n.endOffset;return n.collapsed||t?3===r.nodeType&&o<r.nodeValue.length?r:3===r.nodeType?a.getNextNode(r,!1,null):0===r.childNodes.length?r:o===r.childNodes.length?a.getNextNode(r.childNodes[o-1],!1,null):a.getFirstDeepChild(r.childNodes[o]):3===r.nodeType&&o>0?r:3===r.nodeType?a.getPreviousNode(r,!1,null):o>0?a.getLastDeepChild(r.childNodes[o-1]):a.getPreviousNode(r,!1,null)},this.getRangeClientRect=function(){var t=e.getRange();if(!t)return null;var n=void 0,r=t.getBoundingClientRect(),o=void 0;if(0===r.width&&0===r.height&&(n=e.getRange().getClientRects(),n.length>0&&(r=n[0])),0===r.width&&0===r.height){var i=e.getRangeDetail(t.startContainer,t.startOffset);o=i.container,o.getBoundingClientRect&&(r=o.getBoundingClientRect(),r={bottom:r.bottom,height:r.height,left:r.left+r.width,right:r.right,top:r.top,width:0})}return r},this.getRangeDetail=function(e,t){var n=!1;return t>0&&t===a.getEndOffset(e)?(1===e.nodeType&&(e=a.getLastDeepChild(e.childNodes[t-1]),t=a.getEndOffset(e)),n=!0):1===e.nodeType&&(0===e.childNodes.length||t<e.childNodes.length&&(e=e.childNodes[t],t=0)),{container:e,offset:t,isEnd:n}},this.getRangeDomList=function(t){var n=e.getRange();if(!n)return null;var r=n.startContainer,o=n.startOffset,i=n.endContainer,l=n.endOffset;return a.getListA2B({startDom:r,startOffset:o,endDom:i,endOffset:l,noSplit:!!t.noSplit})},this.getRangeParentRoot=function(){var t=e.getRange(),n=void 0,r=void 0;return t?(n=t.startContainer,r=t.endContainer,a.getParentRoot([n,r])):null},this.getSelection=function(){return n.doc.getSelection()},this.insertNode=function(t){var n=e.getRange();if(!n)return null;if(n.collapsed&&a.isTag(n.startContainer,"br")){var r=n.startContainer.parentNode,o=a.getIndex(n.startContainer);e.setRange(r,o,r,o+1),n=e.getRange()}n.insertNode(t)},this.isRangeEdge=function(t){var n={isStart:!1,isEnd:!1},r=e.getRange();if(r){n.isCollapsed=r.collapsed,n.startDom=r.startContainer,n.startOffset=r.startOffset,n.endDom=r.endContainer,n.endOffset=r.endOffset;var o=void 0,i=void 0;return 1===n.startDom.nodeType&&n.startOffset<n.startDom.childNodes.length?o=a.getFirstDeepChild(n.startDom.childNodes[n.startOffset]):1===n.startDom.nodeType&&(o=a.getNextNode(n.startDom.childNodes[n.startOffset-1],!1,null)),1===n.endDom.nodeType&&n.endOffset>0?i=a.getLastDeepChild(n.endDom.childNodes[n.endOffset-1]):1===n.endDom.nodeType&&(i=a.getPreviousNode(n.endDom,!1,null)),n.isStart=n.startDom===t||n.startDom===o,n.isEnd=n.endDom===t||n.endDom===i,n}},this.modifyCaretStyle=function(t,n){var o=e.getSelection(),i=o.focusNode,l=void 0,s=void 0,c=void 0,d=!0,u=void 0;3===i.nodeType&&(i=i.parentNode);for(s in t)t.hasOwnProperty(s)&&"string"==typeof s&&(c=t[s],i.style[s]!==c&&(d=!1));if(!d){a.isTag(i,"span")&&a.isEmptyDom(i)?(a.modifyStyle(i,t,n),u=i):(l=o.getRangeAt(0),l.deleteContents(),u=a.createSpan(),u.innerHTML=r.FILL_CHAR,l.insertNode(u),a.modifyStyle(u,t,n));var f=i.parentNode?i.parentNode:i;a.clearChildSpan(f,[u]),e.setRange(u.childNodes[0],1,u.childNodes[0],1)}},this.modifyRangeStyle=function(t,n){var r=void 0,o=void 0,l=void 0;if(r=e.getRangeDomList({noSplit:!1})){o=[];for(var s=r.list,c=Array.isArray(s),d=0,s=c?s:s[Symbol.iterator]();;){var u;if(c){if(d>=s.length)break;u=s[d++]}else{if(d=s.next(),d.done)break;u=d.value}var f=u,p=i&&i.getContainerFromChild(f);p||o.push(f)}l=o.length,0!==l&&(a.modifyNodesStyleAndClear(o,t,n,[r.startDomBak,r.endDomBak]),e.fixRange(r))}},this.modifySelectionDom=function(t,n){var r=e.getRange();return!!r&&(r.collapsed?e.modifyCaretStyle(t,n):e.modifyRangeStyle(t,n),!0)},this.moveToPoint=function(t,r){var o=void 0,i=void 0,a=void 0;n.doc.caretPositionFromPoint?(o=n.doc.caretPositionFromPoint(t,r),i=o.offsetNode,a=o.offset):n.doc.caretRangeFromPoint&&(o=n.doc.caretRangeFromPoint(t,r),i=o.startContainer,a=o.startOffset),e.setRange(i,a)},this.modify=function(t,n,r){var o=e.getSelection();if(o.modify)return void o.modify(t,n,r)},this.remove=function(){var t=e.getSelection();t.removeAllRanges()},this.selectCharIncludeFillChar=function(t){var n=e.getRange(),o=t?"backward":"forward",i=void 0,l=void 0,s=void 0,c=void 0;if(1===n.startContainer.nodeType){if(i=e.getRangeAnchor(!1),n.startContainer===i&&a.isTag(i,"br")&&a.isEmptyDom(i.parentNode))return void(i.parentNode.nextSibling?e.setRange(i.parentNode,0,i.parentNode.nextSibling,0):(e.modify("move","forward","character"),e.modify("extend","backward","character"),i.nextSibling&&e.modify("extend","backward","character")));a.isTag(i,"br")&&e.modify("extend",o,"character")}e.modify("extend",o,"character"),n=e.getRange(),c=n.toString(),i=e.getRangeAnchor(t),i&&(l=t&&i===n.startContainer?n.startOffset:t||i!==n.endContainer?-1:n.endOffset,s=3===i.nodeType&&l>0&&l<i.nodeValue.length?i:t?a.getPreviousNode(i,!1,null):a.getNextNode(i,!1,null),0===c.length?i&&!a.isSelfClosingTag(i)&&s&&(1!==s.nodeType||1===s.nodeType&&a.isSelfClosingTag(s))&&e.modify("extend",o,"character"):c.indexOf(r.FILL_CHAR)>-1&&""===c.replace(r.FILL_CHAR_REG,"")&&e.modify("extend",o,"character"))},this.setRange=function(t,r,o,i){if(t||o){var l=a.getEndOffset(t),s=a.getEndOffset(o);r<0?r=0:r>l&&(r=l),i<0?i=a.getEndOffset(o):i>s&&(i=s);var c=e.getSelection();t||(t=n.body,r=0);var d=void 0;if(n.browser.isIe&&e.remove(),0===c.rangeCount){d=n.doc.createRange(),d.selectNode(t);try{c.addRange(d)}catch(e){return void console.error(e)}}try{c.collapse(t,r),!o||o===t&&i===r||c.extend(o,i)}catch(e){console.log(e)}}},this.setRangeToEnd=function(t){var n=t,r=a.getEndOffset(t);a.isSelfClosingTag(n)&&(n=n.parentNode,r=a.getIndex(t)+1),e.setRange(n,r)}};t.exports=i},{"../config/const":391,"../libs/utils":402}],351:[function(e,t,n){"use strict";var r=e("../config/const"),o={active:"active",selected:"selected"},i=function(){var e=null,t=null,n=null;this.initCore=function(r){e=r,t=e.env,n=e.require.domUtils};var i={bind:function(){i.unbind(),t.supportTouchEvent?t.event.add(r.EVENT.ON_TOUCH_START,i.handler.onMouseDown):t.event.add(r.EVENT.ON_MOUSE_DOWN,i.handler.onMouseDown)},unbind:function(){t.event.remove(r.EVENT.ON_TOUCH_START,i.handler.onMouseDown),t.event.remove(r.EVENT.ON_MOUSE_DOWN,i.handler.onMouseDown)},handler:{onMouseDown:function(e){var t=e.target,n=a.getHeaderFromDom(t);if(n)return void a.showOptions(n);var r=a.getOptionFromDom(t);r&&a.selectOption(r);var o=a.getContainerFromDom(t);o||a.hideOptions()}}},a={getContainerFromDom:function(e){return n.getParentByClass(e,r.CLASS.SELECT_PLUGIN_CONTAINER,!0)},getHeaderFromDom:function(e){return n.getParentByClass(e,r.CLASS.SELECT_PLUGIN_HEADER,!0)},getHeaderText:function(e){return e.querySelector("."+r.CLASS.SELECT_PLUGIN_HEADER_TEXT)},getOptionFromDom:function(e){return n.getParentByClass(e,r.CLASS.SELECT_PLUGIN_OPTIONS_ITEM,!0)},hideOptions:function(e){var i=void 0;i=e?[e]:t.body.querySelectorAll("."+r.CLASS.SELECT_PLUGIN_CONTAINER+"."+o.active);for(var a=i.length-1;a>=0;a--)n.removeClass(i[a],o.active),t.event.call(r.EVENT.ON_SELECT_PLUGIN_HIDE,i[a])},selectOption:function(e){var i=a.getContainerFromDom(e);if(i&&!e.disabled&&(!e.callbackOnClick||e.callbackOnClick())){var l=i.selectType===r.SELECT_PLUGIN.TYPE.More;if(!l){var s=i.querySelector("."+r.CLASS.SELECT_PLUGIN_OPTIONS_ITEM+"."+o.selected);if(s===e)return;n.removeClass(s,o.selected),n.addClass(e,o.selected);var c=a.getHeaderText(i);c&&(c.textContent=e.textContent)}i.value=e.getAttribute("value"),a.hideOptions(i),t.event.call(r.EVENT.ON_SELECT_PLUGIN_CHANGE,i)}},showOptions:function(e){var i=a.getContainerFromDom(e);if(n.hasClass(i,o.active))return void a.hideOptions(i);a.hideOptions(),n.addClass(i,o.active);var l=i.querySelector("."+r.CLASS.SELECT_PLUGIN_OPTIONS_ITEM+"."+o.selected);l&&n.scrollIntoView(l),t.event.call(r.EVENT.ON_SELECT_PLUGIN_SHOW,i)}};this.on=function(){i.bind()},this.off=function(){i.unbind()},this.create=function(e){var i=e.optionsData,l=e.className,s=e.defaultValue,c=e.type,d=c===r.SELECT_PLUGIN.TYPE.More,u=t.doc.createElement("div"),f=t.doc.createElement("div"),p=d?null:t.doc.createElement("span"),g=t.doc.createElement("i"),h=t.doc.createElement("ul");p&&f.appendChild(p),f.appendChild(g),u.appendChild(f),u.appendChild(h),u.selectType=c,u.hideOptions=function(){a.hideOptions(u)};for(var m=0,v=i.length;m<v;m++){var b=i[m],_=b.obj,C=b.text,y=b.value,E=t.doc.createElement("li");_?E.appendChild(_):E.textContent=C,E.callbackOnClick=b.onClick,n.attr(E,{value:y,"data-index":m}),y===s&&(p&&(p.textContent=C),u.value=y,n.addClass(E,o.selected)),n.addClass(E,r.CLASS.SELECT_PLUGIN_OPTIONS_ITEM),b.disabled&&(n.addClass(E,"disabled"),E.disabled=!0),b.style&&n.css(E,b.style),h.appendChild(E)}var T=d?"icon-more editor-icon":"icon-down_arrow editor-icon";return n.addClass(g,T),p&&n.addClass(p,r.CLASS.SELECT_PLUGIN_HEADER_TEXT),n.addClass(f,r.CLASS.SELECT_PLUGIN_HEADER),n.addClass(h,r.CLASS.SELECT_PLUGIN_OPTIONS),n.addClass(u,r.CLASS.SELECT_PLUGIN_CONTAINER+" "+l+" "+c),n.attr(u,{onselectstart:"return false;"}),u},this.destory=function(){}};t.exports=i},{"../config/const":391}],352:[function(e,t,n){"use strict";var r=e("../config/const"),o=e("../libs/utils"),i=function(){var e=null,t=null,n=null,i=null,a=null,l=null,s=null,c=null;this.initCore=function(r){e=r,t=e.env,n=e.require.commandExtend,i=e.require.domUtils,a=e.require.historyUtils,l=e.require.rangeUtils,s=e.require.tableZone,c=e.require.todoUtils};var d="&nbsp; &nbsp;&nbsp;",u=function(e){var r=l.getRange(),o=s.getZone();if(!r||o.range)return!1;if(e)return a.saveSnap(!1),t.client.type.isMac?setTimeout(function(){n.execCommand("outdent")},10):n.execCommand("outdent"),!0;var u=r.startContainer,f=r.startOffset,p=l.getRangeDetail(u,f),g=i.isTag(u,["ul","ol","li"]),h=c&&c.isCaretAfterCheckbox(),m=i.getParentByTagName(u,["ul","ol","li"],!1),v=!1,b=p.container;if(m&&0===p.offset)for(;b!==t.body;){if(b.previousSibling){v=!1;break}if(v=!0,b=b.parentNode,b===m)break}return!i.isTag(u,["td","th"])&&(!r.collapsed||h||v||g?(a.saveSnap(!1),t.client.type.isMac?setTimeout(function(){n.execCommand("indent")},10):n.execCommand("indent"),!0):!(3!==u.nodeType&&!i.getParentByTagName(u,["a","b","body","div","font","html","i","p","span","strong","u"]))&&(a.saveSnap(!1),n.execCommand("insertHTML",!1,d),!0))},f={bind:function(){f.unbind(),t.event.add(r.EVENT.ON_KEY_DOWN,f.handler.onKeyDown)},unbind:function(){t.event.remove(r.EVENT.ON_KEY_DOWN,f.handler.onKeyDown)},handler:{onKeyDown:function(e){var t=e.keyCode||e.which;9===t&&u(e.shiftKey)&&o.stopEvent(e)}}};this.init=function(e){d=e},this.on=function(){f.bind()},this.off=function(){f.unbind()}};t.exports=i},{"../config/const":391,"../libs/utils":402}],353:[function(e,t,n){"use strict";var r=e("../config/const"),o=function(){var e=null,t=null,n=null;this.initCore=function(r){e=r,t=e.env,n=e.require.domUtils};var o=function(e){n.removeClass(e.container,"active")},i=function(e,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.TYPE.PLACEMENT.TOP;if(e){if(t.body.appendChild(e.container),o){n.css(e.container,{display:"block",visibility:"hidden"});var a=n.setLayout({layerObj:e.container,target:o,placement:i,isFixed:!1,isReverse:!0,space:8});a.top<a.targetTop?n.addClass(e.container,"top"):n.removeClass(e.container,"top");var l=a.targetLeft-a.left+a.targetWidth/2+e.arrowBg.offsetWidth/2;l<0&&(l=0),n.css(e.arrowBg,{left:l+"px"});var s=a.targetLeft-a.left+a.targetWidth/2+e.arrow.offsetWidth/2;s<0&&(s=0),n.css(e.arrow,{left:s+"px"}),n.css(e.container,{display:null,visibility:null})}n.addClass(e.container,"active")}};this.create=function(e){var a=void 0,l=void 0,s=void 0;a||(a=t.doc.createElement(r.TAG.TMP_TAG),n.addClass(a,r.CLASS.TOOL_TIP),l=t.doc.createElement("span"),n.addClass(l,r.CLASS.TOOL_TIP_ARROW_BG),s=t.doc.createElement("span"),n.addClass(s,r.CLASS.TOOL_TIP_ARROW),a.appendChild(l),a.appendChild(s),n.attr(a,{contenteditable:"false"}),e&&(a.id=e));var c={container:a,arrow:s,arrowBg:l,isShow:function(){return n.hasClass(a,"active")}};return c.hide=function(){o(c)},c.show=function(e,t){i(c,e,t)},c}};t.exports=o},{"../config/const":391}],354:[function(e,t,n){"use strict";var r=e("../config/const"),o={iosPhone:"."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" {overflow-y:scroll;-webkit-overflow-scrolling: touch;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+"[contenteditable=true], ."+r.CLASS.TEMPLATE_EDITABLE+".need-editor-padding-bottom {padding-bottom: 44px !important;}."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" td,."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" th {position:static;}."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" th:before,."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" td:before,."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" th:after,."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" td:after {display:none;}",iosPad:"."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" {min-width: 90%;max-width: 100%;min-height: 100%;background: #ffffff;overflow-y:scroll;-webkit-overflow-scrolling: touch;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+"[contenteditable=true], ."+r.CLASS.TEMPLATE_EDITABLE+".need-editor-padding-bottom {padding-bottom: 44px !important;}."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" td,."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" th {position:static;}."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" th:before,."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" td:before,."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" th:after,."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" td:after {display:none;}",code:"."+r.CLASS.WIZ_BODY+" ."+r.CLASS.CODE_CONTAINER_PASTE+" textarea {visibility: hidden;}",imageResize:".wiz-img-resize-handle {position: absolute;z-index: 1000;border: 1px solid black;background-color: white;}.wiz-img-resize-handle {width:5px;height:5px;margin:0 !important;}.wiz-img-resize-handle.lt {cursor: nw-resize;}.wiz-img-resize-handle.tm {cursor: n-resize;}.wiz-img-resize-handle.rt {cursor: ne-resize;}.wiz-img-resize-handle.lm {cursor: w-resize;}.wiz-img-resize-handle.rm {cursor: e-resize;}.wiz-img-resize-handle.lb {cursor: sw-resize;}.wiz-img-resize-handle.bm {cursor: s-resize;}.wiz-img-resize-handle.rb {cursor: se-resize;}",tooltip:"."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP+" i.editor-icon {top:0;}."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP+" {margin: 0;position: absolute;display: none;min-width: 125px;padding: 5px 0;background: #fff;border-radius: 3px;border: 1px solid #E0E0E0;top:28px;left:-9px;box-shadow: 1px 1px 5px #d0d0d0;max-width: none;}."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP+".active {display:block;}."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP+" > div {font-size:15px;min-width:63px;}."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP+" div {margin:0;}."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP+" ."+r.CLASS.TOOL_TIP_ARROW_BG+",."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP+" ."+r.CLASS.TOOL_TIP_ARROW+" {position: absolute;border-style: solid;border-color: transparent;border-bottom-color: #cccccc;left: 22px;margin-left: -14px;top: -8px;border-width: 0 8px 8px 8px;z-index:"+r.CSS.Z_INDEX.tableToolsArrow+";}."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP+" ."+r.CLASS.TOOL_TIP_ARROW+" {border-bottom-color: #ffffff;top: -7px;}."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP+".top ."+r.CLASS.TOOL_TIP_ARROW_BG+" {top: auto;bottom: -8px;transform:rotate(180deg);}."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP+".top ."+r.CLASS.TOOL_TIP_ARROW+" {top: auto;bottom: -7px;transform:rotate(180deg);}."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP_ITEM+" {margin:0;padding: 4px 12px;font-size: 14px;}."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP_ITEM+".split {border-top: 1px solid #E0E0E0;}."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP_ITEM+":hover {background-color: #ececec;}."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP_ITEM+".disabled {color: #bbbbbb;cursor: default;}."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TOOL_TIP_ITEM+".disabled:hover {background-color: transparent;}",tableInMarkdown:"."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" table tr {background-color:white;}."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" table tr:nth-child(2n) {background-color:#f8f8f8;}",table:"."+r.CLASS.EDITING+" ."+r.CLASS.TABLE_BODY+"."+r.CLASS.TABLE_MOVING+" *, ."+r.CLASS.EDITING+" ."+r.CLASS.TABLE_BODY+"."+r.CLASS.TABLE_MOVING+" *:before, ."+r.CLASS.EDITING+" ."+r.CLASS.TABLE_BODY+"."+r.CLASS.TABLE_MOVING+" *:after {cursor:default !important;} ."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" td, ."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" th {position:relative;}#wiz-table-range-border {display: none;width: 0;height: 0;position: absolute;top: 0;left: 0; z-index:"+r.CSS.Z_INDEX.tableBorder+"}#wiz-table-col-line, #wiz-table-row-line {margin:0;display: none;background-color: #448aff;position: absolute;z-index:"+r.CSS.Z_INDEX.tableColRowLine+";}#wiz-table-col-line {width: 1px;cursor:col-resize;}#wiz-table-row-line {height: 1px;cursor:row-resize;}#wiz-table-range-border_start, #wiz-table-range-border_range {display: none;width: 0;height: 0;margin: 0;position: absolute;}#wiz-table-range-border_start div, #wiz-table-range-border_range div {margin: 0;}#wiz-table-range-border_start_top, #wiz-table-range-border_range_top {height: 2px;background-color: #448aff;position: absolute;top: 0;left: 0;}#wiz-table-range-border_range_top {height: 1px;}#wiz-table-range-border_start_right, #wiz-table-range-border_range_right {width: 2px;background-color: #448aff;position: absolute;top: 0;}#wiz-table-range-border_range_right {width: 1px;}#wiz-table-range-border_start_bottom, #wiz-table-range-border_range_bottom {height: 2px;background-color: #448aff;position: absolute;top: 0;}#wiz-table-range-border_range_bottom {height: 1px;}#wiz-table-range-border_start_left, #wiz-table-range-border_range_left {width: 2px;background-color: #448aff;position: absolute;top: 0;left: 0;}#wiz-table-range-border_range_left {width: 1px;}#wiz-table-range-border_start_dot, #wiz-table-range-border_range_dot {width: 5px;height: 5px;border: 2px solid rgb(255, 255, 255);background-color: #448aff;cursor: crosshair;position: absolute;z-index:"+r.CSS.Z_INDEX.tableRangeDot+";}.wiz-table-tools {display: block;background-color:#fff;position: absolute;left: 0px;border: 1px solid #ddd;-webkit-border-radius: 5px;-moz-border-radius: 5px;border-radius: 5px;z-index:"+r.CSS.Z_INDEX.tableTools+";}.wiz-table-tools ul {margin:0 !important;}.wiz-table-tools ul {list-style: none !important;padding: 0;width:auto;}.wiz-table-tools .wiz-table-menu-item {position: relative;float: left;margin:4px 2px 2px 8px;clear: initial;text-align: left;}.wiz-table-tools .wiz-table-menu-item .wiz-table-menu-button {margin:0; font-size:15px;width:20px;height:20px;line-height:20px;cursor: pointer;position:relative;}.wiz-table-tools i.editor-icon{font-size: 15px;color: #455a64; position: absolute;top: 1px;left: 0;z-index:1}."+r.CLASS.WIZ_BODY+" .wiz-table-menu-item.active ."+r.CLASS.TOOL_TIP+" {display: block}.wiz-table-tools .wiz-table-menu-item .wiz-table-menu-button i#wiz-menu-bg-demo{position: absolute;top:1px;left:0;}.wiz-table-tools .wiz-table-menu-item.wiz-table-cell-bg:hover .wiz-table-color-pad {display: block;}.wiz-table-tools .wiz-table-color-pad {display: none;padding: 10px;box-sizing: border-box;min-width: 85px;height: 88px;background-color: #fff;cursor: default;}.wiz-table-tools .wiz-table-color-pad > div{font-size:15px;}.wiz-table-tools .wiz-table-color-pad .wiz-table-color-pad-item {display: inline-block;width: 15px;height: 15px;margin-right: 9px;position: relative;}.wiz-table-tools .wiz-table-color-pad .wiz-table-color-pad-item .icon-oblique_line{color: #cc0000;}.wiz-table-tools .wiz-table-color-pad .wiz-table-color-pad-item:last-child {margin-right: 0;}.wiz-table-tools .wiz-table-color-pad .wiz-table-color-pad-item.active i.editor-icon.icon-box {color: #448aff;}.wiz-table-tools .wiz-table-cell-align {display: none;padding: 10px;box-sizing: border-box;min-width: 85px;height: 65px;background-color: #fff;cursor: default;}.wiz-table-tools .wiz-table-cell-align .wiz-table-cell-align-item {display: inline-block;width: 15px;height: 15px;margin-right: 9px;position: relative;}.wiz-table-tools .wiz-table-cell-align .wiz-table-cell-align-item[data-align-type=align] {margin-right:8px}.wiz-table-tools .wiz-table-cell-align .wiz-table-cell-align-item:last-child {margin-right:0}.wiz-table-tools .wiz-table-cell-align .wiz-table-cell-align-item i.valign{color: #d2d2d2;}.wiz-table-tools .wiz-table-cell-align-item i.editor-icon.align {font-size:17px;}.wiz-table-tools .wiz-table-cell-align-item.active i.editor-icon.valign {color: #a1c4ff;}.wiz-table-tools .wiz-table-cell-align-item.active i.editor-icon.icon-box,.wiz-table-tools .wiz-table-cell-align-item.active i.editor-icon.align {color: #448aff;}.wiz-table-tools .wiz-table-color-pad .wiz-table-color-pad-item:last-child,.wiz-table-tools .wiz-table-cell-align .wiz-table-cell-align-item:last-child {margin-right: 0;}."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" th.wiz-selected-cell-multi,."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" td.wiz-selected-cell-multi {background: rgba(0,102,255,.05);}."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" th:before,."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+' td:before,#wiz-table-col-line:before,#wiz-table-range-border_start_right:before,#wiz-table-range-border_range_right:before {content: " ";position: absolute;top: 0;bottom: 0;right: -5px;width: 9px;cursor: col-resize;background: transparent;z-index:'+r.CSS.Z_INDEX.tableTDBefore+";}."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+" th:after,."+r.CLASS.EDITING+"."+r.CLASS.WIZ_BODY+' td:after,#wiz-table-row-line:before,#wiz-table-range-border_start_bottom:before,#wiz-table-range-border_range_bottom:before {content: " ";position: absolute;left: 0;right: 0;bottom: -5px;height: 9px;cursor: row-resize;background: transparent;z-index:'+r.CSS.Z_INDEX.tableTDBefore+";}"},i={ios:"."+r.CLASS.READONLY+"."+r.CLASS.WIZ_BODY+" img {max-width: 100%;height: auto !important;margin: 0px auto;cursor: pointer;}"},a={bodyForFrame:"html, body {min-width: 0; max-width: 100%;}",body:"html {height:100%;} body, ."+r.CLASS.WIZ_BODY+" {-webkit-tap-highlight-color:rgba(255,255,255,0);}."+r.CLASS.WIZ_BODY+" {min-height:100%;box-sizing:border-box;word-wrap: break-word !important;outline:none;position:relative;}."+r.CLASS.WIZ_BODY+" img::selection {background-color: rgba(0, 0, 255, 0.3);}."+r.CLASS.WIZ_BODY+" input:disabled, ."+r.CLASS.WIZ_BODY+" textarea:disabled {opacity: 1;}a {cursor:pointer;}::-ms-clear,::-ms-reveal{display:none;}",
blockScroll:".wiz-block-scroll::-webkit-scrollbar {width: 7px;height: 7px;}.wiz-block-scroll::-webkit-scrollbar-thumb {background-color: #7f7f7f;border-radius: 7px;}.wiz-block-scroll::-webkit-scrollbar-button {display: none;}",selectPlugin:"."+r.CLASS.WIZ_BODY+" .wiz-select-plugin-container {position:relative;display:inline-block;width:160px;height:28px;border-radius:4px;padding:0;margin-left:5px;cursor:pointer;}."+r.CLASS.WIZ_BODY+" .wiz-select-plugin-container.more {width:28px;}."+r.CLASS.WIZ_BODY+" .wiz-select-plugin-container, ."+r.CLASS.WIZ_BODY+" .wiz-select-plugin-options {box-sizing:border-box;background:white;border:1px solid #e7e7e7;color:#333;box-shadow: 1px 1px 5px #d0d0d0;}."+r.CLASS.WIZ_BODY+" .wiz-select-plugin-header {line-height:28px;font-size:14px;padding: 0 0 0 5px;overflow:hidden;margin-right:27px;white-space:nowrap;}."+r.CLASS.WIZ_BODY+" .wiz-select-plugin-header i {position:absolute;top:0;right:0;line-height:26px;padding:0;text-align:center;min-width:27px;border-left:1px solid #e7e7e7;box-sizing:border-box;}."+r.CLASS.WIZ_BODY+" .wiz-select-plugin-header i.icon-more {font-size:16px;border:0;width:100%;height:100%}."+r.CLASS.WIZ_BODY+" .wiz-select-plugin-options {display:none;background:white;list-style:none;padding:0;margin:0;white-space:nowrap;max-height:200px;min-width:160px;max-width:260px;overflow-x:hidden;overflow-y:auto;position:absolute;top:30px;right:-1px;}."+r.CLASS.WIZ_BODY+" .wiz-select-plugin-options-item {font-size:14px;padding:2px 20px;line-height:normal;margin-top: 8px !important;}."+r.CLASS.WIZ_BODY+" .wiz-select-plugin-options-item.disabled {font-size:12px; color:#aaaaaa;}."+r.CLASS.WIZ_BODY+" .wiz-select-plugin-options-item.selected {background:#448aff;color:white;}."+r.CLASS.WIZ_BODY+" .wiz-select-plugin-options-item:hover {background:#448aff !important;color:white !important;}."+r.CLASS.WIZ_BODY+" .wiz-select-plugin-options-item .icon-checkmark {visibility: hidden}."+r.CLASS.WIZ_BODY+" .wiz-select-plugin-options-item .icon-checkmark.active {visibility: visible}."+r.CLASS.WIZ_BODY+" .wiz-select-plugin-container.active .wiz-select-plugin-options {display:block;}",table:"."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TABLE_CONTAINER+" {border:0px !important;}."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TABLE_BODY+" {border:0px !important;position:relative;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;outline:none;}."+r.CLASS.WIZ_BODY+" ."+r.CLASS.TABLE_BODY+" table {margin:0;outline:none;}."+r.CLASS.WIZ_BODY+" td,."+r.CLASS.WIZ_BODY+" th {outline:none;}"},l={common:"html, ."+r.CLASS.WIZ_BODY+" {font-size: 12pt;}."+r.CLASS.WIZ_BODY+" {font-family: "+r.CSS.DEFAULT_FONT+";line-height: 1.7;margin: 0 auto;padding: 20px 16px;padding: 1.25rem 1rem;}."+r.CLASS.WIZ_BODY+" h1,."+r.CLASS.WIZ_BODY+" h2,."+r.CLASS.WIZ_BODY+" h3,."+r.CLASS.WIZ_BODY+" h4,."+r.CLASS.WIZ_BODY+" h5,."+r.CLASS.WIZ_BODY+" h6 {margin:20px 0 10px;margin:1.25rem 0 0.625rem;padding: 0;font-weight: bold;}."+r.CLASS.WIZ_BODY+" h1 {font-size:20pt;font-size:1.67rem;}."+r.CLASS.WIZ_BODY+" h2 {font-size:18pt;font-size:1.5rem;}."+r.CLASS.WIZ_BODY+" h3 {font-size:15pt;font-size:1.25rem;}."+r.CLASS.WIZ_BODY+" h4 {font-size:14pt;font-size:1.17rem;}."+r.CLASS.WIZ_BODY+" h5 {font-size:12pt;font-size:1rem;}."+r.CLASS.WIZ_BODY+" h6 {font-size:12pt;font-size:1rem;color: #777777;margin: 1rem 0;}."+r.CLASS.WIZ_BODY+" div,."+r.CLASS.WIZ_BODY+" p,."+r.CLASS.WIZ_BODY+" ul,."+r.CLASS.WIZ_BODY+" ol,."+r.CLASS.WIZ_BODY+" dl,."+r.CLASS.WIZ_BODY+" li {margin:8px 0;}."+r.CLASS.WIZ_BODY+" blockquote,."+r.CLASS.WIZ_BODY+" table,."+r.CLASS.WIZ_BODY+" pre,."+r.CLASS.WIZ_BODY+" code {margin:8px 0;}."+r.CLASS.WIZ_BODY+" ."+r.CLASS.CODE_MIRROR+" pre {margin:0;}."+r.CLASS.WIZ_BODY+" a {word-wrap: break-word;text-decoration-skip-ink: none;}."+r.CLASS.WIZ_BODY+" ul,."+r.CLASS.WIZ_BODY+" ol {padding-left:32px;padding-left:2rem;}."+r.CLASS.WIZ_BODY+" ol."+r.CLASS.ORDER_LIST_LEVEL[1]+" > li {list-style-type:decimal;}."+r.CLASS.WIZ_BODY+" ol."+r.CLASS.ORDER_LIST_LEVEL[2]+" > li {list-style-type:lower-latin;}."+r.CLASS.WIZ_BODY+" ol."+r.CLASS.ORDER_LIST_LEVEL[0]+" > li {list-style-type:lower-roman;}."+r.CLASS.WIZ_BODY+" li."+r.CLASS.ORDER_LIST_ALIGN_STYLE+" {list-style-position: inside; margin-left: -1em;}."+r.CLASS.WIZ_BODY+" blockquote {padding: 0 12px;}."+r.CLASS.WIZ_BODY+" blockquote > :first-child {margin-top:0;}."+r.CLASS.WIZ_BODY+" blockquote > :last-child {margin-bottom:0;}."+r.CLASS.WIZ_BODY+" img {border:0;max-width:100%;height:auto !important;margin:2px 0;}."+r.CLASS.WIZ_BODY+" table {border-collapse:collapse;border:1px solid #bbbbbb;}."+r.CLASS.WIZ_BODY+" td,."+r.CLASS.WIZ_BODY+" th {padding:4px 8px;border-collapse:collapse;border:1px solid #bbbbbb;min-height:28px;word-break:break-word;box-sizing: border-box;}."+r.CLASS.WIZ_BODY+" td > div:first-child {margin-top:0;}."+r.CLASS.WIZ_BODY+" td > div:last-child {margin-bottom:0;}."+r.CLASS.WIZ_BODY+" img."+r.CLASS.SVG_IMAGE+" {box-shadow:1px 1px 4px #E8E8E8;}.wiz-hide {display:none !important;}"},s=function(){var e=this,t=null,n=null,s=null,c=function(){n.body===n.doc.body&&(n.body.style.height="",n.body.style.width="")};this.initCore=function(e){t=e,n=t.env,s=t.require.domUtils},this.insertDefaultStyle=function(t,n){if(e.replaceStyleById(r.ID.WIZ_DEFAULT_STYLE,l.common,t),n){var o=void 0,i=!1;if("string"==typeof n)o=n,i=!0;else{o="html, body{";for(var a in n)n.hasOwnProperty(a)&&(o+="font-family"===a.toLowerCase()?a+":"+n[a]+","+r.CSS.DEFAULT_FONT+";":a+":"+n[a]+";",i=!0);o+="}"}i&&e.insertStyle({id:r.ID.TMP_STYLE_PRE+"default_custom",name:r.NAME.TMP_STYLE},o)}},this.insertCustomStyle=function(t,n,o){if(t&&n){var i={id:t};o&&(i.name=r.NAME.TMP_STYLE),e.insertStyle(i,n)}},this.insertStyle=function(t,r){var o=n.doc.createElement("style");t.name&&s.attr(o,{name:t.name});var i=null,a=null;return t.id&&(a=t.id+"_tmp",i=e.getStyleById(t.id),i&&s.attr(i,{id:a}),s.attr(o,{id:t.id})),o.innerHTML=r,n.doc.getElementsByTagName("HEAD")[0].insertBefore(o,null),e.removeStyleById(a),o},this.insertTmpEditorStyle=function(){c();var t=a.body+a.table+a.selectPlugin+o.code+o.imageResize+o.tooltip+o.table;n.options.useFrame&&(t+=a.bodyForFrame),n.options.editor.type===r.NOTE_EDITOR_TYPE.MARKDOWN&&(t+=o.tableInMarkdown),e.insertStyle({id:r.ID.TMP_STYLE_PRE+"editor_common",name:r.NAME.TMP_STYLE},t),n.client.type.isIOS&&n.client.type.isPhone?e.insertStyle({id:r.ID.TMP_STYLE_PRE+"editor_ios_phone",name:r.NAME.TMP_STYLE},o.iosPhone):n.client.type.isIOS&&n.client.type.isPad&&e.insertStyle({id:r.ID.TMP_STYLE_PRE+"editor_ios_pad",name:r.NAME.TMP_STYLE},o.iosPad),n.client.type.isMac&&e.insertStyle({id:r.ID.TMP_STYLE_PRE+"editor_block_scroll",name:r.NAME.TMP_STYLE},a.blockScroll)},this.insertTmpReaderStyle=function(){c();var t=a.body+a.table+a.selectPlugin;n.options.useFrame&&(t+=a.bodyForFrame),e.insertStyle({id:r.ID.TMP_STYLE_PRE+"reader_common",name:r.NAME.TMP_STYLE},t),n.client.type.isIOS&&e.insertStyle({id:r.ID.TMP_STYLE_PRE+"reader_ios",name:r.NAME.TMP_STYLE},i.ios),n.client.type.isMac&&e.insertStyle({id:r.ID.TMP_STYLE_PRE+"reader_block_scroll",name:r.NAME.TMP_STYLE},a.blockScroll)},this.removeFormat=function(e,t,o){var i=function(e){return!!e&&1===e.nodeType&&(s.isTag(e,[r.TAG.TMP_TAG,r.TAG.TMP_PLUGIN_TAG])||e.getAttribute("name")===r.NAME.TMP_STYLE||/^wiz[_-]/i.test(e.id)||/(^| )wiz[_-]/i.test(e.className))},a=void 0,l=void 0,c=void 0,d=void 0,u=void 0;try{if(e&&n.doc.execCommand("SelectAll"),t&&n.doc.execCommand("RemoveFormat"),e&&(a=n.doc.documentElement,a&&o&&s.eachChild(a,function(e){return!s.hasClass(e,r.CLASS.CODE_CONTAINER)},function(e){i(e)||(s.attr(e,{style:null}),s.attr(e,{class:null}),e.style.cssText&&(e.style.cssText=""))})),o){l=n.doc.getElementsByTagName("link");for(var f=l.length-1;f>=0;f--)c=l[f],"stylesheet"!==c.getAttribute("rel")||i(c)||c.remove();d=n.doc.getElementsByTagName("style");for(var p=d.length-1;p>=0;p--)u=d[p],i(u)||u.remove()}}catch(e){return void console.error(e)}},this.getStyleById=function(e){var t=n.doc.getElementById(e);return t&&s.isTag(t,["style","link"])?t:null},this.removeStyleById=function(t){if(t){var n=e.getStyleById(t);n&&s.remove(n)}},this.removeStyleByName=function(e){for(var t=n.doc.getElementsByName(e),r=t.length-1;r>=0;r--){var o=t[r];o&&s.isTag(o,["style","link"])&&s.remove(o)}},this.replaceStyleById=function(e,t,r){r=!!r;var o=n.doc.getElementById(e);o||r||(o=n.doc.createElement("style"),o.id=e,n.doc.getElementsByTagName("HEAD")[0].insertBefore(o,null)),o&&(o.innerHTML=t)}};t.exports=s},{"../config/const":391}],355:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/utils"),i=function(){var e=this,t=null,n=null,i=null,a=null,l=null,s=null,c=null,d=null,u=null,f=null,p=null,g=null,h=null,m=null;this.initCore=function(e){t=e,n=t.env,i=t.lang,a=t.require.amendInfo,l=t.require.amendUser,s=t.require.amendUtils,c=t.require.blockUtils,d=t.require.codeCore,u=t.require.domUtils,f=t.require.historyUtils,p=t.require.rangeUtils,g=t.require.tableCore,h=t.require.tableUtils,m=t.require.todoCore,function(){var e=u.modifyNodeStyle;u.modifyNodeStyle=function(t,n,o,i){var a=void 0;return 1===t.nodeType&&o&&o[r.ATTR.SPAN_DELETE]&&u.isTag(t,"img")?(s.deleteImg(t,l.getCurUser()),t):1===t.nodeType&&o&&o[r.ATTR.SPAN_DELETE]&&u.isEmptyDom(t)?(a=t.parentNode,a.removeChild(t),u.removeEmptyParent(a),t):1===t.nodeType&&o&&o[r.ATTR.SPAN_DELETE]&&u.isSelfClosingTag(t)?t:o&&o[r.ATTR.SPAN_DELETE]&&s.getWizDeleteParent(t)?t:e(t,n,o,i)};var t=u.addDomForGetDomList;u.addDomForGetDomList=function(e,n){s.isWizDelete(n)||3===n.nodeType&&!u.getParentByTagName(n,["td","th"],!1,null)&&u.getParentByTagName(n,"table",!1,null)||t(e,n)}}()};var v=function(){var e=void 0,t=void 0,r=void 0,o=void 0,i=!1,a=function(e,t){if(!e)return!1;var n=u.getLastDeepChild(e),r=u.getParentByFilter(n,function(e){return e===t},!0);return!!r};return e=p.getRange(),t=n.doc.queryCommandValue("formatBlock"),/^h[1-6]+$/i.test(t)&&e&&e.startOffset===u.getEndOffset(e.startContainer)&&(r=u.getParentByTagName(e.startContainer,t,!0),i=a(r,e.startContainer)),!(!i||!r)&&(o=n.doc.createElement("div"),o.appendChild(n.doc.createElement("br")),u.after(o,r),p.setRange(o,0),!0)},b=!1,_={bind:function(){_.unbind(),n.event.add(r.EVENT.ON_KEY_DOWN,_.onKeyDown),n.event.add(r.EVENT.ON_COMPOSITION_START,_.onCompositionStart),n.event.add(r.EVENT.ON_COMPOSITION_END,_.onCompositionEnd),n.client.type.isIOS||n.client.type.isAndroid?n.event.add(r.EVENT.ON_TOUCH_START,_.onTouchStart):(n.event.add(r.EVENT.ON_MOUSE_DOWN,_.onMouseDown),n.event.add(r.EVENT.ON_MOUSE_UP,_.onMouseUp)),n.event.add(r.EVENT.ON_DRAG_START,_.onDragDrop),n.event.add(r.EVENT.ON_DRAG_ENTER,_.onDragDrop),n.event.add(r.EVENT.ON_DROP,_.onDragDrop)},unbind:function(){n.event.remove(r.EVENT.ON_KEY_DOWN,_.onKeyDown),n.event.remove(r.EVENT.ON_COMPOSITION_START,_.onCompositionStart),n.event.remove(r.EVENT.ON_COMPOSITION_END,_.onCompositionEnd),n.event.remove(r.EVENT.ON_MOUSE_DOWN,_.onMouseDown),n.event.remove(r.EVENT.ON_MOUSE_UP,_.onMouseUp),n.event.remove(r.EVENT.ON_TOUCH_START,_.onTouchStart),n.event.remove(r.EVENT.ON_DRAG_START,_.onDragDrop),n.event.remove(r.EVENT.ON_DRAG_ENTER,_.onDragDrop),n.event.remove(r.EVENT.ON_DROP,_.onDragDrop)},bindReverse:function(){_.unbindReverse(),n.event.add(r.EVENT.ON_KEY_DOWN,_.onKeyDown),n.event.add(r.EVENT.ON_COMPOSITION_START,_.onCompositionStart),n.event.add(r.EVENT.ON_COMPOSITION_END,_.onCompositionEnd),n.client.type.isIOS||n.client.type.isAndroid||(n.event.add(r.EVENT.ON_MOUSE_DOWN,_.onMouseDown),n.event.add(r.EVENT.ON_MOUSE_UP,_.onMouseUp))},unbindReverse:function(){n.event.remove(r.EVENT.ON_KEY_DOWN,_.onKeyDown),n.event.remove(r.EVENT.ON_COMPOSITION_START,_.onCompositionStart),n.event.remove(r.EVENT.ON_COMPOSITION_END,_.onCompositionEnd),n.event.remove(r.EVENT.ON_MOUSE_DOWN,_.onMouseDown),n.event.remove(r.EVENT.ON_MOUSE_UP,_.onMouseUp)},onAccept:function(t){e.accept(t)},onRefuse:function(t){e.refuse(t)},onBeforeSaveSnap:function(){a.hide(!0)},onAfterRestoreHistory:function(){e.startAmendInfo()},onCompositionStart:function(){n.compositionStart=!0},onCompositionEnd:function(){n.compositionStart=!1,setTimeout(function(){f.saveSnap(!0)},0)},onDragDrop:function(e){return o.stopEvent(e),!1},onKeyDown:function(t){var r=p.getRange();n.compositionStart||p.clearFillCharByCollapsed(),d&&!d.onKeyDown(t)||!g.onKeyDown(t)||m&&!m.onKeyDown(t)||r&&!n.compositionStart&&(e.isAmendEditing()?_.onKeyDownAmend(t):_.onKeyDownReverse(t))},onKeyDownAmend:function(e){var t=e.keyCode||e.which,i=p.getSelection(),a=void 0,c=void 0,d=void 0,g=void 0,h=void 0,m=void 0,b=void 0,_=void 0,C=void 0,y=void 0,E=void 0;if(8===t)return f.saveSnap(!1),i.isCollapsed?(p.selectCharIncludeFillChar(!0),s.removeSelection(l.getCurUser()),E=p.getRangeParentRoot(),i.collapseToStart(),s.removeUserDel(E,l.getCurUser()),i.collapseToStart()):(s.removeSelection(l.getCurUser()),s.removeUserDel(null,l.getCurUser()),i.collapseToStart()),p.caretFocus(),void o.stopEvent(e);if(46===t)return f.saveSnap(!1),i.isCollapsed&&p.selectCharIncludeFillChar(!1),s.removeSelection(l.getCurUser()),s.removeUserDel(null,l.getCurUser()),i.collapseToEnd(),p.caretFocus(),void o.stopEvent(e);if(!o.checkNonTxtKey(e)){var T=void 0,S=void 0;if(f.saveSnap(!1),i.isCollapsed||(s.removeSelection(l.getCurUser()),s.removeUserDel(null,l.getCurUser())),a=p.getRange(),c=a.endContainer,d=a.endOffset,13===t){var A=s.getWizDeleteParent(c),O=s.getWizInsertParent(c),x=!!O&&s.getWizAmendImgParent(c),N=A||O;if(N&&1===N.childNodes.length&&(!u.isUsableTextNode(N.childNodes[0])||1===N.childNodes[0].nodeType&&u.isTag(N.childNodes[0],"br")))!function(){var e=N.parentNode,t=n.doc.createElement("br");e.insertBefore(t,N),e.removeChild(N),p.setRange(t,1,t,1)}();else if(O&&x)!function(){var e=u.createSpan();e.innerHTML=r.FILL_CHAR,u.after(e,O),p.setRange(e,1,e,1)}();else if(O)!function(){var e=u.createSpan();e.innerHTML=r.FILL_CHAR,T=s.splitInsertDom(c,d,!0,l.getCurUser()),T.isInsert&&T.split?(u.after(e,O),p.setRange(e,1,e,1)):T.isInsert&&(u.before(e,O,d>0),p.setRange(e,1,e,1))}();else if(A)!function(){var e=u.createSpan();e.innerHTML=r.FILL_CHAR,T=s.splitDeletedDom(c,d),T?(u.after(e,A),p.setRange(e,1,e,1)):(u.before(e,A,d>0),p.setRange(e,1,e,1))}();else if(v())return void o.stopEvent(e);return void i.collapseToEnd()}if(T=s.splitInsertDom(c,d,!1,l.getCurUser()),S=s.getWizAmendImgParent(c),T.isInsert&&!T.split&&!S)return 0===d&&1===T.insertDom.nodeType?(u.before(n.doc.createTextNode(r.FILL_CHAR),T.insertDom.childNodes[0]),p.setRange(T.insertDom,1,null,null)):p.setRange(c,d,null,null),a=p.getRange(),void(9===t&&(a.insertNode(u.getTab()),p.modify("move","forward","character"),p.modify("move","forward","character"),p.modify("move","forward","character"),p.modify("move","forward","character"),o.stopEvent(e)));g=s.createDomForInsert(l.getCurUser()),T.split?(3===c.nodeType&&(c=c.parentNode),u.before(g,c,d>0)):S?u.after(g,S):1===c.nodeType?d<c.childNodes.length?c.getAttribute(r.ATTR.SPAN)&&(0===c.childNodes.length||1===c.childNodes.length&&u.isTag(c.childNodes[0],"br"))?(u.before(g,c),u.remove(c)):u.before(g,c.childNodes[d]):u.isTag(c,["td","th"])||u.hasClass(c,r.CLASS.TODO_MAIN)?(u.isEmptyDom(c)&&(c.innerHTML=""),c.appendChild(g)):u.after(g,c):3===c.nodeType&&(s.splitDeletedDom(c,d)?u.after(g,c.parentNode):d<c.nodeValue.length?(C=c.nodeValue.substr(d),y=n.doc.createTextNode(C),c.nodeValue=c.nodeValue.substr(0,d),u.after([g,y],c)):(m=u.getParentByTagName(c,"a",!0,null),_=m?u.getNextNode(c):null,b=_?u.getParentByTagName(_,"a",!0,null):null,h=c.nextSibling,m&&m!==b?u.after(g,m):h?u.before(g,h):c.parentNode.insertBefore(g,null))),9===t?(g.appendChild(u.getTab()),p.setRange(g,2,null,null),o.stopEvent(e)):p.setRange(g.childNodes[0],1,null,null)}},onKeyDownReverse:function(t){var n=t.keyCode||t.which,i=p.getRange(),a=s.fixedAmendRange(),l=function(e,t){if(e){var n=void 0,o=void 0;o=s.getWizAmendParent(e),o&&1===o.childNodes.length&&(n=u.createSpan(),n.innerHTML=r.FILL_CHAR+r.FILL_CHAR,u.before(n,o,t>0),u.remove(o),p.setRange(n,t>0?0:2,n,1))}};if(8===n)return f.saveSnap(!1),void(i&&i.collapsed&&a&&a.leftDom&&(a.startImg=s.getWizAmendImgParent(a.leftDom),a.startImg?(a.startDom=a.startImg,a.startOffset=0,p.setRange(a.startDom,a.startOffset,a.endDom,a.endOffset)):3===a.leftDom.nodeType&&1===a.leftDom.nodeValue.length&&l(a.leftDom,-1)));if(46===n)return f.saveSnap(!1),void(i&&i.collapsed&&a&&a.rightDom&&(a.endImg=s.getWizAmendImgParent(a.rightDom),a.endImg?(a.endDom=a.endImg,a.endOffset=a.endImg.childNodes.length,p.setRange(a.startDom,a.startOffset,a.endDom,a.endOffset)):3===a.rightDom.nodeType&&1===a.rightDom.nodeValue.length&&l(a.rightDom,1)));if(!o.checkNonTxtKey(t)){f.saveSnap(!1),e.splitAmendDomByRange(a);var d=h.checkCaretInTableContainer();c.insertEmptyLine(d.tableContainer,d.after),13===n&&v()&&o.stopEvent(t)}},onMouseDown:function(e){var t=a.isInfo(e.target);return t?void o.stopEvent(e):void a.stop()},onMouseUp:function(){a.start()},onTouchStart:function(e){}};this.accept=function(e){var t=p.getSelection(),r={},o=void 0;if(e.total)r.selection=!0,r.selectAll=!0;else if(e.dom&&!e.isSelection)r.domList=s.getSameTimeStampDom(e.dom),r.selection=!1;else{if(0===t.rangeCount)return;r.selection=!0,r.selectAll=!1}f.saveSnap(!1),o=r.selection&&!r.selectAll?s.getSelectedAmendDoms():s.getAmendDoms(r),o&&(s.splitSelectedAmendDoms(o),s.wizAmendDelete(o.deleteList),s.wizAmendDelete(o.deletedInsertList),s.wizAmendSave(o.insertList)),u.clearChildSpan(n.body,[])},this.changeCurUser=function(e){n.options.userInfo=e,l.initUser()},this.fixPaste=function(e,t,n){s.modifyDomForPaste(e,t,n)},this.fragmentFilter=function(e){if(!e)return!1;for(var t=e.querySelectorAll("."+r.CLASS.WIZ_BODY+" span["+r.ATTR.SPAN_DELETE+'="'+l.getCurUser().hash+'"]'),n=t.length-1;n>=0;n--){var o=t[n];u.remove(o)}},this.hideAmendInfo=function(){a.hide(!0)},this.isAmendEdited=function(){return s.isAmendEdited()},this.isAmendEditing=function(){return b},this.hasAmendSpanByCursor=function(){var e=s.getAmendDoms({selection:!0,selectAll:!1});return e.insertList.length>0||e.deleteList.length>0||e.deletedInsertList.length>0},this.readyForPaste=function(){var t=p.getRange(),o=void 0,i=void 0,a=void 0,c=void 0,d=void 0,f=void 0,g=void 0,h=void 0,m=void 0,v=void 0,b=void 0,_=void 0,C=void 0,y=void 0,E=void 0;t&&(t.collapsed||(o=u.getParentByTagName(t.endContainer,["td","th"],!0,null),s.removeSelection(l.getCurUser()),s.removeUserDel(null,l.getCurUser())),t=p.getRange(),i=t.endContainer,a=t.endOffset,u.isTag(i,["td","th"])&&0===a&&o!==i&&(i=o,a=u.getEndOffset(i)),C=s.splitInsertDom(i,a,!0,l.getCurUser()),c=(new Date).valueOf(),d=s.createDomForPaste(c),f=d.start,g=d.content,h=d.end,y=s.getWizAmendImgParent(i),C.split?(3===i.nodeType&&(i=i.parentNode),u.before([f,g,h],i,a>0)):y?u.after([f,g,h],y):1===i.nodeType?(E=!1,u.isTag(i,["td","th"])&&(u.isEmptyDom(i)&&(i.innerHTML="",i.appendChild(u.createSpan())),E=!0),a<i.childNodes.length?u.before([f,g,h],i.childNodes[a]):E?(i.appendChild(f),i.appendChild(g),i.appendChild(h)):u.after([f,g,h],i)):3===i.nodeType&&(s.splitDeletedDom(i,a)?u.after([f,g,h],i.parentNode):a<i.nodeValue.length?(_=n.doc.createTextNode(i.nodeValue.substr(a)),i.nodeValue=i.nodeValue.substr(0,a),u.after([f,g,h,_],i)):(v=u.getParentByTagName(i,"a",!0,null),m=i.nextSibling,v?u.after([f,g,h],v):m?u.before([f,g,h],m):(b=i.parentNode,b.insertBefore(f,null),b.insertBefore(g,null),b.insertBefore(h,null)))),p.setRange(g.childNodes[0],0,g.childNodes[0],1),setTimeout(function(){h=n.body.querySelector(" span["+r.ATTR.SPAN_PASTE_TYPE+'="'+r.TYPE.PASTE.END+'"]['+r.ATTR.SPAN_PASTE_ID+'="'+h.getAttribute(r.ATTR.SPAN_PASTE_ID)+'"]'),e.fixPaste(f,h,l.getCurUser())},200))},this.refuse=function(e){var t=p.getSelection(),r={},o=void 0;if(e.total)r.selection=!0,r.selectAll=!0;else if(e.dom&&!e.isSelection)r.domList=s.getSameTimeStampDom(e.dom),r.selection=!1;else{if(0===t.rangeCount)return;r.selection=!0,r.selectAll=!1}if(f.saveSnap(!1),o=r.selection&&!r.selectAll?s.getSelectedAmendDoms():s.getAmendDoms(r)){s.splitSelectedAmendDoms(o);var i=o.deletedInsertList.length>0&&0===o.deleteList.length&&0===o.insertList.length;s.wizAmendSave(o.deleteList),i&&s.wizAmendSave(o.deletedInsertList),s.wizAmendDelete(o.insertList),i||s.wizAmendDelete(o.deletedInsertList)}u.clearChildSpan(n.body,[])},this.splitAmendDomByRange=function(e){return s.splitAmendDomByRange(e)},this.start=function(){b=!0,e.stopReverse(),_.bind(),e.startAmendInfo(),n.event.add(r.EVENT.BEFORE_SAVESNAP,_.onBeforeSaveSnap),n.event.add(r.EVENT.AFTER_RESTORE_HISTORY,_.onAfterRestoreHistory)},this.startReverse=function(){e.stop(),_.bindReverse(),e.startAmendInfo()},this.startAmendInfo=function(e){a.init(e,{onAccept:_.onAccept,onRefuse:_.onRefuse})},this.stop=function(){b=!1,_.unbind(),a.remove(),!e.isAmendEdited(),n.event.remove(r.EVENT.BEFORE_SAVESNAP,_.onBeforeSaveSnap),n.event.remove(r.EVENT.AFTER_RESTORE_HISTORY,_.onAfterRestoreHistory)},this.stopReverse=function(){_.unbindReverse(),a.remove(),!e.isAmendEdited()},this.stopAmendInfo=function(){a.remove()}};t.exports=i},{"../../config/const":391,"../../libs/utils":402}],356:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/utils"),i=function(){var e=this,t=null,n=null,i=null,a=null,l=null,s=null,c=null,d=null;this.initCore=function(e){t=e,n=t.env,i=t.lang,a=t.require.amendUser,l=t.require.amendUserAction,s=t.require.amendUtils,c=t.require.domUtils,d=t.require.rangeUtils};var u={onAccept:null,onRefuse:null},f=!1,p={x:null,y:null},g={bind:function(){n.client.type.isIOS||n.client.type.isAndroid?(n.event.add(r.EVENT.ON_TOUCH_START,g.handler.onTouchstart),n.event.add(r.EVENT.ON_TOUCH_END,g.handler.onMouseMove)):n.event.add(r.EVENT.ON_MOUSE_MOVE,g.handler.onMouseMove)},unbind:function(){n.event.remove(r.EVENT.ON_TOUCH_START,g.handler.onTouchstart),n.event.remove(r.EVENT.ON_TOUCH_END,g.handler.onMouseMove),n.event.remove(r.EVENT.ON_MOUSE_MOVE,g.handler.onMouseMove)},bindInfoBtn:function(){g.unbindInfoBtn(),n.client.type.isIOS||n.client.type.isAndroid?e.main.addEventListener("touchend",g.handler.onClick):e.main.addEventListener("click",g.handler.onClick)},unbindInfoBtn:function(){n.client.type.isIOS||n.client.type.isAndroid?e.main.removeEventListener("touchend",g.handler.onClick):e.main.removeEventListener("click",g.handler.onClick)},handler:{onAccept:function(t){u.onAccept&&u.onAccept(v()),e.hide(!0),l.save(l.ActionId.ClickAcceptFromAmendInfo)},onClick:function(e){var t=void 0;t=e.changedTouches?e.changedTouches[0].target:e.target,t.id===r.ID.AMEND_INFO_ACCEPT?g.handler.onAccept(e):t.id===r.ID.AMEND_INFO_REFUSE&&g.handler.onRefuse(e),o.stopEvent(e)},onMouseMove:function(t){var r=o.getEventClientPos(t);if((p.x!==r.x||p.y!==r.y)&&(p=r,!f)){var i=t.target,a=e.isInfo(i),l=void 0,u={width:20,height:20};if(a)return clearTimeout(e.showTimer),void clearTimeout(e.hideTimer);var g=d.getSelection(),h=void 0,m=s.getWizDeleteParent(i)||s.getWizInsertParent(i);!g.isCollapsed&&m&&g.containsNode(m,!0)&&(h=g.isCollapsed?null:s.getAmendDoms({selection:!0,selectAll:!1})),h&&(h=h.deletedInsertList.concat(h.insertList,h.deleteList),0===h.length&&(h=null));var v=void 0;h||m?(v=parseInt(n.win.getComputedStyle(m)["font-size"]),isNaN(v)&&(v=14),l=c.getPageScroll(),u.left=r.x+l.left,u.top=r.y+l.top-v,u.top<m.offsetTop&&(u.top=m.offsetTop),e.show(h||m,u)):e.hide(!1)}},onTouchstart:function(t){var n=t.target,r=e.isInfo(n);r||e.hide(!1)},onRefuse:function(t){u.onRefuse&&u.onRefuse(v()),e.hide(!0),l.save(l.ActionId.ClickRefuseFromAmendInfo)}}},h=function(){var t=n.body.querySelector("#"+r.ID.AMEND_INFO),o=void 0;return c.remove(t),t=n.doc.createElement("div"),o=n.doc.createElement("div"),c.setContenteditable(o,!1),t.appendChild(o),t.id=r.ID.AMEND_INFO,c.css(t,{position:"absolute","z-index":r.CSS.Z_INDEX.amendInfo,display:"none",padding:"6px","font-family":'"Microsoft Yahei","微软雅黑",Helvetica,SimSun,SimHei'}),o.innerHTML=m(),c.css(o,{"background-color":"white",padding:"0px","font-size":"12px",border:"1px solid #D8D8D8","-webkit-border-radius":"4px","-moz-border-radius":"4px","-border-radius":"4px","-webkit-box-shadow":"rgba(0, 0, 0, 0.24) 0px 3px 3px","-moz-box-shadow":"rgba(0, 0, 0, 0.24) 0px 3px 3px","box-shadow":"rgba(0, 0, 0, 0.24) 0px 3px 3px","min-width":"160px","max-width":"280px","min-height":"50px"}),e.template.appendChild(t),t},m=function(){return n.client.type.isIOS||n.client.type.isMac||n.client.type.isAndroid?'<div id="'+r.ID.AMEND_INFO_SINGLE+'" style="display:none; padding: 8px 16px;"><img id="'+r.ID.AMEND_INFO_IMG+'" class="'+r.CLASS.IMG_NOT_DRAG+'" style="width: 40px; height: 40px !important; position: absolute; -webkit-border-radius: 40px;-moz-border-radius:40px;border-radius:40px;"><ul style="list-style-type: none;margin: 4px 0 0 50px;padding-left: 0;"><li style="line-height: 18px;white-space: nowrap;padding: 2px 0;"><span id="'+r.ID.AMEND_INFO_NAME+'" style="color:#000;font-size:12px;font-weight:bold;max-width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block;"></span><span id="'+r.ID.AMEND_INFO_CONTENT+'" style="color:#000;font-size:12px;margin-left:.5em;display:inline-block;overflow:hidden;float:right"></span></li><li style="line-height: 18px;text-align: right;"><span id="'+r.ID.AMEND_INFO_TIME+'" style="color:#A3A3A3;font-size:12px;"></span></li></ul></div><div id="'+r.ID.AMEND_INFO_MULTI+'" style="display:none; padding: 8px 16px;"><p style="margin: 4px 16px;">'+i.Amend.MultiInfo+'</p></div><div id="'+r.ID.AMEND_INFO_TOOLS+'" style="padding:0;margin:0;box-sizing: border-box;"><div style="line-height: 26px;width: 50%;display:inline-block;text-align: center;padding:0 8px;margin:0;box-sizing: border-box;"><a id="'+r.ID.AMEND_INFO_REFUSE+'" href="javascript:void(0);" style="font-size:12px;display:block;cursor:pointer;color:#447BD8;text-decoration: blink;">'+i.Amend.BtnRefuse+'</a></div><div style="line-height: 26px;width: 50%;display:inline-block;text-align: center;padding:0 8px;margin:0;box-sizing: border-box;"><a id="'+r.ID.AMEND_INFO_ACCEPT+'" href="javascript:void(0);" style="font-size:12px;display:block;cursor:pointer;color:#447BD8;text-decoration: blink;">'+i.Amend.BtnAccept+"</a></div></div>":'<div id="'+r.ID.AMEND_INFO_SINGLE+'" style="display:none; padding: 8px 16px;"><img id="'+r.ID.AMEND_INFO_IMG+'" class="'+r.CLASS.IMG_NOT_DRAG+'" style="width: 40px; height: 40px !important; position: absolute;"><ul style="list-style-type: none;margin: 4px 0 0 50px;padding-left: 0;"><li style="line-height: 18px;white-space: nowrap;padding: 2px 0;"><span id="'+r.ID.AMEND_INFO_NAME+'" style="color:#000;font-size:12px;font-weight:bold;max-width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:inline-block;"></span><span id="'+r.ID.AMEND_INFO_CONTENT+'" style="color:#000;font-size:12px;margin-left:.5em;display:inline-block;overflow:hidden;float:right"></span></li><li style="line-height: 18px;text-align: right;"><span id="'+r.ID.AMEND_INFO_TIME+'" style="color:#A3A3A3;font-size:12px;"></span></li></ul></div><div id="'+r.ID.AMEND_INFO_MULTI+'" style="display:none; padding: 8px 16px;"><p style="margin: 4px 16px;">'+i.Amend.MultiInfo+'</p></div><div id="'+r.ID.AMEND_INFO_TOOLS+'" style="padding:0;margin:0;box-sizing:border-box;border-top:1px solid #D8D8D8"><div style="line-height: 26px;width: 50%;display:inline-block;text-align: center;padding:0 8px;margin:0;box-sizing: border-box;border-right: 1px solid #D8D8D8"><a id="'+r.ID.AMEND_INFO_ACCEPT+'" href="javascript:void(0);" style="font-size:12px;display:block;cursor:pointer;color:#447BD8;text-decoration: blink;">'+i.Amend.BtnAccept+'</a></div><div style="line-height: 26px;width: 50%;display:inline-block;text-align: center;padding:0 8px;margin:0;box-sizing: border-box;"><a id="'+r.ID.AMEND_INFO_REFUSE+'" href="javascript:void(0);" style="font-size:12px;display:block;cursor:pointer;color:#447BD8;text-decoration: blink;">'+i.Amend.BtnRefuse+"</a></div></div>"},v=function(){return{dom:e.cur,isSelection:!!e.isSelection}},b=function(){e.main&&(g.unbindInfoBtn(),e.cur=null,e.curPos=null,e.isMulti=!1,e.isSelection=!1,e.img.src="",e.name.innerText="",c.attr(e.name,{title:""}),e.content.innerText="",c.css(e.main,{display:"none"}),e.template.appendChild(e.main))},_=function(t){e.curPos=t,e.singleUser.style.display="none",e.multiUser.style.display="block"},C=function(t){var n=e.cur,o=n.getAttribute(r.ATTR.SPAN_USERID),l=a.getUserByGuid(o),s=l?l.name:i.Amend.UserNameDefault,d=n.getAttribute(r.ATTR.SPAN_TIMESTAMP),u=!!n.getAttribute(r.ATTR.SPAN_DELETE);d=d.substring(0,d.length-3),e.curPos=t,e.img.src=l?l.imgUrl:"",e.name.innerText=s,c.attr(e.name,{title:s}),e.content.innerText=u?i.Amend.Delete:i.Amend.Edit,e.time.innerText=d,e.multiUser.style.display="none",e.singleUser.style.display="block"},y=function(){c.remove(n.body.querySelector("#"+r.ID.AMEND_INFO))},E=function(t){e.main.parentNode===e.template&&(n.body.appendChild(e.main),e.singleUser=n.body.querySelector("#"+r.ID.AMEND_INFO_SINGLE),e.multiUser=n.body.querySelector("#"+r.ID.AMEND_INFO_MULTI),e.img=n.body.querySelector("#"+r.ID.AMEND_INFO_IMG),e.name=n.body.querySelector("#"+r.ID.AMEND_INFO_NAME),e.content=n.body.querySelector("#"+r.ID.AMEND_INFO_CONTENT),e.time=n.body.querySelector("#"+r.ID.AMEND_INFO_TIME),e.tools=n.body.querySelector("#"+r.ID.AMEND_INFO_TOOLS),e.btnAccept=n.body.querySelector("#"+r.ID.AMEND_INFO_ACCEPT),e.btnRefuse=n.body.querySelector("#"+r.ID.AMEND_INFO_REFUSE)),e.cur?C(t):_(t),g.bindInfoBtn(),e.readonly?e.tools.style.display="none":e.tools.style.display="block",c.css(e.main,{top:"0px",left:"0px",display:"block",visibility:"hidden"}),c.setLayout({layerObj:e.main,target:t,placement:r.TYPE.PLACEMENT.TOP_START,isFixed:!1,isReverse:!0,space:r.AMEND.INFO_SPACE}),c.css(e.main,{display:"block",visibility:"visible"})};this.btnAccept=null,this.btnRefuse=null,this.content=null,this.cur=null,this.curPos=null,this.img=null,this.isMulti=!1,this.isSelection=!1,this.main=null,this.name=null,this.template=null,this.time=null,this.hide=function(t){clearTimeout(e.showTimer),clearTimeout(e.hideTimer),(e.cur||e.isMulti)&&(t?b():e.hideTimer=setTimeout(b,r.AMEND.INFO_TIMER))},this.init=function(t,r){e.template=n.doc.createElement("div"),e.main=h(),e.readonly=!(!t||!t.readonly),c.setContenteditable(e.main,!1),r&&r.onAccept&&(u.onAccept=r.onAccept),r&&r.onRefuse&&(u.onRefuse=r.onRefuse),g.unbind(),g.bind()},this.isInfo=function(t){var n=c.getParentByFilter(t,function(t){return t===e.main},!0);return!!n},this.remove=function(){g.unbind(),y(),e.main=null,e.img=null,e.name=null,e.content=null,e.time=null,e.btnAccept=null,e.btnRefuse=null},this.show=function(t,n){clearTimeout(e.showTimer),clearTimeout(e.hideTimer);var i=o.isArray(t),a=i&&t.length>1,l=i?a?null:t[0]:t,s=!1;e.isSelection=i,e.isMulti!==a||l!==e.cur?(e.hide(!0),s=!0):(!e.curPos||Math.abs(e.curPos.left-n.left)>75||Math.abs(e.curPos.top-n.top)>24)&&(s=!0),s&&(e.showTimer=setTimeout(function(){e.isMulti=a,e.cur=l,E(n)},2*r.AMEND.INFO_TIMER))},this.start=function(){f=!1},this.stop=function(){e.hide(!0),f=!0}};t.exports=i},{"../../config/const":391,"../../libs/utils":402}],357:[function(e,t,n){"use strict";var r=e("../../config/const"),o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAExUlEQVRYR9WZz08bRxTHvya1CHbUSHXCiZzCIaaBBOUUEveQSORWYwwRxRCpqtIqjZL8XQkEUppAbQMX6hgh5UetRiFV4MABQXoK2AgUx1vNzs7u7Hpmf3m3Vc3Blm2Gz/vOd95784goiqLgf/aIhAVdrVaxu7sLKomC7u7uwKQJBPrFi5eoVvfx6VMdZONOnIhjf78KBQoINQEnrwcuD+DkyS9bhvcNfXR0hFKppEKqWqp8BE0l1N7XgPXvKOjq6kJfX29L4L6hCfDh4aEnYBbQjRuD+PhxD4nEV77gfUEvLy/rXm1S2GIJQ3VtJ9TdoFtDfuKxOK5fv+YJ3jM0BfZmCd4y5tcUPp3+Njzo1dVV1Go1X5Yw+Z1oTOLWVI91HMfg4KBrcE9KLy0tq+mrVUvwwGSxzs5ODAxcDgt6yXWWcLIEVd5QezgzFA704iKBdk5rQmCLJdRzwYEPD2fCgS4WF408LMkSooOmhsl5mBYcTmlFQTY7HA50oVi0LRxeLcHDj4QGXShKK50jsGpfsyWY2uR5dCQbjtL5QsHUSzgVDidL8AcxNOiVlRXUagdccTEfSqGfLVmCt4RRpBTcHB0JR+lS6Tn29va04iIBdsgSvCVoxlMQ/SKKTCYdPPT29jb+qFSEB5HvJbxYgnqctq2958+jpyfpCtx1RVxY+M1eYUsKYyrqAWmf85ZgwAx+bOxm8ND0D4rLOK+wXZbQg+F6bALfQAOj2Syi0agjuGul5+cXTA1+EJbg7UFeZ4bS6OjoCA762fy87udWsoTMHkT43PiYIzD5gmul19bW8OHD36Yy7tUSVg/T8q6VeCjIjX8XLDRZ/OkzojZNdX6zhNUSzOPEGrFYLFhotlpxcQkHBwdaZTS3l7LCYWeJeDyGoTBvLgy8XC5jl1jFppeQZQm/luC3wLWn+V9qNBqYm/u1qb3kewmZDXjVe5JJ9PdfdGWJlqHJAk9+mQOBl1nC6dCRTZrIuTt41qh8Kc0WmZmZ1dXmFbTzMCtOly71I3nunGeVPaU80eo7Ozv4vfRcvzY1WULrK8wBqW7HRG7cF3DL0GSBqenHRk9iKc3WQ8eGka0ABwZtpzADNZ4VTE7kfKscCPSjqWm9vZRnDGoJVv1uTf7H0A8fTen24DOGSGH23q3JiX9f6Xq9jnfv/sKfb954BmbTqYsX+nDmTBcSiYTnAFynvK2tLZDhef3zZ60S0huHLNXxHrZTnXwWiUTQffYsUqkrrgKQQpMLbD6fF+ZhN4WD9zB/cTC/ZsN3YwysN1CZNE6fOiUMwgT99u061tfXjRmb4IrkpnCIgOVBNAObdg/A1z1JfJO6qgegQ5fLqyDFwnqnY/M2L4WD75GZh5nCIqWlFqOyq7sdaWvDnZ9uq+A69Ozsk1AUtt4rhd2fNkpg4wWzULT9JZ/d/uF7tLe3U+iNjU1tPGAMBu1uzbJKZ1W4FUuIhpQX+nqRSl2l0O/fb6BSqZhbTX32xmUJm14iVGCN5VjbMfx850cK/erVa2xuburb4LaBl6U1mSVE6zpZwphhE4s0cP/eXQqdzxewX61Kcy6bS9ComPLm0ixKa34PXXMyoMDkoUNPP56Rt5fcITGUEgMH6mGLPdl/fh/cv4t/ANultPKz243RAAAAAElFTkSuQmCC",i=function(){
var e=null,t=null,n=null;this.initCore=function(r){e=r,t=e.env,n=e.require.domUtils};var i=function(e){v[e.guid]=e,b[e.guid]={color:e.color,name:e.name}},a=function(e){var t=e.hash,n=r.COLOR.length,o={};if(f(),v[t])return v[t].color;for(var i in v)if(v.hasOwnProperty(i)){var a=v[i].color;o[a]=!0}for(var l=0;l<n;l++){var s=r.COLOR[l];if(!o[s])return s}return r.COLOR[0]},l=function(){m=t.doc.createElement("meta"),m.id=r.ID.AMEND_USER_INFO,m.name=r.ID.AMEND_USER_INFO,t.doc.getElementsByTagName("HEAD")[0].insertBefore(m,null)},s=function(e){return e},c=function(e){if(t.client.type.isWeb)return"/as/user/avatar/"+e+"?default=true&_"+(new Date).valueOf();if(t.client.type.isWin)try{var n=external.GetAvatarByUserGUID(e);return n?n:o}catch(e){console.error(e)}else t.client.type.isMac||t.client.type.isIOS||t.client.type.isAndroid;return o},d=function(){return m?m:m=t.doc.getElementById(r.ID.AMEND_USER_INFO)},u=function(e){if(t.client.type.isWeb);else if(t.client.type.isWin)try{return external.GetAliasByUserGUID(e)}catch(e){console.error(e)}else t.client.type.isMac||t.client.type.isIOS||t.client.type.isAndroid;return null},f=function(){if(!v&&(v={},b={},m=d()))try{b=JSON.parse(m.content);for(var e in b)if(b.hasOwnProperty(e)){var t=b[e];t.user_guid=e;var n=u(e);n?t.user_name=n:t.user_name=t.name,v[e]=new g(t)}}catch(e){}},p=function(){m||l(),m.content=JSON.stringify(b)},g=function(e){e||(e={}),this.guid=e.user_guid||"",this.hash=s(this.guid),this.name=e.user_name||"",this.imgUrl=e.img_url?e.img_url:c(this.guid),this.color=e.color||a(this)},h=null,m=null,v=null,b=null;this.initUser=function(){f();var e=t.options.userInfo;return e?(h=new g(e),void i(h)):null},this.getCurUser=function(){return p(),h},this.getUserByGuid=function(e){return h&&e===h.guid?h:v&&v[e]?v[e]:(f(),v[e])},this.setUsersData=function(){var e=t.options.usersData;if(e)for(var n=0,r=e.length;n<r;n++){var o=e[n],i=v[o.user_guid],a=b[o.user_guid];i&&o.user_name&&(i.name=o.user_name),i&&o.img_url&&(i.imgUrl=o.img_url),a&&o.user_name&&(a.name=o.user_name)}}};t.exports=i},{"../../config/const":391}],358:[function(e,t,n){"use strict";var r={ClickAcceptFromAmendInfo:"ClickAcceptFromAmendInfo",ClickRefuseFromAmendInfo:"ClickRefuseFromAmendInfo"},o=function(){var e=null,t=null;this.initCore=function(n){e=n,t=e.env};var n={save:function(e){if(t.client.type.isWin)try{external&&external.LogAction&&external.LogAction(e)}catch(e){console.error(e.toString())}}};this.ActionId=r,this.save=n.save};t.exports=o},{}],359:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/utils"),i=function(){var e=this,t=null,n=null,i=null,a=null,l=null,s=null;this.initCore=function(e){t=e,n=t.env,i=t.require.amendUser,a=t.require.commandExtend,l=t.require.domUtils,s=t.require.rangeUtils},this.add2SelectedAmendDoms=function(e,t){t&&(t.getAttribute(r.ATTR.SPAN_INSERT)&&t.getAttribute(r.ATTR.SPAN_DELETE)?e.deletedInsertList.push(t):t.getAttribute(r.ATTR.SPAN_INSERT)?e.insertList.push(t):t.getAttribute(r.ATTR.SPAN_DELETE)&&e.deleteList.push(t))},this.createDomForImg=function(t,o){var i=n.doc.createElement("span");e.setDefaultAttr(i,o);var a={};return a[r.ATTR.IMG]="1",t===r.TYPE.IMG_DELETE&&(a[r.ATTR.SPAN_INSERT]=null,a[r.ATTR.SPAN_DELETE]=o.hash),l.attr(i,a),e.setUserImgContainerStyle(i),i},this.createDomForInsert=function(t){var o=n.doc.createElement("span");return e.setDefaultAttr(o,t),e.setUserInsertStyle(o,t),o.innerHTML=r.FILL_CHAR,o},this.createDomForReverse=function(){var e=n.doc.createElement("span");return e.innerHTML=r.FILL_CHAR,e},this.createDomForPaste=function(e){var t=void 0,n=void 0,o=void 0,i=void 0;return t=l.createSpan(),i={},i[r.ATTR.SPAN_PASTE_TYPE]=r.TYPE.PASTE.START,i[r.ATTR.SPAN_PASTE_ID]=e,l.attr(t,i),t.innerHTML=r.FILL_CHAR,n=l.createSpan(),i={},i[r.ATTR.SPAN_PASTE_TYPE]=r.TYPE.PASTE.CONTENT,i[r.ATTR.SPAN_PASTE_ID]=e,l.attr(n,i),n.innerHTML=r.FILL_CHAR+r.FILL_CHAR,o=l.createSpan(),i={},i[r.ATTR.SPAN_PASTE_TYPE]=r.TYPE.PASTE.END,i[r.ATTR.SPAN_PASTE_ID]=e,l.attr(o,i),o.innerHTML=r.FILL_CHAR,{start:t,content:n,end:o}},this.deleteImg=function(t,n){var o=e.getWizAmendImgParent(t),i=void 0;if(o){if(!o.getAttribute(r.ATTR.SPAN_DELETE)){var a={};a[r.ATTR.SPAN_USERID]=n.hash,a[r.ATTR.SPAN_DELETE]=n.hash,l.attr(o,a),i=o.querySelector("img["+r.ATTR.IMG_MASK+"]"),l.css(i,r.CSS.IMG.MASK),l.css(i,r.CSS.IMG_DELETED)}}else{var c=s.isRangeEdge(t),d=e.packageImg(t,r.TYPE.IMG_DELETE,n);c.isStart&&(c.startDom=d,c.startOffset=0),c.isEnd&&(c.endDom=d.parentNode,c.endOffset=l.getIndex(d)+1),c.isCollapsed&&c.isStart?s.setRange(c.startDom,l.getEndOffset(c.startDom),null,null):c.isCollapsed||!c.isStart&&!c.isEnd||s.setRange(c.startDom,c.startOffset,c.endDom,c.endOffset)}},this.fixedAmendRange=function(){var t=s.getRange();if(!t)return null;var n=t.startContainer,r=t.endContainer,o=t.startOffset,i=t.endOffset,a=void 0,c=void 0,d=void 0,u=void 0,f=void 0,p=void 0;return t&&t.collapsed?(c=s.getRangeAnchor(!1),a=3===r.nodeType&&i>0&&i<r.nodeValue.length?c:l.getPreviousNode(c,!1,null)):(d=s.getRangeAnchor(!0),u=s.getRangeAnchor(!1),f=e.getWizAmendImgParent(d),p=e.getWizAmendImgParent(u),f&&(n=f,o=0),p&&(r=p,i=p.childNodes.length),(f||p)&&s.setRange(n,o,r,i)),{startImg:f,endImg:p,startDom:n,startOffset:o,endDom:r,endOffset:i,leftDom:a,rightDom:c}},this.fixSelectionByDeleteImg=function(){var t=s.getRange(),n=void 0,o=void 0,i=void 0,a=void 0,c=!1,d=!1;t&&(n=e.getWizAmendImgParent(t.startContainer),n&&!n.getAttribute(r.ATTR.SPAN_DELETE)&&(n=null),n?(c=!0,i=0):(n=t.startContainer,i=t.startOffset),t.collapsed?(o=n,d=c):(o=e.getWizAmendImgParent(t.endContainer),o?d=!0:(o=t.endContainer,a=t.endOffset)),d&&o&&o.nextSibling?(a=0,o=o.nextSibling):d&&o?(a=l.getIndex(o)+1,o=o.parentNode):a=t.endOffset,t.collapsed?s.setRange(o,a):s.setRange(n,i,o,a))},this.getAmendDoms=function(t){var n={},i={},a={insertList:[],deleteList:[],deletedInsertList:[]},s=[];if(t.selection)n[r.ATTR.SPAN_INSERT]="",a.insertList=e.getWizSpanFromRange(t.selectAll,n),a.deletedInsertList=l.removeListFilter(a.insertList,function(e){return e.getAttribute(r.ATTR.SPAN_DELETE)}),i[r.ATTR.SPAN_DELETE]="",a.deleteList=e.getWizSpanFromRange(t.selectAll,i),s=l.removeListFilter(a.deleteList,function(e){return e.getAttribute(r.ATTR.SPAN_INSERT)}),a.deletedInsertList=o.removeDup(a.deletedInsertList.concat(s));else for(var c=0,d=t.domList.length;c<d;c++){var u=t.domList[c];u.getAttribute(r.ATTR.SPAN_DELETE)&&u.getAttribute(r.ATTR.SPAN_INSERT)?a.deletedInsertList.push(u):u.getAttribute(r.ATTR.SPAN_DELETE)?a.deleteList.push(u):u.getAttribute(r.ATTR.SPAN_INSERT)&&a.insertList.push(u)}return a},this.getDeletedStyle=function(e){var t={};t[r.ATTR.SPAN_DELETE]=e.hash,t[r.ATTR.SPAN_USERID]=e.hash,t[r.ATTR.SPAN_TIMESTAMP]=o.getTime();var n={color:e.color,"text-decoration":"line-through"};return{attr:t,style:n}},this.getSameTimeStampDom=function(t){if(!t||1!==t.nodeType)return[];var n=[],i=function(e,t){return t?l.getPreviousNode(e,!1,null):l.getNextNode(e,!1,null)},a=function(e){return e.getAttribute(r.ATTR.SPAN_DELETE)&&e.getAttribute(r.ATTR.SPAN_INSERT)?1:e.getAttribute(r.ATTR.SPAN_INSERT)?2:e.getAttribute(r.ATTR.SPAN_DELETE)?3:0},s=function(t,n,l){var s=void 0,c=void 0,d=void 0,u=a(t),f=t.getAttribute(r.ATTR.SPAN_TIMESTAMP),p=t.getAttribute(r.ATTR.SPAN_USERID);if(f)for(var g=i(t,n);g;)s=e.getWizInsertParent(g)||e.getWizDeleteParent(g),g=s,g&&g.getAttribute(r.ATTR.SPAN_USERID)!==p?g=null:g&&(c=g.getAttribute(r.ATTR.SPAN_TIMESTAMP),d=a(g),u===d&&o.isSameAmendTime(g.getAttribute(r.ATTR.SPAN_TIMESTAMP),f)?(n?l.splice(0,0,g):l.push(g),g=i(g,n)):g=null)};return s(t,!0,n),n.push(t),s(t,!1,n),n},this.getSelectedAmendDoms=function(){var t=s.getRange(),n=void 0,r=void 0,o=void 0,i=void 0,a=e.getAmendDoms({selection:!0,selectAll:!1});if(!t||0===a.insertList.length&&0===a.deleteList.length&&0===a.deletedInsertList.length)return null;if(t.collapsed)return a;var c=function(e,t,n){if(0===e.length||0===n)return null;var r=e[0];return r===t||l.contains(r,t)?(e.splice(0,1),{dom:t,offset:n}):null},d=function(e,t,n){if(0===e.length)return null;var r=3===t.nodeType?t.length:t.childNodes.length;if(n===r)return null;var o=e[e.length-1];return o===t||l.contains(o,t)?(e.splice(e.length-1,1),{dom:t,offset:n}):null};n=t.startContainer,o=t.startOffset,r=t.endContainer,i=t.endOffset;var u=c(a.deleteList,n,o);u||(u=c(a.insertList,n,o),u||(u=c(a.deletedInsertList,n,o)));var f={};return r===n&&u?(f.dom=u.dom,f.offset=i):(f=d(a.deleteList,r,i),f||(f=d(a.insertList,r,i),f||(f=d(a.deletedInsertList,r,i)))),a.start=u,a.end=f,a},this.getWizAmendImgParent=function(e){return l.getParentByFilter(e,function(e){return e&&1===e.nodeType&&e.getAttribute(r.ATTR.IMG)},!0)},this.getWizAmendParent=function(e){return l.getParentByFilter(e,function(e){return e&&1===e.nodeType&&(e.getAttribute(r.ATTR.SPAN_INSERT)||e.getAttribute(r.ATTR.SPAN_DELETE))},!0)},this.getWizDeleteParent=function(e){return l.getParentByFilter(e,function(e){return e&&1===e.nodeType&&e.getAttribute(r.ATTR.SPAN_DELETE)},!0)},this.getWizInsertParent=function(e){return l.getParentByFilter(e,function(e){return e&&1===e.nodeType&&e.getAttribute(r.ATTR.SPAN_INSERT)&&!e.getAttribute(r.ATTR.SPAN_DELETE)&&e.childNodes.length>0},!0)},this.getWizSpanFromRange=function(e,t){var r="span";if(!t)return[];for(var o in t)t.hasOwnProperty(o)&&(r+=t[o]?"["+o+'="'+t[o]+'"]':"["+o+"]");var i=function(e){if(!e||1!==e.nodeType)return!1;for(var n in t)if(t.hasOwnProperty(n)&&(!e.getAttribute(n)||t[n]&&e.getAttribute(n)!==t[n]))return!1;return!0},a=s.getRange(),c=void 0,d=void 0,u=void 0,f=void 0,p=void 0,g=void 0,h=void 0,m=void 0,v=void 0,b=[];if(e){for(var _=n.body.querySelectorAll(r),C=0,y=_.length;C<y;C++)b.push(_[C]);return b}if(!a)return[];if(a.collapsed)return d=s.getRangeAnchor(!1),c=l.getPreviousNode(d,!1,null),d&&(d=l.getParentByFilter(d,i,!0),d&&b.push(d)),b;if(c=s.getRangeAnchor(!0),d=s.getRangeAnchor(!1),!c||!d)return[];if(u=l.getParentByFilter(c,i,!0),f=l.getParentByFilter(d,i,!0),u&&u==f)return[u];p=l.getParentRoot([c,d]),g=p.querySelectorAll(r),h=l.getIndexList(c),m=l.getIndexList(d),u&&b.push(u);for(var E=0,T=g.length;E<T;E++){var S=g[E];v=l.getIndexList(S),l.compareIndexList(h,v)<=0&&l.compareIndexList(m,v)>=0&&b.push(S)}return b},this.isAmendEdited=function(){var t=e.getAmendDoms({selection:!0,selectAll:!0});return!!t&&(t.deleteList.length>0||t.insertList.length>0||t.deletedInsertList.length>0)},this.isWizAmend=function(t){return e.getWizAmendParent(t)},this.isWizDelete=function(t){return!!e.getWizDeleteParent(t)},this.isWizInsert=function(t){return!!e.getWizInsertParent(t)},this.modifyDomForPaste=function(t,i,a){if(t&&i){1===t.childNodes.length&&t.innerText===r.FILL_CHAR&&(t.innerHTML=""),1===i.childNodes.length&&i.innerText===r.FILL_CHAR&&(i.innerHTML="");var s=l.getParentRoot([t,i]);if(s){var c=void 0,d=void 0,u=void 0,f=void 0,p=void 0;f=l.getListA2B({startDom:t,startOffset:0,endDom:i,endOffset:l.getEndOffset(i)}),p=f.list;for(var g=0,h=p.length;g<h;g++){var m=p[g];if(c=m.parentNode,u=e.getWizAmendParent(m),c){if(u)m=u;else if(3===m.nodeType){if(o.isEmpty(m.nodeValue))continue;l.isWizSpan(c)&&0===c.children.length?m=c:(d=e.createDomForInsert(a),d.innerHTML="",c.insertBefore(d,m),d.appendChild(m),m=d)}if(l.isTag(m,"img"))m=e.packageImg(m,r.TYPE.IMG_INSERT,a);else if(l.isSelfClosingTag(m))continue;e.setDefaultAttr(m,a),e.setUserInsertStyle(m,a)}}s!==n.body&&s!==n.body.parentNode&&s.parentNode&&(s=s.parentNode),p=s.querySelectorAll("span["+r.ATTR.SPAN_PASTE_TYPE+"]");for(var v=0,b=p.length;v<b;v++){var _=p[v];if(0===_.childNodes.length)l.remove(_);else{var C={};C[r.ATTR.SPAN_PASTE_TYPE]=null,C[r.ATTR.SPAN_PASTE_ID]=null,l.attr(_,C)}}}}},this.packageImg=function(t,o,i){var a=void 0,s=void 0,c=void 0,d=e.createDomForImg(o,i);for(a=t.parentNode,s=t.nextSibling;s&&3===s.nodeType&&s.nodeValue===r.FILL_CHAR;)c=s,s=s.nextSibling,l.remove(c);d.appendChild(t);var u=n.doc.createElement("img");u.className+=r.CLASS.IMG_NOT_DRAG;var f={};return f[r.ATTR.IMG_MASK]="1",l.attr(u,f),t.style.maxWidth&&(u.style.maxWidth=t.style.maxWidth),t.style.maxHeight&&(u.style.maxHeight=t.style.maxHeight),t.style.width&&(u.style.width=t.style.width),t.style.height&&(u.style.height=t.style.height),l.css(u,r.CSS.IMG.MASK),o===r.TYPE.IMG_DELETE?l.css(u,r.CSS.IMG_DELETED):l.css(u,r.CSS.IMG_INSERT),d.appendChild(u),a.insertBefore(d,s),d},this.removeUserDel=function(t,n){var o=[],i=void 0;t||(t=s.getRangeParentRoot()),t&&(l.isBody(t)||(t=t.parentNode),i=e.getWizAmendImgParent(t),i&&i.getAttribute(r.ATTR.SPAN_USERID)!==n.hash&&(i=null),i?o.push(i):(l.search(t,"["+r.ATTR.SPAN_INSERT+'="'+n.hash+'"]['+r.ATTR.SPAN_DELETE+'="'+n.hash+'"]',o),l.search(t,"["+r.ATTR.SPAN_USERID+'="'+n.hash+'"] ['+r.ATTR.SPAN_DELETE+'="'+n.hash+'"]',o)));for(var a=0,c=o.length;a<c;a++){var d=o[a],u=d.parentNode;u.removeChild(d),l.removeEmptyParent(u)}},this.removeSelection=function(t){var n=s.getRange(),r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset,l=e.getWizAmendImgParent(r),c=e.getWizAmendImgParent(i),d=void 0;if(c||(d=e.splitInsertDom(i,a,!0,t),d.isInsert&&d.split&&s.setRange(r,o,i,a)),l||(d=e.splitInsertDom(r,o,!0,t),d.isInsert&&d.split&&(i===r&&(i=d.insertDom.nextSibling,a=i.childNodes.length),r=d.insertDom,o=d.insertDom.childNodes.length,s.setRange(r,o,i,a))),!n.collapsed){var u=e.getDeletedStyle(t);s.modifySelectionDom(u.style,u.attr),e.fixSelectionByDeleteImg()}},this.setDefaultAttr=function(e,t){if(1===e.nodeType){var n={};n[r.ATTR.SPAN]=r.ATTR.SPAN,n[r.ATTR.SPAN_INSERT]=t.hash,n[r.ATTR.SPAN_USERID]=t.hash,n[r.ATTR.SPAN_TIMESTAMP]=o.getTime(),l.attr(e,n)}},this.setUserImgContainerStyle=function(e){l.css(e,r.CSS.IMG.SPAN)},this.setUserInsertStyle=function(e,t){l.css(e,{color:t.color,"text-decoration":"underline"})},this.splitAmendDomByRange=function(t){if(!t)return null;var n=s.getRange(),r=t.startContainer,o=t.endContainer,i=t.startOffset,c=t.endOffset,d=void 0,u=void 0;n&&!n.collapsed?(a.execCommand("delete"),n=s.getRange(),o=n.endContainer,c=n.endOffset):(d=e.getWizAmendImgParent(t.leftDom),u=e.getWizAmendImgParent(t.rightDom),u?(o=u,c=0,s.setRange(o,c,o,c)):d&&(r=d,i=d.childNodes.length,s.setRange(r,i,r,i)),n=s.getRange(),n||(l.focus(),n=s.getRange()),n&&(o=n.endContainer,c=n.endOffset));var f=e.splitAmendDomForReverse(o,c);return f?(s.setRange(f,1,f,1),f):null},this.splitAmendDomForReverse=function(t,n){var r=e.getWizAmendImgParent(t);if(!r&&1===t.nodeType&&n>0?(t=t.childNodes[n-1],n=l.getEndOffset(t)):r||1!==t.nodeType||(t=t.childNodes[0]),!t)return null;var o=e.getWizInsertParent(t),i=e.getWizDeleteParent(t),a=o||i,s=e.createDomForReverse();if(r)l.before(s,r,n>0);else{if(!a)return null;if(a=e.splitWizDomWithTextNode(t,n),!a)return null;l.after(s,a)}return s},this.splitDeletedDom=function(t,n){if(1===t.nodeType)return!1;var r=null;return!!e.isWizDelete(t)&&(r=e.splitWizDomWithTextNode(t,n),!!r)},this.splitInsertDom=function(t,n,i,a){var s={insertDom:null,isInsert:!1,split:!1};if(!t)return s;if(1===t.nodeType&&n>0?(t=t.childNodes[n-1],n=l.getEndOffset(t)):1===t.nodeType&&(t=t.childNodes[0]),!t)return s;var c=e.getWizAmendImgParent(t),d=e.getWizInsertParent(t),u=void 0,f=void 0;if(s.insertDom=d,!d&&1===t.nodeType)return s;if(c)return s;if(d&&(i||d.getAttribute(r.ATTR.SPAN_USERID)!==a.hash))s.split=!0;else if(d)if(u=d.getAttribute(r.ATTR.SPAN_TIMESTAMP),f=o.getTime(),o.getDateForTimeStr(f)-o.getDateForTimeStr(u)>=r.AMEND_TIME_SPACE)s.split=!0;else{var p={};p[r.ATTR.SPAN_TIMESTAMP]=f,l.attr(d,p)}return s.split&&(s.split=!!e.splitWizDomWithTextNode(t,n)),s.isInsert=!!d,s},this.splitSelectedAmendDoms=function(t){if(t&&(t.start||t.end)){var n=s.getRange(),r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset,l=void 0;t.start&&t.end&&mendDoms.start.dom===t.end.dom?(e.splitWizDomWithTextNode(t.end.dom,t.end.offset),l=e.splitWizDomWithTextNode(t.start.dom,t.start.offset),l=l.nextSibling,e.add2SelectedAmendDoms(t,l),r=l,o=0,i=l,a=l.childNodes.length):(t.start&&(l=e.splitWizDomWithTextNode(t.start.dom,t.start.offset),l=l.nextSibling,e.add2SelectedAmendDoms(t,l),r=l,o=0),t.end&&(l=e.splitWizDomWithTextNode(t.end.dom,t.end.offset),e.add2SelectedAmendDoms(t,l),i=l,a=l.childNodes.length)),delete t.start,delete t.end,s.setRange(r,o,i,a)}},this.splitWizDomWithTextNode=function(e,t){if(!e||3!==e.nodeType)return null;var n=void 0,o=void 0,i=void 0,a=void 0,s=null;for(t<e.nodeValue.length?(n=e.nodeValue.substr(t),o=e.cloneNode(!1),o.nodeValue=n,e.nodeValue=e.nodeValue.substr(0,t),e.parentNode.insertBefore(o,e.nextSibling),s=e,i=e.parentNode,a=o):(i=e.parentNode,a=e.nextSibling);i&&!l.isBody(i)&&(s=i,l.splitDomBeforeSub(i,a),!i||1!==i.nodeType||!i.getAttribute(r.ATTR.SPAN_DELETE)&&!i.getAttribute(r.ATTR.SPAN_INSERT));)a=i.nextSibling,i=i.parentNode;return s},this.wizAmendDelete=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],o=r.parentNode;o.removeChild(r),l.removeEmptyParent(o)}},this.wizAmendSave=function(t){for(var n=0,o=t.length;n<o;n++){var a=t[n];if(a.getAttribute(r.ATTR.SPAN_DELETE)&&a.getAttribute(r.ATTR.SPAN_INSERT)&&a.getAttribute(r.ATTR.SPAN_INSERT)!==a.getAttribute(r.ATTR.SPAN_USERID)){var s=i.getUserByGuid(a.getAttribute(r.ATTR.SPAN_INSERT));s=s?s:{};var c={};c[r.ATTR.SPAN_DELETE]=null,c[r.ATTR.SPAN_USERID]=s.hash,l.attr(a,c),a.getAttribute(r.ATTR.IMG)?(e.setUserImgContainerStyle(a),l.css(mask,r.CSS.IMG_INSERT)):e.setUserInsertStyle(a,s)}else if(a.getAttribute(r.ATTR.IMG))l.before(a.children[0],a),l.remove(a);else{l.css(a,{color:"","text-decoration":""});var d={};d[r.ATTR.SPAN_USERID]=null,d[r.ATTR.SPAN_INSERT]=null,d[r.ATTR.SPAN_DELETE]=null,d[r.ATTR.SPAN_PASTE]=null,d[r.ATTR.SPAN_PASTE_TYPE]=null,d[r.ATTR.SPAN_PASTE_ID]=null,d[r.ATTR.SPAN_TIMESTAMP]=null,l.attr(a,d)}}}};t.exports=i},{"../../config/const":391,"../../libs/utils":402}],360:[function(e,t,n){"use strict";var r=e("../../config/const"),o={Table:"table",Code:"code"},i=function(){var e=null,t=null,n=null,i=null,a=null,l=null;this.initCore=function(r){e=r,t=e.env,n=e.require.blockUtils,i=e.require.codeUtils,a=e.require.domUtils,l=e.require.tableUtils};var s=void 0,c=void 0,d=[],u=void 0,f=function(){if(0!==d.length){var e=t.options.document.documentElement.clientHeight,n=a.getPageScroll(),r=n.top+e;if(t.options.container){var o=a.getOffset(t.options.container),i=a.getOffset(t.scrollContainer);e=t.scrollContainer.clientHeight,r=n.top+e-(o.top-i.top)}for(var l=d.length-1;l>=0;l--){var s=d[l];if(s.top<r&&s.top+s.height>r&&s.target.offsetWidth<s.target.scrollWidth)return c&&c.curBlock&&c.curBlock.target===s.target?void m(s):(c&&h(),void v(s))}h()}},p=function(){d=[];for(var e=void 0,n=t.body.querySelectorAll("table"),a=n.length-1;a>=0;a--){var s=n[a],c=l.getContainer(s);c||(l.initTableContainer(s),c=l.getContainer(s)),c&&(e=c.querySelector("."+r.CLASS.TABLE_BODY),d.push({type:o.Table,target:e,top:c.offsetTop,height:c.offsetHeight}))}if(!t.client.type.isPhone&&!t.client.type.isPad)for(var u=t.body.querySelectorAll("."+r.CLASS.CODE_MIRROR),p=u.length-1;p>=0;p--){var g=u[p],h=i&&i.getContainerFromChild(g);!h&&i&&(i.fixCode(g),h=i.getContainerFromChild(g)),h&&(e=g.querySelector("."+r.CLASS.CODE_MIRROR_HSCROLL),d.push({type:o.Code,target:e,codeMirror:h.codeMirror,top:h.offsetTop,height:h.offsetHeight}))}f()},g=function(){c&&c.parentNode!==s&&f(),u&&clearTimeout(u),u=setTimeout(p,100)},h=function(){c&&(b.unbindScroll(),c.curBlock=null,s.appendChild(c))},m=function(e){var n=void 0;c?n=c.children[0]:(c=t.doc.createElement(r.TAG.TMP_TAG),n=t.doc.createElement("div"),c.appendChild(n),a.addClass(c,r.CLASS.BLOCK_SCROLL));var o=e.target.scrollWidth;a.css(n,{width:o+"px",height:"1px","background-color":"rgba(255, 255, 255, 0.2)"});var i=0;if(t.options.container){var l=a.getOffset(t.options.container),s=a.getOffset(t.scrollContainer),d=t.scrollContainer.scrollHeight-(l.top-s.top)-t.options.container.offsetHeight;i=t.scrollContainer.scrollHeight-(t.scrollContainer.offsetHeight+t.scrollContainer.scrollTop)-d}a.css(c,{"background-color":"rgba(255, 255, 255, 0.2)",height:"17px",width:e.target.offsetWidth+"px","overflow-x":"scroll","overflow-y":"hidden",position:"fixed",bottom:i+"px","z-index":999}),c.scrollLeft=e.target.scrollLeft},v=function(e){m(e),c.curBlock=e,a.after(c,e.target),b.bindScroll(),b.handler.onTxScroll()},b={bind:function(){b.unbind(),t.client.type.isIOS||t.client.type.isAndroid||(t.event.add(r.EVENT.ON_SCROLL,b.handler.onScroll),t.event.add(r.EVENT.ON_DOM_SUBTREE_MODIFIED,b.handler.updateRender),t.win.addEventListener("resize",b.handler.updateRender)),t.readonly||(t.client.type.isPhone||t.client.type.isPad?t.event.add(r.EVENT.ON_TOUCH_START,b.handler.onMouseDown):t.event.add(r.EVENT.ON_MOUSE_DOWN,b.handler.onMouseDown))},unbind:function(){h(),t.event.remove(r.EVENT.ON_SCROLL,b.handler.onScroll),t.event.remove(r.EVENT.ON_DOM_SUBTREE_MODIFIED,b.handler.updateRender),t.win.removeEventListener("resize",b.handler.updateRender),t.event.remove(r.EVENT.ON_TOUCH_START,b.handler.onMouseDown),t.event.remove(r.EVENT.ON_MOUSE_DOWN,b.handler.onMouseDown)},bindScroll:function(){b.unbindScroll(),c.addEventListener("scroll",b.handler.onSxScroll)},unbindScroll:function(){c.removeEventListener("scroll",b.handler.onSxScroll)},handler:{onMouseDown:function(e){var t="mousedown"!==e.type||0===e.button||1===e.button;t&&n.checkAndInsertEmptyLine(e)},onScroll:function(){g()},onSxScroll:function(){c.curBlock&&(c.curBlock.target.scrollLeft=c.scrollLeft)},onTxScroll:function(){c.curBlock&&(c.scrollLeft=c.curBlock.target.scrollLeft)},updateRender:function(){g()}}};this.on=function(){b.bind(),t.client.type.isIOS||t.client.type.isAndroid||(s||(s=t.doc.createElement("div")),g())},this.off=function(){b.unbind()}};t.exports=i},{"../../config/const":391}],361:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/utils"),i=function(){var e=this,t=null,n=null,i=null,a=null,l=null,s=null,c=null,d=null;this.initCore=function(e){t=e,n=t.env,i=t.require.commandExtend,a=t.require.domUtils,l=t.require.historyUtils,s=t.require.rangeUtils,c=t.require.tableZone,d=t.require.todoUtils};var u=function(e,t,n,o){var i=!1,l=!1,s=void 0,c=void 0,d=t?a.getFirstDeepChild(e):a.getLastDeepChild(e);if(c=a.getParentByClass(d,r.CLASS.CODE_CONTAINER))d=c;else for(;d&&!a.canEdit(d);)d=t?a.getNextNodeCanEdit(d,!1):a.getPreviousNodeCanEdit(d,!1);return d&&(3===d.nodeType&&(d=d.parentNode),s=a.getOffset(d),c=a.getParentByFilter(d,o,!0),t&&n<s.top&&c?i=!0:!t&&n>s.top+d.offsetHeight&&c?l=!0:d=null),{container:c,isFirst:i,isLast:l}},f=function(e){return!(!a.isEmptyDom(e)||a.isIncludeBr(e))&&(a.remove(e),!0)},p=function(e,t,i){var l=s.getRange();if(l)for(var c=e,u=void 0,f=void 0,p=void 0,g=void 0,h=void 0,m=void 0;c;){var v=a.getIndexList(a.getLastDeepChild(t)).join(".");if(m=a.getIndexList(c).join("."),o.compareVersion(m,v)>0)break;if(f=!1,p=!1,g=!1,h=!1,u=a.isBlock(c,{includeBr:!1})){var b=a.getParentByClass(c,r.CLASS.CODE_CONTAINER,!0);if(b?(p=!0,c=b):h=a.isWizDom(c),!p&&!h){var _=a.getParentByClass(c,r.CLASS.TABLE_CONTAINER,!0);_&&(g=!0,c=_)}h||p||g||(f=d&&!!d.isLayer(c));var C=void 0,y=a.getParentList(c);if(i<y.length){var E=y[i];C=a.splitDomSingle(E,c)}else C=c;C.isBlock=!0,(h||p||g)&&(C.notFormat=!0)}var T=!a.isTag(c,["ol","ul"])&&c.childNodes.length>0,S=void 0;if(h||p||g||f||!T)for(S=c.nextSibling;!S&&c!==n.body&&c.parentNode;)c=c.parentNode,S=c.nextSibling;else S=c.childNodes[0];c=S}},g=function(e){return a.hasClass(e,r.CLASS.CODE_CONTAINER)||a.hasClass(e,r.CLASS.TABLE_CONTAINER)},h=function(e){return a.getParentByFilter(e,g,!0)},m=function(e){return a.hasClass(e,r.CLASS.CODE_CONTAINER)||a.hasClass(e,r.CLASS.TABLE_CONTAINER)||a.hasClass(e,r.CLASS.TABLE_BODY)};this.checkAndInsertEmptyLine=function(t){var r=t.changedTouches?t.changedTouches[0]:null,i=r?r.target:t.target,s=o.getEventClientPos(t),c=a.getPageScroll().top+s.y;if(n.doc.elementFromPoint){var d=a.getPageScroll().left+s.x,f=n.doc.elementFromPoint(d,c-10);f&&(f=h(f)),f&&a.isParent(f,i)&&(i=f)}var p=void 0,v=void 0,b=void 0,_=!1,C=!1,y=void 0,E=a.getParentByFilter(i,function(e){return"true"===e.getAttribute("contenteditable")},!0)||n.body,T=E&&i===E,S=E&&i===E.parentNode;if(T||S)T&&(b=u(E,!0,c,g),C=b.isFirst,v=b.container),C||(b=u(E,!1,c,g),_=b.isLast,v=b.container);else if(m(i))if(v=h(i),y=0,v&&(y=c-a.getOffset(v).top),v&&y<15){p=a.getPreviousNodeCanEdit(i,!1);var A=h(p);!p||A&&A!==v?C=!0:p&&(A=a.getBlockParent(p,!0),A&&a.isTag(A,"li")&&!a.isParent(v,A)&&(C=!0))}else if(v&&i.offsetHeight-y<15){p=a.getNextNodeCanEdit(i,!1);var O=h(p);!p||O&&O!==v?_=!0:p&&(O=a.getBlockParent(p,!0),O&&a.isTag(O,"li")&&!a.isParent(v,O)&&(_=!0))}v&&(_||C)?(l.saveSnap(!1),e.insertEmptyLine(v,_)):p=null},this.insertBlock=function(e){var t=s.getRange(),o=void 0,l=void 0,c=void 0,d=void 0;if(t){o=s.getRangeDetail(t.startContainer,t.startOffset),l=o.container,c=a.getBlockParent(l,!0);var u=c;if(a.hasClass(c,r.CLASS.TODO_LAYER))l=n.doc.createElement(c.tagName),a.after(l,c),l.appendChild(e),c=l;else if(!c||!a.isEmptyDom(c)){var f=null;c&&a.isTag(l,"br")&&(f=l.previousSibling),a.isTag(f,"br")||(i.execCommand("insertparagraph"),t=s.getRange(),l=1===t.startContainer.nodeType&&t.startContainer.childNodes.length>0?t.startContainer.childNodes[t.startOffset]:t.startContainer,c=a.getBlockParent(l,!0),l.nextSibling&&a.isTag(l,"br")&&a.remove(l))}c!==u&&a.isEmptyDom(c)&&a.isTag(c,"div")?(c.innerHTML="",c.appendChild(e)):(c===u&&(c=l),l=n.doc.createElement("div"),a.isTag(c,"li")&&a.isTag(c.previousElementSibling,"li")?c.previousElementSibling.appendChild(l):a.before(l,c),l.appendChild(e),(a.isEmptyDom(c)||a.isTag(c,"br"))&&a.remove(c),c=l),a.clearChild(u)}else c=n.doc.createElement("div"),c.appendChild(e),n.body.appendChild(c),d=n.doc.createElement("div"),d.appendChild(n.doc.createElement("br")),n.body.appendChild(d);return c},this.insertEmptyLine=function(e,t){if(e){var r=n.doc.createElement("div"),o=n.doc.createElement("br");r.appendChild(o),a.before(r,e,t),c.clear(),s.setRange(o,0)}},this.fixAndGetBlockListFromRange=function(){var e=[],t=s.getRange();if(!t){var r=c.getZone();if(r.range)for(var i=c.getSelectedCells(),l=0;l<i.length;l++)e.push(i[l]);return e}var d=s.getRangeDetail(t.startContainer,t.startOffset).container,u=s.getRangeDetail(t.endContainer,t.endOffset).container,g=void 0;if(a.isBlock(d,{includeBr:!0})||(g=a.getPrevBlock(d),d=g&&g!==n.body&&a.isParent(d,g)?g:g&&g!==n.body?a.getNextNode(g,!1,d):a.getFirstDeepChild(n.body),g&&a.isTag(g,["br"])&&a.remove(g)),!a.isBlock(u,{includeBr:!0})){var h=a.getNextBlock(u);u=h&&h!==n.body&&a.isParent(u,h)?a.getLastDeepChild(h):h&&h!==n.body?a.getPreviousNode(h,!1,u):a.getLastDeepChild(n.body),h&&a.isTag(h,["br"])&&(a.isParent(h,g)&&a.splitDomBeforeSub(g,h),a.remove(h))}var m=d===u,v=a.getParentRoot([d,u]);if(a.isTag(v,["td","th"])){var b=a.packageChildNodesByDiv(v);d===v&&(d=b),u===v&&(u=b),v=b}var _=0;v!==n.body&&(_=a.getParentList(v).length+1);var C=a.getParentList(d),y=void 0,E=void 0;_<C.length?(y=C[_],d=a.splitDomBeforeSub(y,d)):y=d,m?u=d:(C=a.getParentList(u),_<C.length&&(E=C[_],a.splitDomAfterSub(E,u))),p(d,u,_),C=a.getParentList(d),y=_<C.length?C[_]:d;var T=y,S=void 0;if(y===u&&a.isTag(y,"br")){for(var A=y.parentNode,O=null;A&&A!==n.body&&1===A.childNodes.length;)O=A,A=A.parentNode;O&&(T=O,a.isBlock(T)&&(T.isBlock=!0))}for(;T;){var x=T.nextSibling;if(T.isBlock?(S=null,a.isTag(T,"br")?(S=n.doc.createElement("div"),a.before(S,T),e.push(S),S.appendChild(T)):f(T)||e.push(T)):(S||(S=n.doc.createElement("div"),a.before(S,T),e.push(S)),S.appendChild(T)),T=x){var N=a.getIndexList(u).join("."),L=a.getIndexList(T).join(".");if(o.compareVersion(L,N)>0)break}}return e}};t.exports=i},{"../../config/const":391,"../../libs/utils":402}],362:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/utils"),i=e("../../libs/LoadController"),a=e("../../libs/dependLoader"),l=new i,s=function(){var e=this,t=null,n=null,i=null,s=null,c=null,d=null,u=null,f=null;this.initCore=function(e){t=e,n=t.env,i=t.require.blockUtils,s=t.require.codeStyle,c=t.require.codeUtils,d=t.require.domUtils,u=t.require.historyUtils,f=t.require.rangeUtils},this.hasLoaded=!1;var p=function(e){l.addCallback(n.doc,e),l.getLoading(n.doc)||("undefined"==typeof n.win.CodeMirror?(l.setLoading(n.doc,!0),a.loadJs(n.doc,a.getDependencyFiles(n.dependency,"js","codeMirror"),function(){l.setLoading(n.doc,!1),l.callback(n.doc)})):l.callback(n.doc))},g={bind:function(){g.unbind(),n.event.add(r.EVENT.ON_SELECT_PLUGIN_CHANGE,g.handler.onChangeSelector),n.event.add(r.EVENT.ON_SELECT_PLUGIN_HIDE,g.handler.onHideSelector),n.event.add(r.EVENT.ON_SELECT_PLUGIN_SHOW,g.handler.onShowSelector),n.event.add(r.EVENT.BEFORE_GET_DOCHTML,g.handler.beforeGetDocHtml),n.event.add(r.EVENT.BEFORE_SAVESNAP,g.handler.onBeforeSaveSnap),n.event.add(r.EVENT.AFTER_RESTORE_HISTORY,g.handler.onAfterRestoreHistory),n.event.add(r.EVENT.ON_MOUSE_DOWN,g.handler.onMouseDown)},unbind:function(){n.event.remove(r.EVENT.ON_SELECT_PLUGIN_CHANGE,g.handler.onChangeSelector),n.event.remove(r.EVENT.BEFORE_GET_DOCHTML,g.handler.beforeGetDocHtml),n.event.remove(r.EVENT.BEFORE_SAVESNAP,g.handler.onBeforeSaveSnap),n.event.remove(r.EVENT.AFTER_RESTORE_HISTORY,g.handler.onAfterRestoreHistory),n.event.remove(r.EVENT.ON_MOUSE_DOWN,g.handler.onMouseDown)},handler:{beforeGetDocHtml:function(){c.saveToText(),s.clearStyle()},onAfterRestoreHistory:function(){for(var e=c.getContainerList(),t=e.length-1;t>=0;t--){var n=e[t],r=n.codeMirror;if(!r){c.fixCodeContainer({container:n});var o=u.getCodeMirrorDoc(n.id);o&&(r=n.codeMirror,r.swapDoc(o))}}},onBeforeSaveSnap:function(){for(var e=c.getContainerList(),t=e.length-1;t>=0;t--){var n=e[t],r=n.codeMirror;r&&(r.save(),d.setTextarea(r.getTextArea()))}},onHideSelector:function(e){var t=c.getContainerFromChild(e);t&&d.removeClass(t,"CodeMirror-show-tools")},onShowSelector:function(e){var t=c.getContainerFromChild(e);t&&d.addClass(t,"CodeMirror-show-tools")},onChangeSelector:function(e){var t=c.getContainerFromChild(e);t&&(d.hasClass(e,r.CLASS.CODE_TOOLS_MODE)?c.changeMode(t,e.value,!1):d.hasClass(e,r.CLASS.CODE_TOOLS_THEME)?(s.insertTheme(e.value),c.changeTheme(t,e.value,!1)):d.hasClass(e,r.CLASS.CODE_TOOLS_MORE)&&e.value===r.CODE.StorageKey.Wrap&&c.changeLineWrapping(!n.options.code.lineWrapping),t.codeMirror.focus())},onMouseDown:function(e){var t=c.getToolsFromChild(e.target);t&&!d.isTag(e.target,"select")&&o.stopEvent(e)},onKeyDown:function(t){return!(e.hasLoaded&&!c.onKeyDown(t))||(o.stopEvent(t),!1)}}};this.on=function(t,n){s.initCommon();var r=function(){e.hasLoaded=!0,g.bind(),t=t||{},c.oldPatch.fixOldCode(t.body),c.fixCodeContainer({body:t.body,container:null,readOnly:t.readOnly}),n&&n()},o=c.oldPatch.getOldCodeList(t.body),i=c.getContainerList(t.body),a=c.pastePatch.getPasteCodeList();t.forceLoad||0!==o.length||0!==i.length||0!==a.length?p(r):n&&n()},this.off=function(){g.unbind(),c.clearCodeMirror(),e.hasLoaded=!1},this.insertCode=function(){if(!e.hasLoaded)return void e.on({forceLoad:!0},e.insertCode);u.saveSnap(!1);var t=f.getRange();if(!t||c.canCreateCode()){var o=void 0,a=void 0,l=void 0,s=void 0,p=void 0,g="";if(t){if(!t.collapsed){for(s=n.doc.createElement("div"),p=t.cloneContents();p.firstChild;)s.appendChild(p.firstChild);s.style.position="absolute",s.style.top="0px",s.style.left="-10000px",s.style.height="1px",n.body.appendChild(s),g=s.innerText,n.body.removeChild(s),t.deleteContents()}o=f.getRangeDetail(t.startContainer,t.startOffset),o=d.getBlockParent(o.container,!0),o&&o!==n.body&&d.isEmptyDom(o)&&d.isTag(o,"div")&&(a=o,o.innerHTML="")}l=n.doc.createElement("textarea"),d.setTextarea(l,g),a=a?a:n.doc.createElement("div"),a.appendChild(l),d.addClass(a,r.CLASS.CODE_CONTAINER),a.isNew=!0,a.parentNode||i.insertBlock(a),c.fixCodeContainer({container:a}),a.isNew=!1,setTimeout(function(){a.codeMirror.focus()},100),n.event.call(r.EVENT.UPDATE_RENDER)}},this.onKeyDown=g.handler.onKeyDown};t.exports=s},{"../../config/const":391,"../../libs/LoadController":395,"../../libs/dependLoader":399,"../../libs/utils":402}],363:[function(e,t,n){"use strict";var r=e("../../config/const"),o={
tmp:{common:".wiz-code-tools {display:none; align-items: center;position: absolute; top: -32px; right: 0; opacity: .95; z-index: 110;}."+r.CLASS.WIZ_BODY+" ."+r.CLASS.CODE_CONTAINER+" .wiz-code-tools {opacity:0;display:flex;transition: opacity 500ms;}."+r.CLASS.WIZ_BODY+" ."+r.CLASS.CODE_CONTAINER+":hover .wiz-code-tools {opacity:1; }."+r.CLASS.EDITING+" .CodeMirror-show-tools .wiz-code-tools {z-index: 220;}."+r.CLASS.READONLY+" .wiz-code-tools.mobile,."+r.CLASS.EDITING+" .CodeMirror-show-tools .wiz-code-tools,."+r.CLASS.EDITING+" .CodeMirror-focused .wiz-code-tools {opacity:1; display: flex;}.CodeMirror-sizer {border-right: 0 !important;}."+r.CLASS.WIZ_BODY+" pre.prettyprint {padding:0;}."+r.CLASS.WIZ_BODY+" pre.prettyprint code {white-space: pre-wrap;}."+r.CLASS.WIZ_BODY+" pre.prettyprint.linenums {box-shadow:none; overflow: auto;-webkit-overflow-scrolling: touch;}."+r.CLASS.WIZ_BODY+" pre.prettyprint.linenums ol.linenums {box-shadow: 40px 0 0 #FBFBFC inset, 41px 0 0 #ECECF0 inset; padding: 10px 10px 10px 40px !important;}."+r.CLASS.EDITING+" .CodeMirror-activeline-background {display: none;}."+r.CLASS.EDITING+" .CodeMirror-focused .CodeMirror-activeline-background {display: block;}",reader:"."+r.CLASS.READONLY+" .CodeMirror-cursors {visibility: hidden !important;}",readerForIphone:"."+r.CLASS.READONLY+" ."+r.CLASS.CODE_CONTAINER+" .CodeMirror-scroll {-webkit-overflow-scrolling: touch;}."+r.CLASS.READONLY+" ."+r.CLASS.CODE_CONTAINER+" .CodeMirror-sizer {min-width: auto !important;}",phone:"."+r.CLASS.CODE_CONTAINER+"{margin-left:0; margin-right:0;}",scrollForPhone:"."+r.CLASS.CODE_CONTAINER+" .CodeMirror-scroll {overflow-x: auto !important;overflow-y: hidden !important;}"},common:"."+r.CLASS.WIZ_BODY+" ."+r.CLASS.CODE_CONTAINER+'{position: relative; padding:8px 0; margin: 5px 0;text-indent:0; text-align:left;}.CodeMirror {font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace; color: black; font-size: 10.5pt; font-size: 0.875rem}.'+r.CLASS.WIZ_BODY+" ."+r.CLASS.CODE_CONTAINER+' .CodeMirror div {margin-top: 0; margin-bottom: 0;}.CodeMirror-lines {padding: 4px 0;}.CodeMirror pre {padding: 0 4px;}.CodeMirror pre.CodeMirror-line {min-height: 24px;}.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {background-color: white;}.CodeMirror-gutters {border-right: 1px solid #ddd; background-color: #f7f7f7; white-space: nowrap;}.CodeMirror-linenumbers {}.CodeMirror-linenumber {padding: 0 3px 0 5px; min-width: 20px; text-align: right; color: #999; white-space: nowrap;}.CodeMirror-guttermarker {color: black;}.CodeMirror-guttermarker-subtle {color: #999;}.CodeMirror-cursor {border-left: 1px solid black; border-right: none; width: 0;}.CodeMirror div.CodeMirror-secondarycursor {border-left: 1px solid silver;}.cm-fat-cursor .CodeMirror-cursor {width: auto; border: 0 !important; background: #7e7;}.cm-fat-cursor div.CodeMirror-cursors {z-index: 1;}.cm-fat-cursor-mark {background-color: rgba(20, 255, 20, 0.5);-webkit-animation: blink 1.06s steps(1) infinite;-moz-animation: blink 1.06s steps(1) infinite;animation: blink 1.06s steps(1) infinite;}.cm-animate-fat-cursor {width: auto; border: 0; -webkit-animation: blink 1.06s steps(1) infinite; -moz-animation: blink 1.06s steps(1) infinite; animation: blink 1.06s steps(1) infinite; background-color: #7e7;}@-moz-keyframes blink {  0% {}  50% { background-color: transparent; }  100% {}}@-webkit-keyframes blink {  0% {}  50% { background-color: transparent; }  100% {}}@keyframes blink {  0% {}  50% { background-color: transparent; }  100% {}}.CodeMirror-overwrite .CodeMirror-cursor {}.cm-tab { display: inline-block; text-decoration: inherit; }.CodeMirror-rulers {position: absolute; left: 0; right: 0; top: -50px; bottom: -20px; overflow: hidden;}.CodeMirror-ruler {border-left: 1px solid #ccc; top: 0; bottom: 0; position: absolute;}.cm-s-default .cm-header {color: blue;}.cm-s-default .cm-quote {color: #090;}.cm-negative {color: #d44;}.cm-positive {color: #292;}.cm-header, .cm-strong {font-weight: bold;}.cm-em {font-style: italic;}.cm-link {text-decoration: underline;}.cm-strikethrough {text-decoration: line-through;}.cm-s-default .cm-keyword {color: #708;}.cm-s-default .cm-atom {color: #219;}.cm-s-default .cm-number {color: #164;}.cm-s-default .cm-def {color: #00f;}.cm-s-default .cm-variable,.cm-s-default .cm-punctuation,.cm-s-default .cm-property,.cm-s-default .cm-operator {}.cm-s-default .cm-variable-2 {color: #05a;}.cm-s-default .cm-variable-3 {color: #085;}.cm-s-default .cm-comment {color: #a50;}.cm-s-default .cm-string {color: #a11;}.cm-s-default .cm-string-2 {color: #f50;}.cm-s-default .cm-meta {color: #555;}.cm-s-default .cm-qualifier {color: #555;}.cm-s-default .cm-builtin {color: #30a;}.cm-s-default .cm-bracket {color: #997;}.cm-s-default .cm-tag {color: #170;}.cm-s-default .cm-attribute {color: #00c;}.cm-s-default .cm-hr {color: #999;}.cm-s-default .cm-link {color: #00c;}.cm-s-default .cm-error {color: #f00;}.cm-invalidchar {color: #f00;}.CodeMirror-composing { border-bottom: 2px solid; }div.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}div.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }.CodeMirror-activeline-background {background: #e8f2ff;}.CodeMirror {position: relative; background: #f5f5f5;}.CodeMirror-scroll {overflow: hidden !important; margin-bottom: 0; margin-right: -30px; padding: 16px 30px 16px 0; outline: none; position: relative;}.CodeMirror-sizer {position: relative; border-right: 30px solid transparent;}.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {position: absolute; z-index: 6; display: none;}.CodeMirror-vscrollbar {right: 0; top: 0; overflow-x: hidden; overflow-y: scroll;}.CodeMirror-hscrollbar {bottom: 0; left: 0 !important; overflow-y: hidden; overflow-x: scroll;pointer-events: auto !important;outline: none;}.CodeMirror-scrollbar-filler {right: 0; bottom: 0;}.CodeMirror-gutter-filler {left: 0; bottom: 0;}.CodeMirror-gutters {position: absolute; left: 0; top: 0; min-height: 100%; z-index: 3;}.CodeMirror-gutter {white-space: normal; height: 100%; display: inline-block; vertical-align: top; margin-bottom: -30px;}.CodeMirror-gutter-wrapper {position: absolute; z-index: 4; background: none !important; border: none !important;}.CodeMirror-gutter-background {position: absolute; top: 0; bottom: 0; z-index: 4;}.CodeMirror-gutter-elt {position: absolute; cursor: default; z-index: 4;}.CodeMirror-gutter-wrapper ::selection { background-color: transparent }.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }.CodeMirror-lines {cursor: text; min-height: 1px;}.CodeMirror pre {-moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0; border-width: 0; background: transparent; font-family: inherit; font-size: inherit; margin: 0; white-space: pre; word-wrap: normal; line-height: inherit; color: inherit; z-index: 2; position: relative; overflow: visible; -webkit-tap-highlight-color: transparent; -webkit-font-variant-ligatures: contextual; font-variant-ligatures: contextual;}.CodeMirror-wrap pre {word-wrap: break-word; white-space: pre-wrap; word-break: normal;}.CodeMirror-linebackground {position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: 0;}.CodeMirror-linewidget {position: relative; z-index: 2; padding: 0.1px;}.CodeMirror-widget {}.CodeMirror-rtl pre { direction: rtl; }.CodeMirror-code {outline: none;}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber {-moz-box-sizing: content-box; box-sizing: content-box;}.CodeMirror-measure {position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;}.CodeMirror-cursor {position: absolute; pointer-events: none;}.CodeMirror-measure pre { position: static; }div.CodeMirror-cursors {visibility: hidden; position: relative; z-index: 3;}div.CodeMirror-dragcursors {visibility: visible;}.CodeMirror-focused div.CodeMirror-cursors {visibility: visible;}.CodeMirror-selected { background: #d9d9d9; }.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }.CodeMirror-crosshair { cursor: crosshair; }.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }.cm-searching {background: #ffa; background: rgba(255, 255, 0, .4);}.cm-force-border { padding-right: .1px; }@media print {  .CodeMirror div.CodeMirror-cursors {visibility: hidden;}}.cm-tab-wrap-hack:after { content: ""; }span.CodeMirror-selectedtext { background: none; }.CodeMirror-activeline-background, .CodeMirror-selected {transition: visibility 0ms 100ms;}.CodeMirror-blur .CodeMirror-activeline-background, .CodeMirror-blur .CodeMirror-selected {visibility:hidden;}.CodeMirror-blur .CodeMirror-matchingbracket {color:inherit !important;outline:none !important;text-decoration:none !important;}.CodeMirror-sizer {min-height:auto !important;}',theme:{"base16-dark":".cm-s-base16-dark.CodeMirror { background: #151515; color: #e0e0e0; }.cm-s-base16-dark div.CodeMirror-selected { background: #303030; }.cm-s-base16-dark .CodeMirror-line::selection, .cm-s-base16-dark .CodeMirror-line > span::selection, .cm-s-base16-dark .CodeMirror-line > span > span::selection { background: rgba(48, 48, 48, .99); }.cm-s-base16-dark .CodeMirror-line::-moz-selection, .cm-s-base16-dark .CodeMirror-line > span::-moz-selection, .cm-s-base16-dark .CodeMirror-line > span > span::-moz-selection { background: rgba(48, 48, 48, .99); }.cm-s-base16-dark .CodeMirror-gutters { background: #151515; border-right: 0px; }.cm-s-base16-dark .CodeMirror-guttermarker { color: #ac4142; }.cm-s-base16-dark .CodeMirror-guttermarker-subtle { color: #505050; }.cm-s-base16-dark .CodeMirror-linenumber { color: #505050; }.cm-s-base16-dark .CodeMirror-cursor { border-left: 1px solid #b0b0b0; }.cm-s-base16-dark span.cm-comment { color: #8f5536; }.cm-s-base16-dark span.cm-atom { color: #aa759f; }.cm-s-base16-dark span.cm-number { color: #aa759f; }.cm-s-base16-dark span.cm-property, .cm-s-base16-dark span.cm-attribute { color: #90a959; }.cm-s-base16-dark span.cm-keyword { color: #ac4142; }.cm-s-base16-dark span.cm-string { color: #f4bf75; }.cm-s-base16-dark span.cm-variable { color: #90a959; }.cm-s-base16-dark span.cm-variable-2 { color: #6a9fb5; }.cm-s-base16-dark span.cm-def { color: #d28445; }.cm-s-base16-dark span.cm-bracket { color: #e0e0e0; }.cm-s-base16-dark span.cm-tag { color: #ac4142; }.cm-s-base16-dark span.cm-link { color: #aa759f; }.cm-s-base16-dark span.cm-error { background: #ac4142; color: #b0b0b0; }.cm-s-base16-dark .CodeMirror-activeline-background { background: #202020; }.cm-s-base16-dark .CodeMirror-matchingbracket { text-decoration: underline; color: white !important; }","base16-light":".cm-s-base16-light.CodeMirror { background: #f5f5f5; color: #202020; }.cm-s-base16-light div.CodeMirror-selected { background: #e0e0e0; }.cm-s-base16-light .CodeMirror-line::selection, .cm-s-base16-light .CodeMirror-line > span::selection, .cm-s-base16-light .CodeMirror-line > span > span::selection { background: #e0e0e0; }.cm-s-base16-light .CodeMirror-line::-moz-selection, .cm-s-base16-light .CodeMirror-line > span::-moz-selection, .cm-s-base16-light .CodeMirror-line > span > span::-moz-selection { background: #e0e0e0; }.cm-s-base16-light .CodeMirror-gutters { background: #f5f5f5; border-right: 0px; }.cm-s-base16-light .CodeMirror-guttermarker { color: #ac4142; }.cm-s-base16-light .CodeMirror-guttermarker-subtle { color: #b0b0b0; }.cm-s-base16-light .CodeMirror-linenumber { color: #b0b0b0; }.cm-s-base16-light .CodeMirror-cursor { border-left: 1px solid #505050; }.cm-s-base16-light span.cm-comment { color: #8f5536; }.cm-s-base16-light span.cm-atom { color: #aa759f; }.cm-s-base16-light span.cm-number { color: #aa759f; }.cm-s-base16-light span.cm-property, .cm-s-base16-light span.cm-attribute { color: #90a959; }.cm-s-base16-light span.cm-keyword { color: #ac4142; }.cm-s-base16-light span.cm-string { color: #f4bf75; }.cm-s-base16-light span.cm-variable { color: #90a959; }.cm-s-base16-light span.cm-variable-2 { color: #6a9fb5; }.cm-s-base16-light span.cm-def { color: #d28445; }.cm-s-base16-light span.cm-bracket { color: #202020; }.cm-s-base16-light span.cm-tag { color: #ac4142; }.cm-s-base16-light span.cm-link { color: #aa759f; }.cm-s-base16-light span.cm-error { background: #ac4142; color: #505050; }.cm-s-base16-light .CodeMirror-activeline-background { background: #DDDCDC; }.cm-s-base16-light .CodeMirror-matchingbracket { text-decoration: underline; color: white !important; }",blackboard:".cm-s-blackboard.CodeMirror { background: #0C1021; color: #F8F8F8; }.cm-s-blackboard div.CodeMirror-selected { background: #253B76; }.cm-s-blackboard .CodeMirror-line::selection, .cm-s-blackboard .CodeMirror-line > span::selection, .cm-s-blackboard .CodeMirror-line > span > span::selection { background: rgba(37, 59, 118, .99); }.cm-s-blackboard .CodeMirror-line::-moz-selection, .cm-s-blackboard .CodeMirror-line > span::-moz-selection, .cm-s-blackboard .CodeMirror-line > span > span::-moz-selection { background: rgba(37, 59, 118, .99); }.cm-s-blackboard .CodeMirror-gutters { background: #0C1021; border-right: 0; }.cm-s-blackboard .CodeMirror-guttermarker { color: #FBDE2D; }.cm-s-blackboard .CodeMirror-guttermarker-subtle { color: #888; }.cm-s-blackboard .CodeMirror-linenumber { color: #888; }.cm-s-blackboard .CodeMirror-cursor { border-left: 1px solid #A7A7A7; }.cm-s-blackboard .cm-keyword { color: #FBDE2D; }.cm-s-blackboard .cm-atom { color: #D8FA3C; }.cm-s-blackboard .cm-number { color: #D8FA3C; }.cm-s-blackboard .cm-def { color: #8DA6CE; }.cm-s-blackboard .cm-variable { color: #FF6400; }.cm-s-blackboard .cm-operator { color: #FBDE2D; }.cm-s-blackboard .cm-comment { color: #AEAEAE; }.cm-s-blackboard .cm-string { color: #61CE3C; }.cm-s-blackboard .cm-string-2 { color: #61CE3C; }.cm-s-blackboard .cm-meta { color: #D8FA3C; }.cm-s-blackboard .cm-builtin { color: #8DA6CE; }.cm-s-blackboard .cm-tag { color: #8DA6CE; }.cm-s-blackboard .cm-attribute { color: #8DA6CE; }.cm-s-blackboard .cm-header { color: #FF6400; }.cm-s-blackboard .cm-hr { color: #AEAEAE; }.cm-s-blackboard .cm-link { color: #8DA6CE; }.cm-s-blackboard .cm-error { background: #9D1E15; color: #F8F8F8; }.cm-s-blackboard .CodeMirror-activeline-background { background: #3C3636; }.cm-s-blackboard .CodeMirror-matchingbracket { outline:1px solid grey;color:white !important; }",eclipse:".cm-s-eclipse span.cm-meta { color: #FF1717; }.cm-s-eclipse span.cm-keyword { line-height: 1em; font-weight: bold; color: #7F0055; }.cm-s-eclipse span.cm-atom { color: #219; }.cm-s-eclipse span.cm-number { color: #164; }.cm-s-eclipse span.cm-def { color: #00f; }.cm-s-eclipse span.cm-variable { color: black; }.cm-s-eclipse span.cm-variable-2 { color: #0000C0; }.cm-s-eclipse span.cm-variable-3 { color: #0000C0; }.cm-s-eclipse span.cm-property { color: black; }.cm-s-eclipse span.cm-operator { color: black; }.cm-s-eclipse span.cm-comment { color: #3F7F5F; }.cm-s-eclipse span.cm-string { color: #2A00FF; }.cm-s-eclipse span.cm-string-2 { color: #f50; }.cm-s-eclipse span.cm-qualifier { color: #555; }.cm-s-eclipse span.cm-builtin { color: #30a; }.cm-s-eclipse span.cm-bracket { color: #cc7; }.cm-s-eclipse span.cm-tag { color: #170; }.cm-s-eclipse span.cm-attribute { color: #00c; }.cm-s-eclipse span.cm-link { color: #219; }.cm-s-eclipse span.cm-error { color: #f00; }.cm-s-eclipse .CodeMirror-activeline-background { background: #e8f2ff; }.cm-s-eclipse .CodeMirror-matchingbracket { outline:1px solid grey; color:black !important; }",material:".cm-s-material.CodeMirror {background-color: #263238; color: rgba(233, 237, 237, 1);}.cm-s-material .CodeMirror-gutters {background: #263238; color: rgb(83,127,126); border: none;}.cm-s-material .CodeMirror-guttermarker, .cm-s-material .CodeMirror-guttermarker-subtle, .cm-s-material .CodeMirror-linenumber { color: rgb(83,127,126); }.cm-s-material .CodeMirror-cursor { border-left: 1px solid #f8f8f0; }.cm-s-material div.CodeMirror-selected { background: rgba(255, 255, 255, 0.15); }.cm-s-material.CodeMirror-focused div.CodeMirror-selected { background: rgba(255, 255, 255, 0.10); }.cm-s-material .CodeMirror-line::selection, .cm-s-material .CodeMirror-line > span::selection, .cm-s-material .CodeMirror-line > span > span::selection { background: rgba(255, 255, 255, 0.10); }.cm-s-material .CodeMirror-line::-moz-selection, .cm-s-material .CodeMirror-line > span::-moz-selection, .cm-s-material .CodeMirror-line > span > span::-moz-selection { background: rgba(255, 255, 255, 0.10); }.cm-s-material .CodeMirror-activeline-background { background: rgba(0, 0, 0, 0); }.cm-s-material .cm-keyword { color: rgba(199, 146, 234, 1); }.cm-s-material .cm-operator { color: rgba(233, 237, 237, 1); }.cm-s-material .cm-variable-2 { color: #80CBC4; }.cm-s-material .cm-variable-3 { color: #82B1FF; }.cm-s-material .cm-builtin { color: #DECB6B; }.cm-s-material .cm-atom { color: #F77669; }.cm-s-material .cm-number { color: #F77669; }.cm-s-material .cm-def { color: rgba(233, 237, 237, 1); }.cm-s-material .cm-string { color: #C3E88D; }.cm-s-material .cm-string-2 { color: #80CBC4; }.cm-s-material .cm-comment { color: #546E7A; }.cm-s-material .cm-variable { color: #82B1FF; }.cm-s-material .cm-tag { color: #80CBC4; }.cm-s-material .cm-meta { color: #80CBC4; }.cm-s-material .cm-attribute { color: #FFCB6B; }.cm-s-material .cm-property { color: #80CBAE; }.cm-s-material .cm-qualifier { color: #DECB6B; }.cm-s-material .cm-variable-3 { color: #DECB6B; }.cm-s-material .cm-tag { color: rgba(255, 83, 112, 1); }.cm-s-material .cm-error {color: rgba(255, 255, 255, 1.0); background-color: #EC5F67;}.cm-s-material .CodeMirror-matchingbracket {text-decoration: underline; color: white !important;}",monokai:".cm-s-monokai.CodeMirror { background: #272822; color: #f8f8f2; }.cm-s-monokai div.CodeMirror-selected { background: #49483E; }.cm-s-monokai .CodeMirror-line::selection, .cm-s-monokai .CodeMirror-line > span::selection, .cm-s-monokai .CodeMirror-line > span > span::selection { background: rgba(73, 72, 62, .99); }.cm-s-monokai .CodeMirror-line::-moz-selection, .cm-s-monokai .CodeMirror-line > span::-moz-selection, .cm-s-monokai .CodeMirror-line > span > span::-moz-selection { background: rgba(73, 72, 62, .99); }.cm-s-monokai .CodeMirror-gutters { background: #272822; border-right: 0px; }.cm-s-monokai .CodeMirror-guttermarker { color: white; }.cm-s-monokai .CodeMirror-guttermarker-subtle { color: #d0d0d0; }.cm-s-monokai .CodeMirror-linenumber { color: #d0d0d0; }.cm-s-monokai .CodeMirror-cursor { border-left: 1px solid #f8f8f0; }.cm-s-monokai span.cm-comment { color: #75715e; }.cm-s-monokai span.cm-atom { color: #ae81ff; }.cm-s-monokai span.cm-number { color: #ae81ff; }.cm-s-monokai span.cm-property, .cm-s-monokai span.cm-attribute { color: #a6e22e; }.cm-s-monokai span.cm-keyword { color: #f92672; }.cm-s-monokai span.cm-builtin { color: #66d9ef; }.cm-s-monokai span.cm-string { color: #e6db74; }.cm-s-monokai span.cm-variable { color: #f8f8f2; }.cm-s-monokai span.cm-variable-2 { color: #9effff; }.cm-s-monokai span.cm-variable-3 { color: #66d9ef; }.cm-s-monokai span.cm-def { color: #fd971f; }.cm-s-monokai span.cm-bracket { color: #f8f8f2; }.cm-s-monokai span.cm-tag { color: #f92672; }.cm-s-monokai span.cm-header { color: #ae81ff; }.cm-s-monokai span.cm-link { color: #ae81ff; }.cm-s-monokai span.cm-error { background: #f92672; color: #f8f8f0; }.cm-s-monokai .CodeMirror-activeline-background { background: #373831; }.cm-s-monokai .CodeMirror-matchingbracket {text-decoration: underline; color: white !important;}","tomorrow-night-eighties":".cm-s-tomorrow-night-eighties.CodeMirror { background: #000000; color: #CCCCCC; }.cm-s-tomorrow-night-eighties div.CodeMirror-selected { background: #2D2D2D; }.cm-s-tomorrow-night-eighties .CodeMirror-line::selection, .cm-s-tomorrow-night-eighties .CodeMirror-line > span::selection, .cm-s-tomorrow-night-eighties .CodeMirror-line > span > span::selection { background: rgba(45, 45, 45, 0.99); }.cm-s-tomorrow-night-eighties .CodeMirror-line::-moz-selection, .cm-s-tomorrow-night-eighties .CodeMirror-line > span::-moz-selection, .cm-s-tomorrow-night-eighties .CodeMirror-line > span > span::-moz-selection { background: rgba(45, 45, 45, 0.99); }.cm-s-tomorrow-night-eighties .CodeMirror-gutters { background: #000000; border-right: 0px; }.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker { color: #f2777a; }.cm-s-tomorrow-night-eighties .CodeMirror-guttermarker-subtle { color: #777; }.cm-s-tomorrow-night-eighties .CodeMirror-linenumber { color: #515151; }.cm-s-tomorrow-night-eighties .CodeMirror-cursor { border-left: 1px solid #6A6A6A; }.cm-s-tomorrow-night-eighties span.cm-comment { color: #d27b53; }.cm-s-tomorrow-night-eighties span.cm-atom { color: #a16a94; }.cm-s-tomorrow-night-eighties span.cm-number { color: #a16a94; }.cm-s-tomorrow-night-eighties span.cm-property, .cm-s-tomorrow-night-eighties span.cm-attribute { color: #99cc99; }.cm-s-tomorrow-night-eighties span.cm-keyword { color: #f2777a; }.cm-s-tomorrow-night-eighties span.cm-string { color: #ffcc66; }.cm-s-tomorrow-night-eighties span.cm-variable { color: #99cc99; }.cm-s-tomorrow-night-eighties span.cm-variable-2 { color: #6699cc; }.cm-s-tomorrow-night-eighties span.cm-def { color: #f99157; }.cm-s-tomorrow-night-eighties span.cm-bracket { color: #CCCCCC; }.cm-s-tomorrow-night-eighties span.cm-tag { color: #f2777a; }.cm-s-tomorrow-night-eighties span.cm-link { color: #a16a94; }.cm-s-tomorrow-night-eighties span.cm-error { background: #f2777a; color: #6A6A6A; }.cm-s-tomorrow-night-eighties .CodeMirror-activeline-background { background: #343600; }.cm-s-tomorrow-night-eighties .CodeMirror-matchingbracket { text-decoration: underline; color: white !important; }"}},i=function(){var e=this,t=null,n=null,i=null;this.initCore=function(e){t=e,n=t.env,i=t.require.wizStyle},this.clearStyle=function(){for(var e=n.doc.getElementsByName(r.NAME.CODE_STYLE),t=e.length-1;t>=0;t--){var o=e[t],a=o.id.replace(r.ID.CODE_STYLE+"-","");n.doc.querySelector("."+r.CLASS.CODE_CONTAINER+"[data-theme="+a+"]")||i.removeStyleById(o.id)}var l=n.doc.querySelectorAll("."+r.CLASS.CODE_CONTAINER);0===l.length&&i.removeStyleById(r.ID.CODE_STYLE)},this.initCommon=function(){i.replaceStyleById(r.ID.CODE_STYLE,o.common,!1),e.insertTemp()},this.insertCommon=function(){var e=n.doc.getElementById(r.ID.CODE_STYLE);e||i.replaceStyleById(r.ID.CODE_STYLE,o.common,!1)},this.insertTemp=function(){i.insertStyle({id:r.ID.TMP_STYLE_PRE+"code_common",name:r.NAME.TMP_STYLE},o.tmp.common),(n.client.type.isPhone||n.client.type.isPad)&&i.insertStyle({id:r.ID.TMP_STYLE_PRE+"code_phone",name:r.NAME.TMP_STYLE},o.tmp.phone),n.client.type.isIOS&&n.browser.isIPhone&&i.insertStyle({id:r.ID.TMP_STYLE_PRE+"code_reader_for_iphone",name:r.NAME.TMP_STYLE},o.tmp.readerForIphone),i.insertStyle({id:r.ID.TMP_STYLE_PRE+"code_reader",name:r.NAME.TMP_STYLE},o.tmp.reader)},this.fixScrollStyle=function(e){var t=r.ID.TMP_STYLE_PRE+"code_scroll_for_phone";e||!n.client.type.isPhone&&!n.client.type.isPad?i.removeStyleById(t):i.insertStyle({id:t,name:r.NAME.TMP_STYLE},o.tmp.scrollForPhone)},this.insertTheme=function(e){o.theme[e]&&!n.doc.querySelector("#"+r.ID.CODE_STYLE+"-"+e)&&i.insertStyle({id:r.ID.CODE_STYLE+"-"+e,name:r.NAME.CODE_STYLE},o.theme[e])}};t.exports=i},{"../../config/const":391}],364:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/utils"),i={MODE:{APL:{cm:"text/apl",file:"apl",same:["apollo"]},C:{cm:"text/x-csrc",file:"clike",same:[]},"C++":{cm:"text/x-c++src",file:"clike",same:["cpp"]},"C#":{cm:"text/x-csharp",file:"clike",same:["cs"]},CSS:{cm:"text/css",file:"css",same:[]},Dart:{cm:"application/dart",file:["clike","dart"],same:[]},Erlang:{cm:"text/x-erlang",file:"erlang",same:[]},Go:{cm:"text/x-go",file:"go",same:[]},HTML:{cm:"text/html",file:[["xml","css","javascript","vbscript"],["htmlmixed"]],same:[]},Java:{cm:"text/x-java",file:"clike",same:[]},JavaScript:{cm:"text/javascript",file:"javascript",same:["js"]},JSX:{cm:"text/jsx",file:[["xml","javascript"],["jsx"]],same:[]},Julia:{cm:"text/x-julia",file:"julia",same:[]},Lisp:{cm:"text/x-common-lisp",file:"commonlisp",same:[]},Lua:{cm:"text/x-lua",file:"lua",same:[]},"Octave (MATLAB)":{cm:"text/x-octave",file:"octave",same:["matlab","octave"]},"Objective-C":{cm:"text/x-objectivec",file:"clike",same:[]},Pascal:{cm:"text/x-pascal",file:"pascal",same:[]},Perl:{cm:"text/x-perl",file:"perl",same:[]},PHP:{cm:"application/x-httpd-php",file:"php",same:[]},Python:{cm:"text/x-python",file:"python",same:["py"]},Ruby:{cm:"text/x-ruby",file:"ruby",same:["rb"]},Rust:{cm:"text/x-rustsrc",file:"rust",same:[]},Shell:{cm:"text/x-sh",file:"shell",same:["sh"]},SQL:{cm:"text/x-sql",file:"sql",same:[]},Swift:{cm:"text/x-swift",file:"swift",same:[]},VBScript:{cm:"text/vbscript",file:"vbscript",same:["basic","vb"]},Verilog:{cm:"text/x-verilog",file:"verilog",same:[]},VHDL:{cm:"text/x-vhdl",file:"vhdl",same:[]},XML:{cm:"application/xml",file:"xml",same:[]},XSL:{cm:"application/xml",file:"xml",same:[]},YAML:{cm:"text/x-yaml",file:"yaml",same:[]}},THEME:{default:{name:"L1 (default)",same:["L1"]},"base16-light":{name:"L2 (base16-light)",same:["L2"]},eclipse:{name:"L3 (eclipse)",same:["L3"]},"base16-dark":{name:"D1 (base16-dark)",same:["D1"]},blackboard:{name:"D2 (blackboard)",same:["D2"]},material:{name:"D3 (material)",same:["D3"]},monokai:{name:"D4 (monokai)",same:["D4"]},"tomorrow-night-eighties":{name:"D5 (tomorrow)",same:["D5"]}}},a=[],l=[],s={},c={};!function(){for(var e in i.MODE)if(i.MODE.hasOwnProperty(e)){a.push({text:e,value:e});var t=i.MODE[e].same;s[e.toLowerCase()]=e;for(var n=0;n<t.length;n++)s[t[n].toLowerCase()]=e}for(var r in i.THEME)if(i.THEME.hasOwnProperty(r)){l.push({text:i.THEME[r].name,value:r});var o=i.THEME[r].same;c[r.toLowerCase()]=r;for(var d=0;d<o.length;d++)c[o[d].toLowerCase()]=r}}();var d=function(){var e=this,t=null,n=null,d=null,u=null,f=null,p=null,g=null,h=null,m=null;this.initCore=function(e){t=e,n=t.env,d=t.lang,u=t.require.codeCore,f=t.require.codeStyle,p=t.require.domUtils,g=t.require.historyUtils,h=t.require.rangeUtils,m=t.require.selectPlugin};var v=function(){var e=n.doc.createElement("div"),t=n.doc.createElement("i");p.addClass(t,"icon-checkmark editor-icon"),n.options.code.lineWrapping&&p.addClass(t,"active");var r=n.doc.createElement("span");return r.innerText=d.Code.Wrap,p.css(r,{"margin-right":"8px"}),e.appendChild(r),e.appendChild(t),e},b=function(e){var t=n.doc.createElement("div"),o=C(a,e),i=n.doc.createElement("span");return i.innerText=e,p.css(t,{position:"relative"}),p.css(o,{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:0}),t.appendChild(i),t.appendChild(o),t.selector=o,t.optionText=i,p.addClass(t,r.CLASS.CODE_TOOLS_MODE),t},_=function(e){var t=n.doc.createElement("div"),o=C(l,e),a=n.doc.createElement("span");return a.innerText=i.THEME[e].name,p.css(t,{position:"relative"}),p.css(o,{position:"absolute",top:0,left:0,right:0,bottom:0,opacity:0}),t.appendChild(a),t.appendChild(o),t.selector=o,t.optionText=a,p.addClass(t,r.CLASS.CODE_TOOLS_THEME),t},C=function(e,t){for(var r=n.doc.createElement("select"),o=0,i=e.length;o<i;o++){var a=e[o],l=a.text,s=a.value,c=n.doc.createElement("option");c.textContent=l,p.attr(c,{value:s}),s===t&&(r.value=s),r.appendChild(c)}return r};this.canCreateCode=function(){var t=h.getRange();return!(!t||e.getContainerFromChild(t.startContainer)||p.getParentByClass(t.startContainer,r.CLASS.TABLE_CONTAINER,!0))},this.changeLineWrapping=function(t){var o=e.getContainerList();n.options.code.lineWrapping=t,f.fixScrollStyle(t);for(var i=0;i<o.length;i++){var a=o[i],l=a.codeMirror;l.setOption("lineWrapping",t),l.setOption("scrollbarStyle",t?"null":"native")}var s=n.body.querySelectorAll("."+r.CLASS.CODE_TOOLS_MORE+" .icon-checkmark");t?p.addClass(s,"active"):p.removeClass(s,"active"),n.win.localStorage&&n.win.localStorage.setItem(r.CODE.StorageKey.Wrap,t?"1":"")},this.changeMode=function(e,t,o){if(e){var a=e.codeMirror;a&&(a.setOption("mode",i.MODE[t].cm),p.attr(e,{"data-mode":t}),n.win.localStorage&&!o&&n.win.localStorage.setItem(r.CODE.StorageKey.Mode,t))}},this.changeTheme=function(e,t,o){if(e){t=t||"default";var i=e.codeMirror;i&&(f.insertTheme(t),i.setOption("theme",t),p.attr(e,{"data-theme":t}),n.win.localStorage&&!o&&n.win.localStorage.setItem(r.CODE.StorageKey.Theme,t))}},this.clearCodeMirror=function(t){t=t?t:e.getContainerList();for(var n=t.length-1;n>=0;n--){var r=t[n];if(r.codeMirror){var o=r.codeMirror;o&&(o.setOption("readOnly",!0),o.setOption("styleActiveLine",!1),o.getDoc().clearHistory())}}},this.clearCodeForMarkdown=function(t){for(var o=t.querySelectorAll("."+r.CLASS.CODE_CONTAINER),i=n.readonly,a=o.length-1;a>=0;a--){var l=o[a],s=l.querySelector("textarea"),c=e.getCmMode(l,i),d=e.getCmTheme(l,i),u="```"+c+","+d+"\n"+s.value+"\n```",f=n.doc.createElement("pre");f.appendChild(n.doc.createTextNode(u)),p.before(f,l),p.remove(l)}},this.fixCode=function(e){if(!e)return null;var t=e.parentNode;return p.hasClass(t,r.CLASS.CODE_CONTAINER)?null:(t!==n.body&&1===t.childNodes.length||(t=n.doc.createElement("div"),p.before(t,e),t.appendChild(e)),t)},this.fixCodeContainer=function(t){if(!u.hasLoaded)return void u.on({},function(){u.hasLoaded&&e.fixCodeContainer(t)});t=t||{};for(var r=t.container?[t.container]:e.getContainerList(t.body),o=r.length-1;o>=0;o--){var i=r[o],a=i.id;p.attr(i,{style:null,id:null,class:null}),e.fixCodeContainerParent(i),n.options.reader.codeNoIDE?e.initCodeNoIDE(i):(a&&(i.id=a),e.initCodeMirror({container:i,readOnly:!!t.readOnly||n.readonly}))}},this.fixCodeContainerParent=function(e){var t=void 0,n=void 0,o=p.getParentByTagName(e,["ol","ul"],!0);if(!o&&(t=p.getParentList(e),t.length>0)){if(p.hasClass(t[0],r.CLASS.WIZ_EIDTOR_PREVIEW_CONTAINER)||p.hasClass(t[0],r.CLASS.WIZ_BODY))return;n=p.splitDomSingle(t[0],e),p.before(e,n),p.remove(n)}},this.focusToFirst=function(e){e&&(e.focus(),e.setCursor({line:0,ch:0}))},this.focusToLast=function(e){e&&(e.focus(),e.setCursor({line:e.lastLine(),ch:e.getLineHandle(e.lastLine()).text.length}))},this.getCmMode=function(e,t){var o=(e.getAttribute("data-mode")||"").toLowerCase(),i="";return e.isNew&&n.win.localStorage&&!t&&(i=(n.win.localStorage.getItem(r.CODE.StorageKey.Mode)||"").toLowerCase()),s[o]||s[i]||"JavaScript"},this.getCmTheme=function(e,t){var o=(e.getAttribute("data-theme")||"").toLowerCase(),i="";return e.isNew&&n.win.localStorage&&!t&&(i=(n.win.localStorage.getItem(r.CODE.StorageKey.Theme)||"").toLowerCase()),c[o]||c[i]||"default"},this.getCmWrapper=function(e){return e.querySelector("."+r.CLASS.CODE_MIRROR)},this.getContainerFromChild=function(e){return p.getParentByClass(e,r.CLASS.CODE_CONTAINER,!0)},this.getContainerList=function(e){return e=e||n.body,e.querySelectorAll("."+r.CLASS.CODE_CONTAINER)},this.getToolsFromChild=function(e){return p.getParentByClass(e,r.CLASS.CODE_TOOLS,!0)},this.initCodeNoIDE=function(t){if(t){e.removeCmWrapper(t);var r=t.querySelector("textarea"),o="",i=void 0,a=void 0;r&&(o=r.textContent,i=n.doc.createElement("pre"),a=n.doc.createElement("code"),i.appendChild(a),a.textContent=o,p.before(i,r),p.remove(r))}},this.initCodeMirror=function(t){var a=t.container,l=t.readOnly;if(a){f.insertCommon();var s=void 0,c=void 0,d=void 0,u=void 0,m=void 0,v=void 0,b=void 0;if(a.id||(a.id="wiz_cm_"+(new Date).valueOf()+"_"+Math.floor(1e4*Math.random())),p.addClass(a,r.CLASS.CODE_CONTAINER),p.setContenteditable(a,!1),v=e.getCmMode(a,l),b=e.getCmTheme(a,l),a.codeMirror)return d=a.codeMirror,l?(d.setOption("matchBrackets",!1),d.setOption("readOnly",!n.client.type.isPhone&&!n.client.type.isPad||"nocursor"),d.setOption("styleActiveLine",!1),d.getDoc().clearHistory()):(d.setOption("matchBrackets",!0),d.setOption("readOnly",!1),
d.setOption("styleActiveLine",!0)),void e.initTools(a,n.readonly);for(e.removeCmWrapper(a);a.lastChild&&!p.isTag(a.lastChild,"textarea");)a.removeChild(a.lastChild);c=a.querySelector("textarea"),p.setTextarea(c,o.replaceSpecialChar(c.value)),s={viewportMargin:1/0,fixedGutter:!1,indentUnit:4,lineWrapping:n.options.code.lineWrapping,scrollbarStyle:n.options.code.lineWrapping?"null":"native",lineNumbers:!0,matchBrackets:!l,mode:i.MODE[v].cm,extraKeys:{"Ctrl-Z":function(){g.undo()},"Cmd-Z":function(){g.undo()},"Ctrl-Y":function(){g.redo()},"Shift-Cmd-Z":function(){g.redo()},"Cmd-Y":function(){g.redo()}}},l?(s.readOnly=!n.client.type.isPhone&&!n.client.type.isPad||"nocursor",s.styleActiveLine=!1):(s.readOnly=!1,s.styleActiveLine=!0),f.fixScrollStyle(n.options.code.lineWrapping),d=n.win.CodeMirror.fromTextArea(c,s),a.codeMirror=d,a.mode=v,p.attr(d.display.wrapper,{"data-id":a.id}),u=a.querySelector("."+r.CLASS.CODE_MIRROR),m=n.doc.createElement(r.TAG.CODE_MIRROR),p.before(m,u),m.appendChild(u),e.changeMode(a,v,l),e.changeTheme(a,b,l),e.initTools(a,n.readonly);var _=void 0,C="";d.on("keydown",function(e,t){var n=t.keyCode||t.which;_=37===n||38===n?-1:39===n||40===n?1:0}),d.on("beforeSelectionChange",function(t,r){var o=r.ranges[0],i=o.anchor,l=o.head,s=void 0,c=[i.line,i.ch,l.line,l.ch].join("."),d=void 0;if("+move"===r.origin&&i.line===l.line&&i.ch===l.ch&&c===C)if(_===-1){for(s=p.getPreviousNode(a);s&&!p.isTag(s,"br")&&p.isEmptyDom(s);)s=p.getPreviousNode(s);s&&(d=e.getContainerFromChild(s),d?(t=d.codeMirror,e.focusToLast(t)):(p.setContenteditable(n.body,!0),h.setRange(s,p.getEndOffset(s))))}else if(1===_){for(s=p.getNextNode(a);s&&!p.isTag(s,"br")&&p.isEmptyDom(s);)s=p.getNextNode(s);s&&(d=e.getContainerFromChild(s),d?(t=d.codeMirror,e.focusToFirst(t)):(p.setContenteditable(n.body,!0),h.setRange(s,0)))}C=c}),d.on("beforeChange",function(e,t){"redo"!==t.origin&&"undo"!==t.origin&&g.saveSnap(!1,{type:r.HISTORY.TYPE.CODE_MIRROR,cmContainerId:a.id})}),d.on("change",function(e,t){/^(redo|undo|paste)$/i.test(t.origin)&&e.setSize()}),d.on("copy",function(e,t){(n.client.type.isPhone||n.client.type.isPad)&&n.readonly&&(t.codemirrorIgnore=!0)}),d.on("focus",function(e,t){e.blurTimer&&clearTimeout(e.blurTimer)}),d.on("blur",function(t,n){t.blurTimer=setTimeout(function(){var n=h.getRange(),r=!0;if(n){var o=n.startContainer,i=e.getContainerFromChild(o);r=!(i&&i.codeMirror===t)}r&&t.doc.setSelection({line:0,ch:0},null,{scroll:!1})},200)});var y=a.querySelector(".CodeMirror-sizer"),E=void 0;y&&(E=y.nextElementSibling,E&&(E.style.height="13px"))}},this.initTools=function(t,o){if(t){var s=e.getCmWrapper(t),c=t.querySelector("."+r.CLASS.CODE_TOOLS),u=void 0,f=void 0,g=void 0,h=e.getCmMode(t,o),C=t.getAttribute("data-theme");if(!c){var y=[{obj:v(),value:r.CODE.StorageKey.Wrap}];c=n.doc.createElement(r.TAG.TMP_TAG),o||(n.supportTouchEvent?(u=b(h),u.selector.onchange=function(){g.hideOptions();var n=u.selector.value;u.optionText.innerText=n,e.changeMode(t,n,!1),t.codeMirror.focus()},f=_(C),f.selector.onchange=function(){g.hideOptions();var n=f.selector.value;f.optionText.innerText=i.THEME[n].name,e.changeTheme(t,n,!1),t.codeMirror.focus()},y.splice(0,0,{text:d.Code.Language,disabled:!0,style:{"margin-bottom":"2px"}},{obj:u,value:r.CODE.StorageKey.Mode,style:{"margin-top":"2px"},onClick:function(){return!1}},{text:d.Code.Theme,disabled:!0,style:{"margin-bottom":"2px"}},{obj:f,value:r.CODE.StorageKey.Theme,style:{"margin-top":"2px","margin-bottom":"10px"},onClick:function(){return!1}})):(u=m.create({type:r.SELECT_PLUGIN.TYPE.Common,optionsData:a,className:r.CLASS.CODE_TOOLS_MODE,defaultValue:h}),f=m.create({type:r.SELECT_PLUGIN.TYPE.Common,optionsData:l,className:r.CLASS.CODE_TOOLS_THEME,defaultValue:C}),c.appendChild(u),c.appendChild(f),p.addClass(u,r.CLASS.CODE_TOOLS_MODE),p.addClass(f,r.CLASS.CODE_TOOLS_THEME))),g=m.create({type:r.SELECT_PLUGIN.TYPE.More,optionsData:y,className:r.CLASS.CODE_TOOLS_MORE,defaultValue:C}),c.appendChild(g),p.addClass(g,r.CLASS.CODE_TOOLS_MORE),p.addClass(c,r.CLASS.CODE_TOOLS+(n.supportTouchEvent?" mobile":"")),s.appendChild(c)}}},this.insertCodeSrc=function(e,t){var n=e.codeMirror;n&&n.replaceSelection(t,"end")},this.onKeyDown=function(t){var r=h.getRange();if(!r||!r.collapsed)return!0;var o=t.keyCode||t.which,i=h.getRangeDetail(r.startContainer,r.startOffset),a=void 0,l=void 0,s=void 0,c=void 0,d=void 0,u=!1,f=!1,m=null,v=null,b=null,_=void 0;if(8===o&&0===i.offset&&(s=p.getPreviousNode(i.container,!1),b=e.getContainerFromChild(s)),46===o&&(p.isTag(i.container,"br")||i.offset===p.getEndOffset(i.container))&&(s=p.getNextNode(i.container,!1),b=e.getContainerFromChild(s),b&&p.isTag(i.container,"br")))return p.remove(i.container),e.focusToFirst(b.codeMirror),!1;if(b)return g.saveSnap(!1),p.remove(b),!1;switch(o){case 37:t.ctrlKey||t.metaKey||(d=!0,h.modify("move","backward","character")),c={x:-1,y:0};break;case 38:t.ctrlKey||t.metaKey||(d=!0,h.modify("move","backward","line")),c={x:0,y:-1};break;case 39:t.ctrlKey||t.metaKey||(d=!0,h.modify("move","forward","character")),c={x:1,y:0};break;case 40:t.ctrlKey||t.metaKey||(d=!0,h.modify("move","forward","line")),c={x:0,y:1}}if(d){if(r=h.getRange(),a=h.getRangeDetail(r.startContainer,r.startOffset),m=i.container,v=a.container,a.container===i.container&&a.offset!==i.offset||(a.container!==i.container?c.x>0||c.y>0?f=!0:u=!0:(c.x>0||c.y>0?f=!0:u=!0,v=n.body)),f){for(l=p.getNextNode(m,!1,v);l&&l!==v&&!p.isTag(l,"br")&&p.isEmptyDom(l);)l=p.getNextNode(l,!1,v);l&&(l=p.getNextBlock(l))}else if(u){for(l=p.getPreviousNode(m,!1,v);l&&l!==v&&!p.isTag(l,"br")&&p.isEmptyDom(l);)l=p.getPreviousNode(l,!1,v);l&&(l=p.getPrevBlock(l))}l&&(b=e.getContainerFromChild(l),_=b&&b.codeMirror,_?(_.focus(),c.x>0||c.y>0?e.focusToFirst(_):e.focusToLast(_)):b=null),b||(c.x<0?h.modify("move","forward","character"):c.y<0?h.modify("move","forward","line"):c.x>0?h.modify("move","backward","character"):c.y>0&&h.modify("move","backward","line"))}return!b},this.removeCmWrapper=function(e){if(e.id){var t=e.querySelector("."+r.CLASS.CODE_MIRROR+"[data-id="+e.id+"]");p.remove(t)}},this.saveToText=function(){if(u.hasLoaded)for(var t=e.getContainerList(),n=t.length-1;n>=0;n--){var r=t[n],o=r.codeMirror;if(o){o.save();var i=r.querySelector("textarea");p.setTextarea(i)}}},this.highlight={clear:function(e){var t=e.codeMirror;if(t){var n=e.state;n||(n={},e.state=n),t.operation(function(){n.lastQuery=n.query||null,n.query&&(n.query=n.queryText=null,t.removeOverlay(n.overlay))})}},clearAll:function(){for(var t=e.getContainerList(),n=0;n<t.length;n++){var r=t[n];e.highlight.clear(r)}},overlay:function(e){var t=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"gi");return{token:function(e){t.lastIndex=e.pos;var n=t.exec(e.string);return n&&n.index===e.pos?(e.pos+=n[0].length||1,"searching"):void(n?e.pos=n.index:e.skipToEnd())}}},search:function(t,n){if(u.hasLoaded&&(!t.state||!t.state.query||t.state.query.toLowerCase()!==n.toLowerCase())){var r=t.codeMirror;if(r){e.highlight.clear(t);var o=t.state;n=n.toLowerCase(),o.query=n,r.removeOverlay(o.overlay),o.overlay=e.highlight.overlay(o.query),r.addOverlay(o.overlay)}}}},this.oldPatch={getOldCodeList:function(e){return e=e||n.body,e.querySelectorAll("."+r.CLASS.CODE_CONTAINER_OLD)},oldCodeReady:function(){var e=void 0,t=void 0,i=void 0,a=function(e,t){var i=void 0;i=e.querySelectorAll(t);for(var a=i.length-1;a>=0;a--){var l=i[a];if(o.isEmpty(l.innerText)){var s=p.getParentByClass(l,r.CLASS.CODE_CONTAINER_OLD,!1);if(s){var c=p.splitDomSingle(s,l),d=n.doc.createElement("div");d.appendChild(l),p.before(d,c),p.remove(c)}}}};for(t=n.body.querySelector("."+r.CLASS.CODE_CONTAINER_OLD+" ."+r.CLASS.CODE_CONTAINER_OLD);t;){var l=p.getParentByClass(t,r.CLASS.CODE_CONTAINER_OLD,!1);p.after(t,l),t=n.body.querySelector("."+r.CLASS.CODE_CONTAINER_OLD+" ."+r.CLASS.CODE_CONTAINER_OLD)}for(e=n.body.querySelectorAll("."+r.CLASS.CODE_CONTAINER_OLD),i=e.length-1;i>=0;i--)t=e[i],a(t,"a");for(e=n.body.querySelectorAll("."+r.CLASS.CODE_CONTAINER_OLD),i=e.length-1;i>=0;i--)t=e[i],a(t,"img")},fixOldCode:function(t){var o=void 0,i=[];if(e.oldPatch.oldCodeReady(),o=e.oldPatch.getOldCodeList(t),o.length>50)return i;for(var a=o.length-1;a>=0;a--){var l=o[a];if(p.isTag(l,"pre")&&l.querySelector("code")){var s=e.fixCode(l),c=e.oldPatch.getSrc(l),d=e.oldPatch.getMode(l);if(s.removeChild(l),c){var u=n.doc.createElement("textarea");u.value=c,u.style.display="none",s.appendChild(u),p.addClass(s,r.CLASS.CODE_CONTAINER),d&&p.attr(s,{"data-mode":d}),i.push(s)}}}return i},getMode:function(e){var t=/language-([\w]+)/i,n=/lang-([\w]+)/i,r=e.querySelector("code"),o=void 0,i=void 0;return r&&r.className&&(o=r.className.match(t))?i=o[1]:e.className&&(o=e.className.match(n))&&(i=o[1]),i&&(i=s[i.toLowerCase()]),i},getSrc:function(e){if(!e)return"";for(var t=e.querySelectorAll("code"),n=0,r=t.length;n<r;n++){var o=t[n];o.innerHTML=o.innerHTML.replace(/<[^>]*>/gi,""),o.innerText||(o.innerText="\n")}return(e.innerText||e.textContent||"").replace(/\n$/,"")}},this.pastePatch={getPasteCodeList:function(){return n.body.querySelectorAll("."+r.CLASS.CODE_CONTAINER_PASTE)},fix:function(){for(var t=e.pastePatch.getPasteCodeList(),n=t.length;n>=0;n--){var o=t[n];p.removeClass(o,r.CLASS.CODE_CONTAINER_PASTE),e.fixCodeContainer({container:o})}},ready:function(t,o){for(var i=t.querySelectorAll("."+r.CLASS.CODE_MIRROR),a=void 0,l=void 0,s=void 0,c=void 0,d=void 0,u=void 0,f=void 0,g=void 0,h=void 0,m=i.length-1;m>=0;m--){c=i[m],s=e.getContainerFromChild(c),s||(s=c),g=[],d=c.querySelectorAll("."+r.CLASS.CODE_MIRROR_LINE);for(var v=0;v<d.length;v++){var b=d[v];h=b.innerText||b.textContent,g.push(h.replace(r.FILL_CHAR_REG,""))}a=n.doc.createElement("div"),o?a.innerHTML="<br/>"+g.join("<br/>")+"<br/><br/>":(u=s.getAttribute("data-mode"),f=s.getAttribute("data-theme"),l=n.doc.createElement("textarea"),l.textContent=g.join("\n"),p.addClass(a,r.CLASS.CODE_CONTAINER_PASTE),a.appendChild(l),u&&p.attr(a,{"data-mode":u}),f&&p.attr(a,{"data-theme":f})),p.before(a,s),p.remove(s)}}}};t.exports=d},{"../../config/const":391,"../../libs/utils":402}],365:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/domPatch"),i=e("../../libs/LoadController"),a=e("../../libs/dependLoader"),l=new i,s="#F0F2F4",c="#E8E8E8",d="#FFFFFF",u="#1F2228",f="#282B33",p="#1F2228",g=function(){var e=this,t=null,n=null,i=null,g=null,h=null,m=null,v={},b=function(){for(var e=n.body.querySelectorAll("input[type=hidden]"),t=0;t<e.length;t++){var r=e[t].value;if(0===r.indexOf("wiz_mail_from"))return!0}return!1};this.initCore=function(e){t=e,n=t.env,i=t.require.domUtils,g=t.require.nightModeUtils,h=t.require.wizStyle};var _={bind:function(e){e&&(_.unbind(e),n.supportTouchEvent?(e.body.addEventListener("touchend",C.onTouchEnd),e.body.addEventListener("touchstart",C.onTouchStart)):e.body.addEventListener("click",C.onClick))},unbind:function(e){e&&(e.body.removeEventListener("touchend",C.onTouchEnd),e.body.removeEventListener("touchstart",C.onTouchStart),e.body.removeEventListener("click",C.onClick))}},C={onChanged:function(e,t){if(e.getAttribute(r.ATTR.TODO_CHECK)===t.getAttribute(r.ATTR.TODO_CHECK))return void setTimeout(function(){C.onChanged(e,t)},200);var n=e.id,o=e.getAttribute(r.ATTR.TODO_CHECK),a="checked"===o,l=v.iframeDoc.querySelector("#"+n);if(l){var s=i.getParentByClass(l,r.CLASS.TODO_LAYER);a?(i.removeClass(s,r.CLASS.TODO_UNCHECKED),i.addClass(s,r.CLASS.TODO_CHECKED)):(i.removeClass(s,r.CLASS.TODO_CHECKED),i.addClass(s,r.CLASS.TODO_UNCHECKED));var c={};c[r.ATTR.TODO_CHECK]=o,i.attr(l,c)}},onClick:function(e){var t=e.target;if(i.hasClass(t,r.CLASS.TODO_CHECKBOX)){var o=t.id,a=n.body.querySelector("#"+o);if(a){C.onChanged(a,t);var l=n.doc.createEvent("HTMLEvents");l.initEvent("click",!0,!0),l.eventName="click",a.dispatchEvent(l)}}},onTouchEnd:function(e){e.target===m&&(m=null,C.onClick(e))},onTouchStart:function(e){m=e.target}},y=function(e){l.addCallback(n.doc,e),l.getLoading(n.doc)||("undefined"==typeof n.win.WizContent?(l.setLoading(n.doc,!0),a.loadJs(n.doc,a.getDependencyFiles(n.dependency,"js","wizContent"),function(){l.setLoading(n.doc,!1),l.callback(n.doc)})):l.callback(n.doc))};this.on=function(t,o){var i=n.options.pureReadMode.borderColor||(n.options.nightMode.enable?p:s),a=n.options.pureReadMode.htmlBgColor||(n.options.nightMode.enable?f:c),l=n.options.pureReadMode.bodyBgColor||(n.options.nightMode.enable?u:d),m="* {box-sizing: border-box;}html {height:100%; background-color:"+a+" !important;}body *, ."+r.CLASS.WIZ_BODY+" * {max-width:100%;} body, ."+r.CLASS.WIZ_BODY+", .markdown-body {background-color:"+l+" !important;border:1px solid "+i+" !important;max-width:820px !important;min-height:initial !important;min-height:calc(100% - 80px) !important;margin:40px auto !important;padding:48px 75px !important;}pre {white-space: pre-wrap;}",C="";if(n.options.nightMode.enable&&(C="body, .wiz-editor-body, .markdown-body {border: 0px !important;}"+(g?g.getBaseStyle("",l):"")),!n.options.container||n.options.useFrame)if(n.readonly===!0&&(t.needContentExtraction||n.options.pureReadMode.needContentExtraction)){var E=b(),T=function(){var t=!1;n.win.WizContent.init("",t).on({needContentExtraction:!E,needShow:!(n.client.type.isIOS||n.client.type.isAndroid),borderColor:l,htmlBgColor:a,bodyBgColor:l,stylePatch:C},function(t){v=t;var r=n.doc;if(n.doc=v.iframeDoc,h.insertDefaultStyle(),n.doc=r,_.bind(v.iframeDoc),o&&(o(v),n.client.type.isIOS||n.client.type.isAndroid))try{var i=e.getContentExtractionHtml();window.webkit?window.webkit.messageHandlers.postPureReadContext.postMessage(i):window.WizNote&&window.WizNote.onContentExtractionEnd(i)}catch(e){console.log(e)}})};y(T)}else if(n.options.pureReadMode.enable&&!t.needContentExtraction&&!n.options.pureReadMode.needContentExtraction){var S=m+C;h.insertStyle({id:r.ID.PURE_READ_STYLE,name:r.NAME.TMP_STYLE},S),n.win.WizContent&&n.win.WizContent.off()}},this.off=function(){_.unbind(v.iframeDoc);var e=function(){n.win.WizContent.off()};y(e),h.removeStyleById(r.ID.PURE_READ_STYLE)},this.getContentExtractionHtml=function(){if(!v||!v.iframe||!i.hasClass(v.iframe,r.CLASS.WIZ_CONTENT_IFRAME_ACTIVE))return null;var e=n.doc,t=n.win,a=n.body;n.doc=v.iframeDoc,n.win=v.iframeWin,n.body=n.doc.body,o.run(n.win);var l=i.getContentHtml();return n.body=a,n.doc=e,n.win=t,l}};t.exports=g},{"../../config/const":391,"../../libs/LoadController":395,"../../libs/dependLoader":399,"../../libs/domPatch":400}],366:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/dependLoader"),i=function(){var e=this,t=null,n=null,i=null,a=null,l=null,s=null,c=null,d=null,u=null,f=null,p=null,g=null,h=null,m=null,v=null,b=null,_=null,C=null;this.initCore=function(e){t=e,n=t.env,i=t.require.amend,a=t.require.blockCore,l=t.require.codeCore,s=t.require.commandExtend,c=t.require.domUtils,d=t.require.editorEvent,u=t.require.formatPainter,f=t.require.frameViewCore,p=t.require.historyUtils,g=t.require.imgCore,h=t.require.linkCore,m=t.require.selectPlugin,v=t.require.tabKey,b=t.require.tableCore,_=t.require.todoCore,C=t.require.wizStyle};var y="";this.off=function(){e.offEvent(),n.readonly=!0,n.isSetBodyFontSize&&(n.body.style.fontSize=null,n.isSetBodyFontSize=!1),c.setContenteditable(null,!1),c.removeByTag(r.TAG.TMP_TAG)},this.offEvent=function(){p.stop(),i.stopReverse(),i.stop(),u.off(),l&&l.off(),a.off(),_&&_.off(),v.off(),b.off(),g.off(),m.off(),s.off(),d.unbind(),f.off(),n.options.editor.autoCheckLink&&h.off()},this.on=function(t){var y=function(){i.startReverse(),p.start(n.options.editor.maxRedo,n.options.editor.callback.redo),g.setImgFullPath(),n.client.type.isPhone||n.client.type.isPad?setTimeout(function(){e.setOriginalHtml()},500):e.setOriginalHtml(),"function"==typeof t&&t()};c.removeClass(n.body,r.CLASS.READONLY),c.addClass(n.body,r.CLASS.EDITING),n.options.container&&(c.removeClass(n.options.container,r.CLASS.READONLY),c.addClass(n.options.container,r.CLASS.EDITING)),n.frame.toolbarContainer&&n.options.document!==n.doc&&o.loadCss(n.options.document,[n.dependency.files.css.fonts]),o.loadCss(n.doc,[n.dependency.files.css.fonts]),p.init(),c.setContenteditable(null,!0),f.on(),C.insertTmpEditorStyle(),c.fixList(),d.bind(),s.on(),m.on(),g.on(),b.on(),v.on(),_&&_.on(),a.on(),u.init(),n.options.editor.autoCheckLink&&h.on(),l?l.on({},y):y(),n.body.style.fontSize?n.isSetBodyFontSize=!1:(n.body.style.fontSize=n.win.getComputedStyle(n.body).fontSize,n.isSetBodyFontSize=!0)},this.getOriginalHtml=function(){return y},this.setOriginalHtml=function(){y=c.getContentHtml()}};t.exports=i},{"../../config/const":391,"../../libs/dependLoader":399}],367:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=e("../../config/const"),i=e("../../libs/utils"),a={SelectionChange:"selectionchange",HistoryUndo:"historyUndo"},l=function(){var e=this,t=null,n=null,l=null,s=null,c=null,d=null,u=null,f=null,p=null,g=null,h=null,m=null,v=null,b=null,_=null,C=null,y=null,E=null,T=null;this.initCore=function(e){t=e,n=t.env,l=t.lang,s=t.require.amend,c=t.require.amendUser,d=t.require.amendUtils,u=t.require.clipboardUtils,f=t.require.codeUtils,p=t.require.commandExtend,g=t.require.domUtils,h=t.require.formatPainter,m=t.require.frameViewUtils,v=t.require.historyUtils,b=t.require.linkUtils,_=t.require.pasteUtils,C=t.require.rangeUtils,y=t.require.tableCore,E=t.require.tableUtils,T=t.require.tableZone};var S={selectionchange:[],historyUndo:[]},A={},O=null,x=!1,N=function(e){var t=[];for(var n in e){var o=e[n],i=("undefined"==typeof o?"undefined":r(o)).toLowerCase();"string"!==i&&"number"!==i||("string"===i&&(o='"'+o.replace(/"/g,'\\"')+'"'),t.push('"'+n+'":'+o))}return"{"+t.join(",")+"}"},L=function(e,t,r){var a=T.getZone(),f=C.getRange(),p=void 0,h=void 0,m=void 0,b=!1,_=void 0,S=void 0,A=!0,O=void 0,x=void 0,N=[];if(t=!!t,a.range||!f||f.collapsed||(S=f.cloneContents(),b=!!S.querySelector("."+o.CLASS.CODE_CONTAINER)),f&&(_=g.getParentRoot([f.startContainer,f.endContainer]),s.isAmendEditing()&&_&&_.getAttribute(o.ATTR.SPAN_DELETE)===c.getCurUser().hash))return alert(t?l.Err.Cut_Null:l.Err.Copy_Null),i.stopEvent(e),void r();if(!a.range&&(!f||f.collapsed||!b&&!s.isAmendEditing())||a.range&&f&&!f.collapsed)return void r();if(!a.range||f&&!f.collapsed?f&&!f.collapsed&&(p=C.getFragmentForCopy()):p=T.getFragmentForCopy(),p){s.isAmendEditing()&&(h=p.innerHTML.length,s.fragmentFilter(p),m=p.innerHTML.length,0===m&&h>0&&(alert(l.Err.Copy_Null),A=!1));var L=p.innerHTML,w=p.innerText;if(p.innerHTML="",g.remove(p),p=null,A){var D=function(){t&&v.saveSnap(!1),t&&s.isAmendEditing()?(O=c.getCurUser(),x=d.getDeletedStyle(O),!a.range||f&&!f.collapsed?(d.removeSelection(O),d.removeUserDel(null,O),C.getSelection().collapseToEnd(),C.caretFocus()):(N=E.getDomsByCellList(T.getSelectedCells()),g.modifyNodesStyleAndClear(N,x.style,x.attr,[]),d.removeUserDel(a.table,O))):t&&a.range&&(!f||f.collapsed)?y.clearCellValue():t&&f.deleteContents(),r()};u.setData(e,L,w,D)}}n.browser.isIe||i.stopEvent(e)},w=function(){O&&clearTimeout(O),O=setTimeout(R,50)},D=function(e){return e?"1":"0"},I=function(e){return D(p.queryCommandState(e))},R=function(){var t={backColor:"",blockFormat:"",bold:"0",canCreateCode:"1",canCreateTable:"1",canCreateTodo:"1",canFormatPainter:"1",canInsertHorizontalRule:"1",canInsertImage:"1",canSetLink:"1",isInCode:"0",isInTable:"0",clientTools:"1",fontName:"",fontSize:"",foreColor:"",formatPainterStatus:h.status().toString(),InsertOrderedList:"0",InsertUnorderedList:"0",italic:"0",justifyleft:"0",justifycenter:"0",justifyright:"0",justifyfull:"0",strikeThrough:"0",subscript:"0",superscript:"0",underline:"0",unlink:"0"},r=void 0,o=C.getRange(),l=T.getZone(),s=void 0,c=void 0,d=[];if(o||l.range&&!l.active){if(o&&g.checkInTmp(o.startContainer))t.clientTools="0";else if(l.grid&&l.range){t.isInTable="1",t.canCreateCode="0",t.canCreateTable="0";var u=E.getAlign(l.grid,l.range);t.justifyleft=D(/left/i.test(u.align)),t.justifycenter=D(/center/i.test(u.align)),t.justifyright=D(/right/i.test(u.align)),o||(t.canCreateTodo="0",t.canFormatPainter="0",t.canInsertHorizontalRule="0",t.canInsertImage="0",t.canSetLink="0")}else o&&f&&f.getContainerFromChild(o.startContainer)&&(t.isInCode="1",t.clientTools="0");if("0"===t.clientTools&&(t.canCreateCode="0",t.canCreateTable="0",t.canCreateTodo="0",t.canFormatPainter="0",t.canInsertHorizontalRule="0",t.canInsertImage="0",t.canSetLink="0"),!o||l.range&&!T.isSingleCell())c=E.getAlign(l.grid,l.range),s=T.getSelectedCells(),d=E.getDomsByCellList(s),t.justifyleft="left"===c.align?"1":"0",t.justifycenter="center"===c.align?"1":"0",t.justifyright="right"===c.align?"1":"0",r={"font-size":"","font-family":"","font-weight":"","font-style":"","text-decoration":"",color:"","background-color":""};else{if(t.blockFormat=n.doc.queryCommandValue("formatBlock"),n.browser.isIe&&/ [1-6]$/i.test(t.blockFormat)?t.blockFormat=t.blockFormat.replace(/.* ([1-6])$/,"h$1"):/^h[1-6]$/i.test(t.blockFormat)||(t.blockFormat="div"),n.browser.isIe){var p=C.getRangeDetail(o.startContainer,o.startOffset);3===p.container.nodeType&&(p.container=p.container.parentNode),t.fontName=g.getComputedStyle(p.container,"fontFamily",!1)}else t.fontName=n.doc.queryCommandValue("fontName");t.foreColor=i.rgb2Hex(n.doc.queryCommandValue("foreColor")),t.backColor=i.rgb2Hex(n.doc.queryCommandValue("backColor")),t.bold=I("bold"),t.italic=I("italic"),t.underline=I("underline"),t.strikeThrough=I("strikeThrough"),t.subscript=I("subscript"),t.superscript=I("superscript"),"1"!==t.isInTable&&(t.justifyleft=I("justifyleft"),t.justifycenter=I("justifycenter"),t.justifyright=I("justifyright"),t.justifyfull=I("justifyfull")),t.InsertOrderedList=I("InsertOrderedList"),t.InsertUnorderedList=I("InsertUnorderedList"),t.unlink=b.hasLinkFromRange()?"1":"0",r={"font-size":""},d=C.getRangeDomList({noSplit:!0}),d&&(d=d.list.length>0?d.list:[d.startDom])}for(var m=0,v=d.length;m<v;m++){var _=d[m];if(3===_.nodeType||1===_.nodeType){_=3===_.nodeType?_.parentNode:d[m];for(var y in r)if(r.hasOwnProperty(y)){var S=g.getComputedStyle(_,y,!0);if(!S)continue;0===m?r[y]=S:r[y]!==S&&(r[y]="")}}}var A=r["font-size"];A&&(t.fontSize=Math.round(parseFloat(A)/g.pt2px()/g.getRootSizeRate())+"pt"),A=r["font-family"],A&&(t.fontName=A),A=r["font-weight"],A&&/bold|bolder/.test(A)&&(t.bold="1"),A=r["font-style"],A&&/italic|oblique/.test(A)&&(t.italic="1"),A=r["text-decoration"],A&&/underline/.test(A)?t.underline="1":A&&/line\-through/.test(A)&&(t.strikeThrough="1"),"#f3f7ff"===t.backColor&&(t.backColor=""),e.triggerListener(a.SelectionChange,[t])}},k={onClick:function(e){b.onClickLink(e),n.options.editor.callback.onClick&&!n.options.editor.callback.onClick(e)||n.event.call(o.EVENT.ON_CLICK,e)},onCompositionend:function(e){n.event.call(o.EVENT.ON_COMPOSITION_END,e)},onCompositionstart:function(e){n.event.call(o.EVENT.ON_COMPOSITION_START,e)},onCopy:function(e){return f&&f.getContainerFromChild(e.target)?void n.client.sendCmdToWizClient(o.CLIENT_EVENT.WizEditorAfterCopied):(x=!0,void L(e,!1,function(){x=!1,n.client.sendCmdToWizClient(o.CLIENT_EVENT.WizEditorAfterCopied)}))},onCut:function(e){f&&f.getContainerFromChild(e.target)||(v.saveSnap(!1),x=!0,L(e,!0,function(){n.event.call(o.EVENT.ON_CUT,e),m.onAdjustContainerSize(),x=!1,n.client.sendCmdToWizClient(o.CLIENT_EVENT.WizEditorAfterCopied)}))},onDOMSubtreeModified:function(e){if(g.isTag(n.body.firstElementChild,"br")){var t=n.body.firstElementChild,r=n.doc.createElement("div");g.before(r,t),r.appendChild(t)}n.event.call(o.EVENT.ON_DOM_SUBTREE_MODIFIED,e)},onDragStart:function(e){n.event.call(o.EVENT.ON_DRAG_START,e)},onDragEnter:function(e){n.event.call(o.EVENT.ON_DRAG_ENTER,e)},onDrop:function(e){var t=e.dataTransfer&&e.dataTransfer.files?e.dataTransfer.files:null;return t&&n.options.editor.callback.onDropFile?(n.options.editor.callback.onDropFile(t,e),void i.stopEvent(e)):void n.event.call(o.EVENT.ON_DROP,e)},onKeydown:function(e){var t=!n.browser.isMac&&e.ctrlKey||n.browser.isMac&&e.metaKey;if(n.browser.isIe&&"c"===e.key&&t)return void k.onCopy(e);if(n.browser.isIe&&"x"===e.key&&t)return void k.onCut(e);if(!n.options.editor.callback.onKeyDown||n.options.editor.callback.onKeyDown(e)){var r=C.getRange(),i=void 0;r&&r.collapsed&&n.body&&0===n.body.childNodes.length&&(i=n.doc.createElement("div"),i.appendChild(n.doc.createElement("br")),n.body.appendChild(i),C.setRange(i,1));var a=e.keyCode||e.which;if(n.win.WizQtEditor&&n.client.type.isMac&&83===a&&t&&n.win.WizQtEditor.saveCurrentNote(),!f||!f.getContainerFromChild(e.target)){var l=void 0,s=void 0,c=void 0,d=T.getZone();if(n.browser.isMac&&!d.range&&(l=e.shiftKey?"extend":"move",e.metaKey&&37===a||e.ctrlKey&&65===a?(s="backward",c="lineboundary"):e.metaKey&&39===a||e.ctrlKey&&69===a?(s="forward",c="lineboundary"):e.metaKey&&38===a?(s="backward",c="documentboundary"):e.metaKey&&40===a?(s="forward",c="documentboundary"):e.ctrlKey&&80===a?(s="backward",c="line"):e.ctrlKey&&78===a?(s="forward",c="line"):e.ctrlKey&&70===a?(s="forward",c="character"):e.ctrlKey&&66===a&&(s="backward",c="character")),s){if(C.modify(l,s,c),"documentboundary"===c)if("forward"===s){var u=g.getLast(),p=E.getContainer(u);if(p)C.setRange(p,p.childNodes.length);else{var h=f.getContainerFromChild(u);h&&f.focusToLast(h.codeMirror)}}else{var v=g.getFirst(),b=E.getContainer(v);if(b)C.setRange(b,0);else{var _=f.getContainerFromChild(v);_&&f.focusToFirst(_.codeMirror)}}return void C.fixScroll()}n.event.call(o.EVENT.ON_KEY_DOWN,e),m.onAdjustContainerSize()}}},onKeyup:function(e){C.caretFocus(),n.event.call(o.EVENT.ON_KEY_UP,e),n.client.type.isIOS&&C.fixScroll()},onMousedown:function(e){if(!n.isShowPreview){if(!g.isInWizBody(e.target))return void T.clear();n.event.call(o.EVENT.ON_MOUSE_DOWN,e),m.onAdjustContainerSize()}},onMousemove:function(e){n.isShowPreview||n.event.call(o.EVENT.ON_MOUSE_MOVE,e)},onMouseover:function(e){n.isShowPreview||n.event.call(o.EVENT.ON_MOUSE_OVER,e)},onMouseup:function(e){n.isShowPreview||n.event.call(o.EVENT.ON_MOUSE_UP,e)},onOrientationchange:function(e){n.event.call(o.EVENT.ON_ORIENTATION_CHANGE,e),n.client.type.isIOS&&C.fixScroll()},onPaste:function(e){if(!n.isShowPreview){var t=function(t){t&&n.event.call(o.EVENT.ON_PASTE,e),m.onAdjustContainerSize(),x=!1};x=!0,_.pasteFromClipBoard(e,t)}},onScroll:function(e){n.event.call(o.EVENT.ON_SCROLL,e)},onSelectionStart:function(e){n.event.call(o.EVENT.ON_SELECT_START,e)},onSelectionChange:function(e){if(!n.isShowPreview&&!x){var t=C.getRange(),r=T.getZone();if(t||r.range){if(n.event.call(o.EVENT.ON_SELECTION_CHANGE,e),t=C.getRange(),r=T.getZone(),n.client.type.isMac&&r.range&&t){var i=C.getRangeDetail(t.startContainer,t.startOffset),a=C.getRangeDetail(t.endContainer,t.endOffset),l=r.start.cell;if(!g.isTag(l.firstChild,"div")){var s=g.packageChildNodesByDiv(l);0===s.childNodes.length?(s.innerHTML="<br/>",C.setRange(s,0)):C.setRange(i.container,i.offset,a.container,a.offset)}}n.client.type.isIOS&&C.fixScroll(),m.onAdjustContainerSize()}}},onTouchEnd:function(e){n.isShowPreview||n.event.call(o.EVENT.ON_TOUCH_END,e)},onTouchStart:function(e){n.isShowPreview||n.event.call(o.EVENT.ON_TOUCH_START,e)}};this.TYPE=a,this.bind=function(){e.unbind(),n.body.addEventListener("click",k.onClick),n.body.addEventListener("compositionstart",k.onCompositionstart),n.body.addEventListener("compositionend",k.onCompositionend),n.body.addEventListener("DOMSubtreeModified",k.onDOMSubtreeModified),n.body.addEventListener("dragstart",k.onDragStart),n.body.addEventListener("dragenter",k.onDragEnter),n.body.addEventListener("drop",k.onDrop),n.body.addEventListener("keydown",k.onKeydown),n.body.addEventListener("keyup",k.onKeyup),n.body.addEventListener("mousemove",k.onMousemove),n.body.addEventListener("mouseover",k.onMouseover),n.body.addEventListener("mouseup",k.onMouseup),n.body.addEventListener("paste",k.onPaste),n.body.addEventListener("selectstart",k.onSelectionStart),n.doc.addEventListener("copy",k.onCopy),n.doc.addEventListener("cut",k.onCut),n.doc.addEventListener("mousedown",k.onMousedown),n.doc.addEventListener("orientationchange",k.onOrientationchange),n.doc.addEventListener("selectionchange",k.onSelectionChange),n.supportTouchEvent&&(n.body.addEventListener("touchend",k.onTouchEnd),n.body.addEventListener("touchstart",k.onTouchStart)),n.options.container?n.scrollContainer.addEventListener("scroll",k.onScroll):n.doc.addEventListener("scroll",k.onScroll),m.onAdjustContainerSize()},this.unbind=function(){n.body.removeEventListener("click",k.onClick),n.body.removeEventListener("compositionstart",k.onCompositionstart),n.body.removeEventListener("compositionend",k.onCompositionend),n.body.removeEventListener("DOMSubtreeModified",k.onDOMSubtreeModified),n.body.removeEventListener("dragstart",k.onDragStart),n.body.removeEventListener("dragenter",k.onDragEnter),n.body.removeEventListener("drop",k.onDrop),n.body.removeEventListener("keydown",k.onKeydown),n.body.removeEventListener("keyup",k.onKeyup),n.body.removeEventListener("mousemove",k.onMousemove),n.body.removeEventListener("mouseover",k.onMouseover),n.body.removeEventListener("mouseup",k.onMouseup),n.body.removeEventListener("paste",k.onPaste),n.body.removeEventListener("selectstart",k.onSelectionStart),n.body.removeEventListener("touchend",k.onTouchEnd),n.body.removeEventListener("touchstart",k.onTouchStart),n.doc.removeEventListener("copy",k.onCopy),n.doc.removeEventListener("cut",k.onCut),n.doc.removeEventListener("mousedown",k.onMousedown),n.doc.removeEventListener("orientationchange",k.onOrientationchange),n.doc.removeEventListener("selectionchange",k.onSelectionChange),n.doc.removeEventListener("scroll",k.onScroll),n.scrollContainer&&n.scrollContainer.removeEventListener("scroll",k.onScroll)},this.addListener=function(e,t){if(t&&"function"==typeof t){var r=S[e];if(r){for(var i=0,l=r.length;i<l;i++)if(r[i]===t)return;r.push(t),e===a.SelectionChange&&n.event.add(o.EVENT.ON_SELECTION_CHANGE,w)}}},this.removeListener=function(e,t){if(!t||"function"==typeof t){var r=S[e];if(r){for(var i=r.length-1;i>=0;i--)r[i]!==t&&t||r.splice(i,1);0===r.length&&n.event.remove(o.EVENT.ON_SELECTION_CHANGE,w)}}},this.startTrackEvent=function(e,t){A[t]||(A[t]=function(e){n.client.sendCmdToWizClient(o.CLIENT_EVENT.WizEditorTrackEvent,{id:t,e:N(e)})},n.body.addEventListener(e,A[t]))},this.stopTrackEvent=function(e,t){A[t]&&(n.body.removeEventListener(e,A[t]),delete A[t])},this.triggerListener=function(t,n){var r=S[t];if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o];a.apply(e,n)}}};t.exports=l},{"../../config/const":391,"../../libs/utils":402}],368:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/utils"),i=function(){var e=this,t=null,n=null,i=null,a=null,l=null,s=null,c=null,d=null,u=null,f=null;this.initCore=function(e){t=e,n=t.env,i=t.require.amend,a=t.require.amendUser,l=t.require.amendUtils,s=t.require.commandExtend,c=t.require.domUtils,d=t.require.frameViewUtils,u=t.require.rangeUtils,f=t.require.tableCore};var p=void 0,g=function(e){if(e){p&&clearTimeout(p);var t=30,r=30;n.client.type.isPhone&&(t=100,r=300),p=setTimeout(function(){var t=void 0,n=e;c.isSelfClosingTag(e)?(n=n.parentNode,t=c.getIndex(e)+1):t=c.getEndOffset(e),d.onAdjustContainerSize(),c.isEmptyDom(n)&&(t=0),u.setRange(n,t,null,null),1===e.nodeType&&(p=setTimeout(function(){d.onAdjustContainerSize(),u.fixScroll()},r))},t)}},h=function(){return u.getSelection().toString()};this.find=function(e,t,r,o){if(!e)return!1;var i=n.win.find(e,t,r);return!i&&o&&(u.setRange(n.body,r?n.body.childNodes.length:0),i=n.win.find(e,t,r)),i},this.readyForInsert=function(){var e=u.getSelection(),t=u.getRange(),o=void 0,s=void 0,d={parent:null,target:null},f=void 0,p=void 0;t||u.caretRestore()||c.focus(),i.isAmendEditing()&&(t.collapsed||(l.removeSelection(a.getCurUser()),l.removeUserDel(null,a.getCurUser()),
e.collapseToEnd())),t=u.getRange(),t.collapsed&&(o=t.startContainer,s=t.startOffset,p=c.getParentByFilter(o,function(e){if(1!==e.nodeType)return!1;var t=e.getAttribute("href");return!(!t||!/^wiz:\/*open_attachment\?/i.test(t))},!0),p&&(f=c.createSpan(),f.innerHTML=r.FILL_CHAR,0===s?(c.before(f,p),u.setRange(f,0)):(c.after(f,p),u.setRange(f,1))));var g=l.fixedAmendRange(),h=i.splitAmendDomByRange(g);return t=u.getRange(),o=t.startContainer,s=t.startOffset,h?(d.target=h,d.parent=h.parentNode):3===o.nodeType&&s>0&&s<o.nodeValue.length?(d.target=c.splitRangeText(o,s,null,!1),d.parent=d.target.parentNode):1===o.nodeType&&s>0&&s<o.childNodes.length?(d.target=o.childNodes[s],d.parent=o):o===n.body||o===n.body.parentNode?(d.target=0===s?n.body.childNodes[0]:null,d.parent=n.body):0===s?(d.target=o,d.parent=o.parentNode):3===o.nodeType?(d.target=o.nextSibling,d.parent=o.parentNode):(d.target=null,d.parent=o),d.target&&1===d.target.nodeType&&!c.isSelfClosingTag(d.target)&&c.isEmptyDom(d.target)&&(d.parent=d.target,c.isTag(d.parent.childNodes[0],"br")?(d.parent.removeChild(d.parent.childNodes[0]),d.target=d.parent.childNodes.length>0?d.parent.childNodes[0]:null):d.target=d.parent.childNodes[0]),c.isWizDom(d.parent)&&(d.target=d.parent,d.parent=d.parent.parentNode),d},this.insertDom=function(t,r){if(t){var i=function(e){if(e.parent&&!e.target)for(;e.parent!==n.body&&!e.target;)e.target=e.parent.nextSibling,e.parent=e.parent.parentNode},a=function(e){if(1!==e.nodeType)return null;var t=void 0;return c.isTag(e,"img")?e:(t=e.querySelectorAll("img"),t.length>0?t[t.length-1]:null)},l=e.readyForInsert(),s=void 0,d=void 0,u=void 0,f=void 0;r&&c.isEmptyDom(l.parent)&&!c.isTag(l.parent,["td","th","li"])&&!l.target&&(s=l.parent,l.parent=s.parentNode,l.target=s.nextSibling,l.parent.removeChild(s)),o.isArray(t)||(t=[t]);for(var p=0,h=t.length;p<h;p++){var m=t[p];c.isBlock(m)&&i(m),l.parent.insertBefore(t[p],l.target),f=a(t[p]),f&&(u=f),d=t[p]}c.fixList(),g(d),u&&u.addEventListener("load",function(){g(d)})}},this.insertHtml=function(t,o){if(t){var i=n.doc.createElement("div"),a=[];i.innerHTML=t;for(var l=0,s=i.childNodes.length;l<s;l++)a.push(i.childNodes[l]);e.insertDom(a,o),i=null,n.event.call(r.EVENT.AFTER_INSERT_DOM)}},this.modifySelectionDom=function(e,t){f.modifySelectionDom(e,t)||u.modifySelectionDom(e,t)},this.replace=function(t,r,o){if(!t)return!1;var i=h(),a=void 0,l=void 0;return i===t&&(r?(l=n.doc.createTextNode(r),a=n.doc.createElement("span"),a.appendChild(l),r=a.innerHTML,a=null,l=null):r="",s.execCommand("insertHTML",!1,r)),e.find(t,o)},this.replaceAll=function(t,r,o){if(!t)return!1;for(u.setRange(n.body,0);e.replace(t,r,o););}};t.exports=i},{"../../config/const":391,"../../libs/utils":402}],369:[function(e,t,n){"use strict";var r=e("../../config/const"),o=function(){var e=null,t=null,n=null,o=null,i=null;this.initCore=function(r){e=r,t=e.env,n=e.require.frameViewStyle,o=e.require.frameViewUtils,i=e.require.toolbarMarkdown},this.init=function(){},this.off=function(){n.removeFrameStyle(),o.off(),i&&i.off()},this.on=function(){return t.options.container&&t.options.useFrame&&n.insertFrameStyle(),!t.readonly&&t.options.editor.type===r.NOTE_EDITOR_TYPE.MARKDOWN&&t.frame.toolbarContainer?void(i&&i.on()):void o.on()}};t.exports=o},{"../../config/const":391}],370:[function(e,t,n){"use strict";var r=e("../../config/const"),o={toolbar:"."+r.CLASS.EDITING+"."+r.CLASS.EDITOR_CONTAINER+" {border: 1px solid silver;padding-top: 5px;}."+r.CLASS.WIZ_EIDTOR_TOOlBAR_CONTAINER+" {display:flex;}."+r.CLASS.WIZ_EIDTOR_TOOlBAR_MAIN+" {flex:1;}."+r.CLASS.WIZ_EIDTOR_TOOlBAR_MAIN+" .toolbar-split {width: 0;border-left: 1px solid #d9d9d9;border-right: 1px solid #fff;color: transparent;text-indent: -10px;margin: 0 6px;}."+r.CLASS.WIZ_EIDTOR_TOOlBAR_CONTAINER+" .editor-button {display:inline-block;position:relative;}."+r.CLASS.WIZ_EIDTOR_TOOlBAR_CONTAINER+" .editor-button .editor-submenu {position: absolute;display: none;width: 195px;padding: 5px 0;background: #fff;border-radius: 3px;border: 1px solid #E0E0E0;top:28px;left:-9px;box-shadow: 1px 1px 5px #d0d0d0;z-index:100;}."+r.CLASS.WIZ_EIDTOR_TOOlBAR_CONTAINER+" .editor-button.active .editor-submenu {display:block;}."+r.CLASS.WIZ_EIDTOR_TOOlBAR_CONTAINER+" .editor-button .editor-submenu-label{padding: 0 6px; font-size: 14px;}."+r.CLASS.WIZ_EIDTOR_TOOlBAR_CONTAINER+" .editor-button .editor-submenu table{border: 0;border-collapse: initial;border-spacing: 3px;background-color: white;margin: 0 auto;}."+r.CLASS.WIZ_EIDTOR_TOOlBAR_CONTAINER+" .editor-button .editor-submenu table td{border-collapse: collapse;border: 1px solid #bbbbbb;box-sizing: border-box;position: relative;padding: 3px;width: 16px;height: 16px;}."+r.CLASS.WIZ_EIDTOR_TOOlBAR_CONTAINER+" .editor-button .editor-submenu table td.selected{border-color: #448aff;}."+r.CLASS.WIZ_EIDTOR_TOOlBAR_CONTAINER+" .editor-icon {font-size:16px;padding:4px;border:1px solid transparent;border-radius: 3px;cursor: pointer;color:#2c3e50}."+r.CLASS.WIZ_EIDTOR_TOOlBAR_CONTAINER+" .editor-icon.hover {background:#fcfcfc;border-color:#95a5a6;}."+r.CLASS.WIZ_EIDTOR_TOOlBAR_CONTAINER+" .editor-icon.disabled,."+r.CLASS.WIZ_EIDTOR_TOOlBAR_CONTAINER+" .editor-icon.disabled.hover {background:#fcfcfc;border-color:transparent;color:#94a0ad;}",preview:"."+r.CLASS.WIZ_EIDTOR_PREVIEW_CONTAINER+"{position:absolute;top:2px;bottom:0;left:0;right:0;background:#FFF;display:none;z-index:999;overflow:auto;}."+r.CLASS.WIZ_EIDTOR_PREVIEW_CONTAINER+"."+r.CLASS.EDITOR_PREVIEW_SHOW+"{display:block;}",frame:"body {overflow-y: hidden;}"},i=function(){var e=this,t=null,n=null,i=null,a=null;this.initCore=function(e){t=e,n=t.env,i=t.require.domUtils,a=t.require.wizStyle},this.insertFrameStyle=function(){e.removeFrameStyle(),a.insertStyle({id:r.ID.WIZ_EIDTOR_FRAME_STYLE,name:r.NAME.TMP_STYLE},o.frame)},this.insertPreviewStyle=function(){e.removePreviewStyle(),a.insertStyle({id:r.ID.WIZ_EIDTOR_PREVIEW_STYLE,name:r.NAME.TMP_STYLE},o.preview)},this.insertToolbarStyle=function(){e.removeToolbarStyle();var t=n.frame.toolbarDoc.getElementById(r.ID.WIZ_EIDTOR_TOOlBAR_STYLE);t||(t=n.frame.toolbarDoc.createElement("style"),t.id=r.ID.WIZ_EIDTOR_TOOlBAR_STYLE,n.frame.toolbarDoc.getElementsByTagName("HEAD")[0].insertBefore(t,null)),t&&(t.innerHTML=o.toolbar)},this.removeFrameStyle=function(){i.remove(n.doc.getElementById(r.ID.WIZ_EIDTOR_FRAME_STYLE))},this.removePreviewStyle=function(){i.remove(n.doc.getElementById(r.ID.WIZ_EIDTOR_PREVIEW_STYLE))},this.removeToolbarStyle=function(){i.remove(n.frame.toolbarDoc.getElementById(r.ID.WIZ_EIDTOR_TOOlBAR_STYLE))}};t.exports=i},{"../../config/const":391}],371:[function(e,t,n){"use strict";var r=(e("../../config/const"),function(){var e=this,t=null,n=null,r=null;this.initCore=function(e){t=e,n=t.env,r=t.require.domUtils};var o=void 0,i=void 0,a=-1,l=-1,s=-1,c={onAdjustContainerSize:function(){var e=n.readonly?n.options.reader.minHeight:n.options.editor.minHeight;return n.options.container&&n.options.useFrame?(clearTimeout(o),void(o=setTimeout(function(){for(var t=r.isTag(n.body,"frameset"),o=t?null:n.body.lastChild;o;){if(3===o.nodeType&&!r.isEmptyDom(o)){var c=n.doc.createElement("span");r.before(c,o),c.appendChild(o),o=c}if(1!==o.nodeType||r.checkInTmp(o)||"none"===r.getComputedStyle(o,"display")||0===o.clientHeight&&0===o.offsetHeight)o=o.previousSibling;else{var d=/^(absolute|fixed)/gi.test(r.getComputedStyle(o,"position"));if(!o.previousSibling||!d)break;o=o.previousSibling}}var u=n.doc.documentElement;n.body!==n.doc.body&&(u=n.body);var f=0;if(o){var p=parseInt(r.getComputedStyle(o,"margin-bottom"),10)||0,g=parseInt(r.getComputedStyle(n.body,"margin-bottom"),10)||0,h=parseInt(r.getComputedStyle(n.body,"padding-bottom"),10)||0,m=o.offsetTop+o.offsetHeight,v=u.scrollHeight-g;f=Math.max(v,e),(s!==e||l<=f&&m<a)&&(f=Math.max(m+p+h,e)),a=m,s=e}else if(n.isWizTemplate){var b=u.scrollHeight;f=Math.max(b,e)}else f=t?.5*n.win.document.documentElement.clientHeight:e;f!==n.body.parentElement.clientHeight&&(n.frame.bodyContainer.style.height=f+25+"px"),l=f,n.doc.documentElement.scrollTop&&(clearTimeout(i),i=setTimeout(function(){n.doc.documentElement.scrollTop=0},300))},50))):void(n.options.container&&!n.options.useFrame&&e&&(n.body.style.minHeight=e+"px"))}},d={bind:function(){if(d.unbind(),n.readonly&&n.options.container&&n.options.useFrame&&n.doc.addEventListener("DOMSubtreeModified",e.onAdjustContainerSize),n.options.container&&n.options.useFrame&&(n.win.addEventListener("resize",e.onAdjustContainerSize),n.client.type.isWeb&&n.win.top!==n.win))try{n.win.top.addEventListener("resize",e.onAdjustContainerSize)}catch(e){}},unbind:function(){n.doc.removeEventListener("DOMSubtreeModified",e.onAdjustContainerSize),n.win.removeEventListener("resize",e.onAdjustContainerSize);try{n.win.top.removeEventListener("resize",e.onAdjustContainerSize)}catch(e){}}};this.init=function(){},this.off=function(){d.unbind()},this.on=function(){d.bind()},this.onAdjustContainerSize=c.onAdjustContainerSize});t.exports=r},{"../../config/const":391}],372:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/utils"),i=e("../../common/MarkdownRender"),a={active:"active",button:"editor-button",disabled:"disabled",icon:"editor-icon",selected:"selected",subMenu:"editor-submenu",subMenuLabel:"editor-submenu-label",subMenuTable:"editor-submenu-table",toolbarSplit:"toolbar-split",imgName:"editor-img-name",progressTxt:"editor-progress-txt",progressLine:"editor-progress-line"},l={tmpImg:"wiz-upload-img",bold:"wiz-toolbar-bold",code:"wiz-toolbar-code",help:"wiz-toolbar-help",image:"wiz-toolbar-image",italic:"wiz-toolbar-italic",link:"wiz-toolbar-link",listOl:"wiz-toolbar-list-ol",listUl:"wiz-toolbar-list-ul",preview:"wiz-toolbar-preview",quotes:"wiz-toolbar-quotes",redo:"wiz-toolbar-redo",split:"wiz-toolbar-split",table:"wiz-toolbar-table",undo:"wiz-toolbar-undo"},s=function(){var e=null,t=null,n=null,s=null,c=null,d=null,u=null,f=null,p=null,g=null,h=null,m=null;this.initCore=function(r){e=r,t=e.env,n=e.lang,s=e.require.codeUtils,c=e.require.domUtils,d=e.require.editorEvent,u=e.require.frameViewStyle,f=e.require.historyUtils,p=e.require.imgUtils,g=e.require.rangeUtils,h=e.require.tableCore,m=e.require.tableMenu};var v=null,b={},_=[{id:l.bold,icon:"bold"},{id:l.italic,icon:"italic"},{id:l.link,icon:"link"},{id:l.split},{id:l.quotes,icon:"quotes"},{id:l.listOl,icon:"list_ol"},{id:l.listUl,icon:"list_ul"},{id:l.split},{id:l.image,icon:"image"},{id:l.table,icon:"table"},{id:l.code,icon:"code"},{id:l.split},{id:l.undo,icon:"undo"},{id:l.redo,icon:"redo"}],C=[{id:l.preview,icon:"eye"},{id:l.help,icon:"question"}],y=null,E="",T={bind:function(){T.unbind(),d.addListener(d.TYPE.SelectionChange,T.handler.onSelectionChange),f.addCallback(T.handler.onHistoryUndo),t.supportTouchEvent?t.frame.toolbarContainer.addEventListener("touchstart",T.handler.onHoverButton):(t.frame.toolbarContainer.addEventListener("mouseover",T.handler.onHoverButton),t.frame.toolbarContainer.addEventListener("mouseout",T.handler.onHoverOutButton)),t.frame.toolbarContainer.addEventListener("click",T.handler.onClickButton)},bindSubMenu:function(){T.unbindSubMenu(),t.doc.addEventListener("mousedown",T.handler.onClickDoc);var e=y.querySelector("."+a.subMenuTable);e&&(e.addEventListener("mouseover",T.handler.onMouseOverTable),e.addEventListener("click",T.handler.onSelectTable))},unbindSubMenu:function(){t.doc.removeEventListener("mousedown",T.handler.onClickDoc);var e=y.querySelector("."+a.subMenuTable);e&&(e.removeEventListener("mouseover",T.handler.onMouseOverTable),e.removeEventListener("click",T.handler.onSelectTable))},unbind:function(){d.removeListener(d.TYPE.SelectionChange,T.handler.onSelectionChange),f.removeCallback(T.handler.onHistoryUndo),t.frame.toolbarContainer&&t.frame.toolbarContainer.removeEventListener("click",T.handler.onClickButton)},handler:{onHoverButton:function(e){var t=e.target;c.hasClass(t,a.icon)&&!c.hasClass(t,a.disabled)&&c.addClass(t,"hover")},onHoverOutButton:function(e){var t=e.target;c.hasClass(t,a.icon)&&!c.hasClass(t,a.disabled)&&c.removeClass(t,"hover")},onClickButton:function(e){var r=e.target;if(c.hasClass(r,a.icon)&&!c.hasClass(r,a.disabled)){c.removeClass(r,"hover");var o=r.parentNode,i=r.id,s=void 0,d=void 0;switch(i){case l.bold:t.isShowPreview||(f.saveSnap(!1),s=S.insertText("****"),g.setRange(s,2));break;case l.italic:t.isShowPreview||(f.saveSnap(!1),s=S.insertText("**"),g.setRange(s,1));break;case l.link:t.isShowPreview||(f.saveSnap(!1),s=S.insertText("["+n.Toolbar.LinkTopic+"](http://)"),g.setRange(s,3));break;case l.quotes:t.isShowPreview||S.insertQuotes();break;case l.listOl:t.isShowPreview||S.insertListOl();break;case l.listUl:t.isShowPreview||S.insertListUl();break;case l.image:if(o.getAttribute("for"))g.caretBackup();else{var u=t.options.editor.callback.onClickToolbarInsertImg;"function"==typeof u&&u()}break;case l.code:t.isShowPreview||(f.saveSnap(!1),S.insertText("\n"),S.insertText("```"),s=S.insertText("\n"),S.insertText("```"),S.insertText("\n"),g.setRange(s,0));break;case l.table:if(!t.isShowPreview){if(S.isActive(o)){S.setActive(o,!1);break}d=S.createSubMenu(o),S.createTableSubMenu(d),S.setActive(o,!0)}break;case l.undo:t.isShowPreview||f.undo();break;case l.redo:t.isShowPreview||f.redo();break;case l.preview:S.preview();break;case l.help:var p=t.options.editor.callback.onClickToolbarHelp;"function"==typeof p&&p()}setTimeout(function(){t.body.focus()},50)}},onClickDoc:function(e){var t=e.target,n=c.getParentByClass(t,a.button);n&&n===y||S.setActive(y,!1)},onHistoryUndo:function(e){var t=b[l.undo],n=b[l.redo];0===e.undoIndex?c.addClass(t,a.disabled):c.removeClass(t,a.disabled),e.undoIndex>=e.undoCount-1?c.addClass(n,a.disabled):c.removeClass(n,a.disabled)},onMouseOverTable:function(e){var t=e.target,n=void 0,r=0,o=0;1===t.nodeType&&/^td$/i.test(t.tagName)&&(n=t.getAttribute("data-index").split("-"),o=parseInt(n[0],10),r=parseInt(n[1],10));var i=c.getParentByClass(t,a.subMenu),l=c.getParentByClass(t,a.subMenuTable),s=i.querySelector("."+a.subMenuLabel);if(r&&o){s.innerHTML=o+" x "+r,l.selectRow=o,l.selectCol=r;for(var d=0;d<10;d++)for(var u=0;u<10;u++)l.rows[d].cells[u].className=d<o&&u<r?a.selected:""}},onSelectTable:function(e){var t=e.target,n=c.getParentByClass(t,a.button),r=c.getParentByClass(t,a.subMenuTable,!0);r&&r.selectRow&&r.selectCol&&(h.insertTable(r.selectCol,r.selectRow),S.setActive(n,!1))},onSelectionChange:function(e){var t=b[l.bold],n=b[l.italic],r=b[l.link],o=b[l.quotes],i=b[l.listOl],s=b[l.listUl],d=b[l.code],u=b[l.image],p=b[l.table],g=b[l.undo],h=b[l.redo];return e?(d&&"1"===e.isInCode||p&&"1"===e.isInTable?c.addClass([t,n,r,o,i,s,d,u,p],a.disabled):c.removeClass([t,n,r,o,i,s,d,u,p],a.disabled),void T.handler.onHistoryUndo(f.getUndoState())):void c.addClass([t,n,r,o,i,s,d,u,p,g,h],a.disabled)}}},S={checkBlock:function(e){return!!e&&!(c.getParentByClass(e,r.CLASS.CODE_CONTAINER,!0)||c.getParentByClass(e,r.CLASS.TABLE_CONTAINER,!0))},checkDomInList:function(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},clearImgUploadingTmp:function(e){var t=S.getImgUploadingTmp(e);t&&c.remove(t)},createSubMenu:function(e){var n=e.querySelector("."+a.subMenu);return n?n:(n=t.doc.createElement("div"),c.addClass(n,a.subMenu),e.appendChild(n),n)},createTableSubMenu:function(e){var n=e.querySelector("."+a.subMenuTable),r=void 0,o=void 0,i=void 0;if(n){i=n.querySelectorAll("."+a.selected);for(var l=i.length-1;l>=0;l--)c.removeClass(i[l],a.selected);var s=e.querySelector("."+a.subMenuLabel);return s.innerHTML="0 x 0",n}r=t.doc.createElement("div"),c.addClass(r,a.subMenuLabel),r.innerHTML="0 x 0",n=t.doc.createElement("table"),o=t.doc.createElement("tbody");for(var d=1;d<11;d++){for(var u=t.doc.createElement("tr"),f=1;f<11;f++){var p=t.doc.createElement("td");c.attr(p,{"data-index":d+"-"+f,unselectable:"on",onmousedown:"return false;"}),u.appendChild(p)}o.appendChild(u)}return c.addClass(n,a.subMenuTable),n.appendChild(o),e.appendChild(r),e.appendChild(n),e},createToolbar:function(){if(!(t.frame.toolbarContainer.children.length>0)){var e=t.doc.createElement("div");c.addClass(e,r.CLASS.WIZ_EIDTOR_TOOlBAR_MAIN);var n=t.doc.createElement("div");c.addClass(n,r.CLASS.WIZ_EIDTOR_TOOlBAR_SIDE),t.frame.toolbarContainer.appendChild(e),t.frame.toolbarContainer.appendChild(n);var i=_,a=C;o.forEach(i,function(t){e.appendChild(S.createToolIcon(t))}),o.forEach(a,function(e){n.appendChild(S.createToolIcon(e))})}},createToolIcon:function(e){var n=t.doc.createElement("div"),r=t.doc.createElement("i"),o=void 0;if(e.id===l.split?c.addClass(r,a.toolbarSplit):(e.id!==l.undo&&e.id!==l.redo||c.addClass(r,a.disabled),c.addClass(r,a.icon),c.addClass(r,"icon-"+e.icon),c.attr(r,{unselectable:"on",onmousedown:"return false;"}),o=e.id,r.id=o,b[o]=r),c.addClass(n,a.button),e.id===l.image){var i=t.doc.createElement("label");c.attr(i,{for:E}),i.appendChild(r),n.appendChild(i)}else n.appendChild(r);return n},getImgUploadingTmp:function(e){return t.body.querySelector("#"+S.getImgUploadingTmpId(e))},getImgUploadingTmpId:function(e){return l.tmpImg+"_"+e},getLineStartList:function(){var e=g.getRange(),n=[],r=[],o=void 0,i=void 0;if(!e)return n;var a=g.getRangeDetail(e.startContainer,e.startOffset),l=c.getPrevBlock(!e.collapsed&&a.isEnd?c.getNextNode(a.container):a.container),s=void 0,d=void 0;if(e.collapsed)S.checkBlock(l)&&r.push(l);else for(s=g.getRangeDetail(e.endContainer,e.endOffset),d=c.getPrevBlock(0===s.offset?c.getPreviousNode(s.container):s.container),S.checkBlock(d)&&r.push(d),o=c.getPrevBlock(c.getPreviousNode(d));d!==t.body&&d!==l&&o&&o!==t.body&&(S.checkBlock(o)&&r.splice(0,0,o),o!==l);)o=c.getPrevBlock(c.getPreviousNode(o));for(var u=0;u<r.length;u++)o=r[u],c.isTag(o,"br")?(i=o.nextSibling,!i&&c.isEmptyDom(o.parentNode)&&(i=o)):i=c.getFirstDeepChild(o),S.checkDomInList(i,n)||n.push(i);return n},hide:function(){t.frame.toolbarContainer&&(t.frame.toolbarContainer.style.display="none")},insertImgUploadingTmp:function(e,n){var o=g.getRange();if(o||(g.caretRestore()||t.body.focus(),o=g.getRange()),o){o.deleteContents(),S.clearImgUploadingTmp(e);var i=t.doc.createElement("br");o.insertNode(i);var l="markdown"===t.options.editor.type,s=t.doc.createElement(r.TAG.TMP_TAG);l?s.innerHTML=n.markdownSrc.replace("uploading",'<span class="progress_txt">0%</span>)'):s.innerHTML='<div style="border:1px solid #BDBDBD;color:#BDBDBD;width:200px;text-align:center;"><div class="'+a.imgName+'" style="padding:8px;font-size:14px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;">'+n.name+'</div><div class="progress_txt" style="padding-bottom:8px;font-size:12px;">0%</div><div class="progress_line" style="width:0%;height:2px;background:#66BB6A;"></div></div>',s.style.color="#BDBDBD",s.id=S.getImgUploadingTmpId(e),c.setContenteditable(s,!1),o.insertNode(s),o.insertNode(t.doc.createElement("br"));var d=c.getIndex(i);g.setRange(i.parentNode,d+1)}},insertListOl:function(){S.insertTextAtLineStart("1."+String.fromCharCode(160),S.getLineStartList())},insertListUl:function(){S.insertTextAtLineStart("*"+String.fromCharCode(160),S.getLineStartList())},insertQuotes:function(){S.insertTextAtLineStart(">"+String.fromCharCode(160),S.getLineStartList())},insertText:function(e){var n=g.getRange(),r=void 0,o=void 0;return"\n"===e?(r=t.doc.createElement("div"),r.appendChild(t.doc.createElement("br"))):r=t.doc.createTextNode(e),n?(n.deleteContents(),g.insertNode(r),g.setRange(r,c.getEndOffset(r))):3===r.nodeType?(o=t.doc.createElement("div"),o.appendChild(r),t.body.appendChild(o)):t.body.appendChild(r),r},insertTextAtLineStart:function(e,n){var r=void 0,o=void 0;if(0===n.length)return o=g.getRange(),void(o||(r=S.insertText(e),g.setRange(r,r.nodeValue.length)));for(var i=0;i<n.length;i++){var a=n[i];r=t.doc.createTextNode(e),c.isTag(a,"br")&&c.isEmptyDom(a.parentNode)?(c.before(r,a),c.remove(a)):c.before(r,a),i===n.length-1&&(r=c.getBlockParent(r,!0),g.setRange(r,c.getEndOffset(r)))}},isActive:function(e){return c.hasClass(e,a.active)},preview:function(){var e=t.body.querySelector("."+r.CLASS.WIZ_EIDTOR_PREVIEW_CONTAINER);if(e?(s&&s.clearCodeMirror(e.querySelectorAll("."+r.CLASS.CODE_CONTAINER)),e.innerHTML=""):(e=t.doc.createElement(r.TAG.TMP_TAG),c.addClass(e,r.CLASS.WIZ_EIDTOR_PREVIEW_CONTAINER),c.addClass(e,r.CLASS.READONLY),t.body.appendChild(e)),m.hide(),t.isShowPreview)return t.isShowPreview=!1,c.setContenteditable(t.body,!0),c.removeClass(e,r.CLASS.EDITOR_PREVIEW_SHOW),void t.event.call(r.EVENT.ON_SELECTION_CHANGE);t.isShowPreview=!0,T.handler.onSelectionChange(),c.setContenteditable(t.body,!1),c.addClass(e,r.CLASS.EDITOR_PREVIEW_SHOW),e.innerHTML="";var n=t.doc.createElement("div");n.innerHTML=t.body.innerHTML;for(var o=n.querySelectorAll(r.TAG.TMP_TAG),i=o.length-1;i>=0;i--)c.remove(o[i]);for(;n.firstChild;)e.appendChild(n.firstChild);v.do({container:e},function(){})},setActive:function(e,t){return t?void(y!==e&&(c.removeClass(y,a.active),y=e,c.addClass(e,a.active),T.bindSubMenu())):(c.removeClass(e,a.active),void(y===e&&(T.unbindSubMenu(),y=null)))},show:function(){S.createToolbar(),t.frame.toolbarContainer.style.display="flex"}};this.off=function(){t.isShowPreview=!1,T.unbind(),S.hide()},this.on=function(){t.readonly||(u.insertToolbarStyle(),u.insertPreviewStyle()),v||(v=new i({win:t.win,doc:t.doc,callback:function(){}}),v.initCore(e)),S.show(),T.bind()},this.setImgUploaderId=function(e){E=e;var n=void 0;if(!t.readonly&&t.frame.toolbarContainer){if(n=t.frame.toolbarContainer.querySelector("#"+l.image),!n)return;c.attr(n.parentNode,{for:E})}},this.onImgUploadBegin=function(e,t){S.insertImgUploadingTmp(e,t)},this.onImgUploadComplete=function(e,n){var o=S.getImgUploadingTmp(e);if(o){var i=void 0;i=t.options.editor.type===r.NOTE_EDITOR_TYPE.MARKDOWN?t.doc.createTextNode(n.markdownSrc):p.makeDomByPath(n.url),c.before(i,o),c.remove(o)}},this.onImgUploadError=function(e){S.clearImgUploadingTmp(e)},this.onImgUploadProgress=function(e,t){var n=S.getImgUploadingTmp(e);if(n){var r=n.querySelector(".progress_txt"),o=n.querySelector(".progress_line");r&&(r.firstChild.nodeValue=t.progress+"%"),o&&(o.style.width=t.progress+"%")}}};t.exports=s},{"../../common/MarkdownRender":346,"../../config/const":391,"../../libs/utils":402}],373:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/utils"),i=function(){var e=null,t=null,n=null,i=null;this.initCore=function(r){e=r,t=e.env,n=e.require.domUtils,i=e.require.imgUtils};var a=function(e){var i=new RegExp("("+r.CLASS.IMG_NOT_DRAG+")|("+r.CLASS.IMG_ATTACHMENT+")","i"),a=!(!e||!n.isTag(e,"img")||i.test(e.className)||!e.src);if(!a)return a;var l=void 0;return t.readonly?(l=n.getParentByFilter(e,function(e){if(!e)return!1;var t=e.getAttribute("href");return n.isTag(e,"a")&&(o.isCommonProtocol(t)||o.isWizProtocol(t))},!0),!l):(l=n.getParentByFilter(e,function(e){return e&&n.isTag(e,"a")&&o.isWizProtocol(e.getAttribute("href"))},!0),!l)},l=function(e){var n=e.target;if(a(n))return t.client.sendCmdToWizClient(r.CLIENT_EVENT.WizReaderClickImg,{src:n.src,imgList:t.client.type.isIOS?null:i.getAll(!0,!1)}),o.stopEvent(e),!1},s=function(e){var o=e.target;if(a(o)){var i=t.body.querySelectorAll("img["+r.ATTR.IMG_EDITING+"]"),l={};l[r.ATTR.IMG_EDITING]="";for(var s=i.length-1;s>=0;s--)n.attr(i[s],l);l[r.ATTR.IMG_EDITING]=1,n.attr(o,l),t.client.sendCmdToWizClient(r.CLIENT_EVENT.WizEditorClickImg,{src:o.src})}},c=function(){},d={bind:function(){d.unbind(),t.client.type.isIOS||t.client.type.isAndroid?t.event.add(r.EVENT.ON_CLICK,d.handler.onClick):t.readonly&&(t.client.type.isWin||t.client.type.isMac||t.client.type.isLinux)&&t.event.add(r.EVENT.ON_DBLCLICK,d.handler.onClick)},unbind:function(){t.event.remove(r.EVENT.ON_CLICK,d.handler.onClick),t.event.remove(r.EVENT.ON_DBLCLICK,d.handler.onClick)},handler:{onClick:function(e){t.readonly?l(e):t.client.type.isAndroid&&s(e)}}};this.init=c,this.bind=d.bind,this.unbind=d.unbind};t.exports=i},{"../../config/const":391,"../../libs/utils":402}],374:[function(e,t,n){"use strict";var r=function(){var e=null,t=null,n=null,r=null,o=null,i=null;this.initCore=function(a){e=a,t=e.env,n=e.require.domUtils,r=e.require.imgClick,o=e.require.imgResize,i=e.require.svgClick},this.on=function(){t.readonly||t.client.type.isPhone||t.client.type.isPad||(o.init(),o.bind()),r.init(),r.bind(),i.init(),i.bind()},this.off=function(){o.unbind(),r.unbind(),i.unbind()},this.setImgFullPath=function(){for(var e=t.body.querySelectorAll("img"),r=new RegExp("^(\\.\\/)?"+t.indexFilesPath.escapeRegex()+"\\/","i"),o=e.length-1;o>=0;o--){var i=e[o],a=i.getAttribute("src");r.test(a)&&n.attr(i,{src:a.replace(r,t.indexFilesFullPath)})}}};t.exports=r},{}],375:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/utils"),i="wiz_style",a=["lt","rt","rb","lb"],l=function(){var e=null,t=null,n=null,l=null;this.initCore=function(r){e=r,t=e.env,n=e.require.domUtils,l=e.require.rangeUtils};var s="",c=void 0,d=void 0,u=void 0,f=void 0,p=void 0,g=void 0,h=!1,m=null,v=void 0,b=void 0,_=void 0,C=function(e){if(!e)return!1;var t=e.getAttribute("class");return!t||-1===t.indexOf(r.CLASS.IMG_NOT_DRAG)},y=function(){N(),x(),v=null,t.body.style.cursor=b},E=function(){var e=T();if(e)return e;e=t.doc.createElement(r.TAG.TMP_TAG),n.addClass(e,r.CLASS.IMG_RESIZE_CONTAINER),n.setContenteditable(e,!1);var o={};o[i]="unsave",n.attr(e,o);for(var l=0;l<a.length;l++){var s=t.doc.createElement("div");n.addClass(s,r.CLASS.IMG_RESIZE_HANDLE),n.addClass(s,a[l]),n.attr(s,{"data-type":a[l]}),e.appendChild(s)}return t.body.appendChild(e),e},T=function(){var e=t.body.querySelector("."+r.CLASS.IMG_RESIZE_CONTAINER);return!e||e.length<1?null:e},S=function(){b=t.body.style.cursor||"",t.win.WizImgResizeOnGetHTML=function(){}},A=function(e){if(e){N(),n.addClass(e,r.CLASS.IMG_RESIZE_ACTIVE),e.attributes[r.ATTR.IMG_RATE]=e.width/e.height,v=e;var t=n.getIndex(e);l.setRange(e.parentNode,t,e.parentNode,t+1)}},O=function(e){if(e&&e.tagName&&"img"===e.tagName.toLowerCase()&&C(e)){var t=E();t&&(L(e),A(e),R.bindContainer(t))}},x=function(){var e=T();e&&(R.unbindContainer(e),n.remove(e))},N=function(){var e=t.body.querySelectorAll("."+r.CLASS.IMG_RESIZE_ACTIVE);if(e&&0!==e.length)for(var o=e.length-1;o>=0;o--)n.removeClass(e[o],r.CLASS.IMG_RESIZE_ACTIVE)},L=function(e){if(e){var o=T();if(o)for(var i=o.querySelectorAll("."+r.CLASS.IMG_RESIZE_HANDLE),a={offset:n.getOffset(e),width:e.width,height:e.height},l=n.getOffset(t.body),s=0;s<i.length;s++){var c=i[s];D(c,a,l),c.style.visibility="inherit"}}},w=function(e,t,n,r){if(r){var o=n*e,i=t/e;o<t?o=t:i=n,r.width=o,r.height=i}},D=function(e,t,r){if(t&&e){var o=t.offset,i=o.left-r.left,a=o.top-r.top,l=t.width,s=t.height,c=e.getAttribute("data-type"),d=0,u=0;switch(c){case"lt":d=i-7,u=a-7;break;case"tm":d=i+(l-7)/2,u=a-7;break;case"rt":d=i+l,u=a-7;break;case"rm":d=i+l,u=a+(s-7)/2;break;case"rb":d=i+l,u=a+s;break;case"bm":d=i+(l-7)/2,u=a+s;break;case"lb":d=i-7,u=a+s;break;case"lm":d=i-7,u=a+(s-7)/2}n.css(e,{left:d+"px",top:u+"px"})}},I=function(e){var t=T();t&&(t.style.display=e?"block":"none",e||y())},R={bind:function(){R.unbind(),t.event.add(r.EVENT.BEFORE_GET_DOCHTML,R.handler.beforeGetDocHtml),t.event.add(r.EVENT.ON_CUT,R.handler.onCut),t.event.add(r.EVENT.ON_KEY_DOWN,R.handler.onKeyDown),t.event.add(r.EVENT.ON_MOUSE_DOWN,R.handler.onMouseDown),t.event.add(r.EVENT.ON_MOUSE_MOVE,R.handler.onMouseMove),t.event.add(r.EVENT.ON_MOUSE_UP,R.handler.onMouseUp)},bindContainer:function(e){R.unbindContainer(e),e.addEventListener("mousedown",R.handler.onContainerMouseDown)},unbind:function(){t.event.remove(r.EVENT.BEFORE_GET_DOCHTML,R.handler.beforeGetDocHtml),t.event.remove(r.EVENT.ON_CUT,R.handler.onCut),t.event.remove(r.EVENT.ON_KEY_DOWN,R.handler.onKeyDown),t.event.remove(r.EVENT.ON_MOUSE_DOWN,R.handler.onMouseDown),t.event.remove(r.EVENT.ON_MOUSE_MOVE,R.handler.onMouseMove),t.event.remove(r.EVENT.ON_MOUSE_UP,R.handler.onMouseUp)},unbindContainer:function(e){e.removeEventListener("mousedown",R.handler.onContainerMouseDown)},handler:{beforeGetDocHtml:function(){y()},onContainerMouseDown:function(e){var i=e.target||e.srcElement;s=i.getAttribute("data-type");var a=t.body.querySelector("."+r.CLASS.IMG_RESIZE_ACTIVE),l=void 0,u=void 0,f=void 0;if(a){switch(l=e.pageX,u=e.pageY,f=n.getOffset(a),s){case"lt":c=f.left-l,d=f.top-u,p=f.left+a.width,g=f.top+a.height,_="nw-resize";break;case"tm":c=void 0,d=f.top-u,_="n-resize";break;case"rt":c=l-a.width-f.left,d=f.top-u,p=f.left,g=f.top+a.height,_="ne-resize";break;case"rm":c=l-a.width-f.left,d=void 0,_="e-resize";break;case"rb":c=l-a.width-f.left,d=u-a.height-f.top,_="se-resize";break;case"bm":c=void 0,d=u-a.height-f.top,p=f.left/2,g=f.top,_="s-resize";break;case"lb":c=f.left-l,d=u-a.height-f.top,p=f.left+a.width,g=f.top,_="sw-resize";break;case"lm":c=f.left-l,d=void 0,_="w-resize"}o.stopEvent(e)}},onCut:function(e){I(!1)},onDrop:function(e){t.doc.removeEventListener("drop",R.handler.onDrop),v===m&&y(),h=!1,m=null},onKeyDown:function(e){var t=e.keyCode||e.which,r=void 0,o=void 0;!v||8!==t&&46!==t||(r=v.parentNode,r&&(o=n.getIndex(v),l.setRange(r,o,r,o+1))),I(!1)},onMouseDown:function(e){var r=e.target||e.srcElement;n.isTag(r,"img")?(h=!0,m=r,t.doc.addEventListener("drop",R.handler.onDrop)):(h=!1,m=null),e.target!==v&&(I(!1),N())},onMouseMove:function(e){var o=void 0,i=void 0,a=void 0,h=void 0,v=void 0,b=e.target||e.srcElement;if(b&&b===m&&(h=n.getIndex(e.target),v=b,l.setRange(v.parentNode,h,v.parentNode,h+1)),v=t.body.querySelector("."+r.CLASS.IMG_RESIZE_ACTIVE),v&&(o=n.getOffset(v),s)){i=e.pageX,a=e.pageY,t.body.style.cursor=_;var C=void 0,y=void 0,E=void 0,T=void 0,S=void 0;switch(u&&f||(u=i,f=a),s){case"tm":v.width=v.width,a<o.top?v.height+=f-a:(S=v.height-(a-f)-d,v.height=S<0?0:S);break;case"rm":T=i-o.left-c,v.width=T<0?0:T,v.height=v.height,v.attributes[r.ATTR.IMG_RATE]=v.width/v.height;break;case"bm":v.width=v.width,v.height=S<0?0:S,v.attributes[r.ATTR.IMG_RATE]=v.width/v.height;break;case"lm":v.height=v.height,i<o.left?v.width+=u-i:(T=v.width-(i-u)-c,v.width=T<0?0:T);break;case"lt":C=Number(v.attributes[r.ATTR.IMG_RATE]),y=p-i,E=g-a,y-=c,E-=d,y=y<0?0:y,E=E<0?0:E,w(C,y,E,v);break;case"rt":C=Number(v.attributes[r.ATTR.IMG_RATE]),y=i-p,E=g-a,y-=c,E-=d,y=y<0?0:y,E=E<0?0:E,w(C,y,E,v);break;case"lb":C=Number(v.attributes[r.ATTR.IMG_RATE]),y=p-i,E=a-g,y-=c,E-=d,y=y<0?0:y,E=E<0?0:E,w(C,y,E,v);break;case"rb":C=Number(v.attributes[r.ATTR.IMG_RATE]),y=i-o.left,E=a-o.top,y-=c,E-=d,y=y<0?0:y,E=E<0?0:E,w(C,y,E,v)}if(v.style.cssText){var A=v.style.cssText;A=A.replace(/width:\s*\d+.?\d+px;?/gi,"width: "+v.width+"px").replace(/height:\s*\d+.?\d+px;?/gi,"height: "+v.height+"px"),v.style.cssText=A}u=i,f=a,L(v),t.event.call(r.EVENT.UPDATE_RENDER,null)}},onMouseUp:function(e){t.doc.removeEventListener("drop",R.handler.onDrop),h=!1,m=null;var r=e.target||e.srcElement;n.isTag(r,"img")&&O(r),s="",u=void 0,f=void 0,p=void 0,g=void 0,c=void 0,d=void 0,t.body.style.cursor=b}}};this.init=S,this.bind=R.bind,this.unbind=R.unbind};t.exports=l},{"../../config/const":391,"../../libs/utils":402}],376:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/utils"),i=function(){var e=this,t=null,n=null,i=null,a=null;this.initCore=function(e){t=e,n=t.env,i=t.require.domUtils,a=t.require.rangeUtils};var l=function(e,t,n){if(!e||e.className&&e.className.indexOf("wiz-todo")>-1)return!1;if(!n){var r=i.getParentByTagName(e,"a",!1);if(r&&o.isWizProtocol(r.getAttribute("href")))return!1}var a=e.src;if(!a)return!1;var l=/^(http|https|ftp):/,s=/^(data):/,c=void 0;return c=!s.test(a),c&&t?!l.test(a):c};this.getAll=function(e,t){var r=n.doc.images,o=[],i={};for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],c=decodeURIComponent(s.src);l(s,e,t)&&!i[c]&&(o.push(c),i[c]=!0)}return o},this.getImageData=function(t){var r=e.getImageSize(t.src),o=n.doc.createElement("canvas");o.width=r.width,o.height=r.height;var i=o.getContext("2d");i.drawImage(t,0,0);var a=o.toDataURL("image/png");return a.replace(/^data:image\/(png|jpg);base64,/,"");
},this.getImageSize=function(e){var t=new Image;t.src=e;var n=t.height,r=t.width;return{width:r,height:n}},this.makeAttachmentDom=function(e,t){var o=[],a=void 0,l=void 0,s=void 0;return a=n.doc.createElement("div"),a.style.margin="10px auto",l=n.doc.createElement("a"),l.href="wiz://open_attachment?guid="+e,s=n.doc.createElement("img"),s.src=t,s.style.verticalAlign="bottom",s.style.maxWidth="280px",i.addClass(s,r.CLASS.IMG_ATTACHMENT),l.appendChild(s),a.appendChild(l),o.push(a),a=n.doc.createElement("div"),a.appendChild(n.doc.createElement("br")),o.push(a),o},this.makeDomByPath=function(e){var t=[],r=[];e.indexOf("*")?r=e.split("*"):r.push(e);for(var o=0,i=r.length;o<i;o++){var a=n.doc.createElement("div");t.push(a);var l=n.doc.createElement("img");l.src=r[o],l.style.verticalAlign="bottom",l.style.maxWidth="100%",a.insertBefore(l,null),a=n.doc.createElement("div"),a.insertBefore(n.doc.createElement("br"),null),t.push(a)}return t},this.remove=function(e){for(var t=n.body.querySelectorAll(e),r=t.length-1;r>=0;r--){var o=t[r];o.parentElement.removeChild(o)}},this.replaceSrc=function(e,t){var o=n.body.querySelectorAll(e),a={};a[r.ATTR.IMG_EDITING]="";for(var l=o.length-1;l>=0;l--){var s=o[l];s.src=t,i.attr(s,a)}}};t.exports=i},{"../../config/const":391,"../../libs/utils":402}],377:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/utils"),i=function(){var e=null,t=null,n=null,i=null,a=null,l=null,s=null,c=null,d=null;this.initCore=function(r){e=r,t=e.env,n=e.require.codeUtils,i=e.require.domUtils,a=e.require.editorUtils,l=e.require.rangeUtils,s=e.require.tableUtils,c=e.require.tableZone};var u=function(e){var t=new RegExp("("+r.CLASS.SVG_IMAGE+")","i");return!!(e&&i.isTag(e,"img")&&t.test(e.getAttribute("class")))},f=function(){var e=i.getWordCount();return e.nChars+e.nAsianChars<102400},p=function(){if(f()){var e=l.getRange();e&&!e.collapsed&&(l.setRange(e.endContainer,e.endOffset),e=l.getRange());var o=!1,d=t.doc.createElement("div");if(i.addClass(d,r.CLASS.SVG_TEMPLATE),e&&n){var u=n.getContainerFromChild(e.startContainer);u&&(i.after(d,u),o=!0)}if(o||e)o||(a.insertDom(d,!1),o=!0);else{var p=c.getZone();if(p.range){var g=s.getContainer(p.table);i.after(d,g),o=!0}else t.body.appendChild(d),o=!0}var h=i.getContentHtml({isCreateSvg:!0}),v=m(d),b={noteHtml:h,svgIndex:v.index,svgList:v.list};o&&i.remove(d),t.client.sendCmdToWizClient(r.CLIENT_EVENT.WizEditorClickSvg,b)}},g=function(e){if(f()){var n=e.target;if(u(n)){if(/^touch/i.test(e.type)){var a=e.touches[0]||e.changedTouches[0];if(!d||!a)return;if(Math.abs(d.clientX-a.clientX)>10||Math.abs(d.clientY-a.clientY)>10)return}var l=i.getContentHtml(),s=m(n),c={noteHtml:l,svgIndex:s.index,svgList:s.list};t.client.sendCmdToWizClient(r.CLIENT_EVENT.WizEditorClickSvg,c),o.stopEvent(e)}}},h=function(e){var t=e.src?e.src.replace(/^.*[\\\/]([^\\\/]*)$/,"$1"):"";return{id:e.id,fileName:t}},m=function(e){var n=[],a=h(e),s=[],c=null,d=!1;if(e)c=i.getIndexList(e).join(".");else{var u=l.getRange();if(u){var f=l.getRangeDetail(u.startContainer,u.startOffset);c=i.getIndexList(f.container).join("."),0===f.offset&&(d=!0)}}for(var p=t.body.querySelectorAll("img."+r.CLASS.SVG_IMAGE),g=0;g<p.length;g++){var m=p[g];if(!e||e!==m)if(c){var v=i.getIndexList(m).join("."),b=o.compareVersion(v,c);b<0?n.push(h(m)):b>0?s.push(h(m)):d?s.push(h(m)):n.push(h(m))}else n.push(h(m))}var _={index:n.length,list:n.concat(a,s)};return _},v=function(){var e=""+Math.random();return e=e.substr(e.length-6),"svg_"+(new Date).valueOf()+"_"+e},b=function(){for(var e={},n=t.body.querySelectorAll("img."+r.CLASS.SVG_IMAGE),o=0;o<n.length;o++){for(var i=n[o];e[i.id];)i.id=v();e[i.id]=1}},_=function(){},C={bind:function(){C.unbind(),t.readonly||(t.client.type.isIOS||t.client.type.isAndroid?(t.event.add(r.EVENT.ON_TOUCH_START,C.handler.onTouchStart),t.event.add(r.EVENT.ON_TOUCH_END,C.handler.onClick)):t.event.add(r.EVENT.ON_CLICK,C.handler.onClick))},unbind:function(){t.event.remove(r.EVENT.ON_TOUCH_START,C.handler.onTouchStart),t.event.remove(r.EVENT.ON_TOUCH_END,C.handler.onClick),t.event.remove(r.EVENT.ON_CLICK,C.handler.onClick)},handler:{onClick:function(e){t.readonly||g(e)},onTouchStart:function(e){return e.touches.length>1?void(d=null):void(d=e.touches[0])}}};this.init=_,this.bind=C.bind,this.unbind=C.unbind,this.createSvg=p,this.fixSvgId=b};t.exports=i},{"../../config/const":391,"../../libs/utils":402}],378:[function(e,t,n){"use strict";var r=e("../../config/const"),o=(e("../../libs/utils"),function(){var e=null,t=null,n=null,o=null,i=null,a=null;this.initCore=function(r){e=r,t=e.env,n=e.require.domUtils,o=e.require.historyUtils,i=e.require.linkMenu,a=e.require.rangeUtils};var l={bind:function(){l.unbind(),t.event.add(r.EVENT.ON_KEY_DOWN,l.handler.onKeyDown)},unbind:function(){t.event.remove(r.EVENT.ON_KEY_DOWN,l.handler.onKeyDown)},handler:{onKeyDown:function(e){var i=e.keyCode||e.which,l=void 0,s=void 0,c=void 0,d=void 0,u=void 0,f=void 0;if(32===i||13===i){for(o.saveSnap(!1),d=a.getRange(),d=d.cloneRange(),l=d.startContainer;1===l.nodeType&&d.startOffset>0&&(l=d.startContainer.childNodes[d.startOffset-1]);)d.setStart(l,n.getEndOffset(l)),d.collapse(!0),l=d.startContainer;do{if(0===d.startOffset){for(l=d.startContainer.previousSibling;l&&1===l.nodeType;)l=l.lastChild;if(!l||n.isFillChar(l,!1))break;u=l.nodeValue.length}else l=d.startContainer,u=d.startOffset;d.setStart(l,u-1),f=d.toString().charCodeAt(0)}while(160!==f&&32!==f);if(d.toString().replace(r.FILL_CHAR_REG,"").match(/(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i)){for(;d.toString().length&&!/^(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i.test(d.toString());)try{d.setStart(d.startContainer,d.startOffset+1)}catch(e){for(l=d.startContainer;!(s=l.nextSibling);){if(n.isBody(l))return;l=l.parentNode}d.setStart(s,0)}if(n.getParentByTagName(d.startContainer,"a",!0,null))return;var p=t.doc.createElement("a"),g=t.doc.createTextNode(" "),h=void 0,m=d.extractContents();p.href=m.textContent,p.appendChild(t.doc.createTextNode(m.textContent)),h=p.getAttribute("href").replace(r.FILL_CHAR_REG,""),h=/^(?:https?:\/\/)/gi.test(h)?h:"http://"+h,p.href=h,d.insertNode(p),p.parentNode.insertBefore(g,p.nextSibling),d.setStart(g,0),d.collapse(!0),c=a.getSelection(),a.remove(),c.addRange(d)}}}}};this.off=function(){l.unbind(),i.off()},this.on=function(){t.options.reader.type!==r.NOTE_READER_TYPE.MARKDOWN&&(t.readonly||t.client.type.isPhone||t.client.type.isPad||i.on(),l.bind())}});t.exports=o},{"../../config/const":391,"../../libs/utils":402}],379:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/utils"),i=function(){var e=null,t=null,n=null,i=null,a=null,l=null,s=null,c=null,d=null,u=null,f=null,p=null,g=!1,h=null,m="wiz-link-toolbar",v=!1;this.initCore=function(r){e=r,t=e.env,n=e.require.domUtils,i=e.require.historyUtils,a=e.require.linkUtils,l=e.require.rangeUtils,s=e.require.tooltip};var b={bind:function(){b.unbind(),t.event.add(r.EVENT.ON_MOUSE_OVER,b.handler.onMouseOver),t.event.add(r.EVENT.AFTER_RESTORE_HISTORY,b.handler.afterRestoreHistory),t.event.add(r.EVENT.ON_COMPOSITION_START,b.handler.onCompositionStart),t.event.add(r.EVENT.ON_COMPOSITION_END,b.handler.onCompositionEnd),t.event.add(r.EVENT.ON_SELECTION_CHANGE,b.handler.onSelectionChange)},unbind:function(){t.event.remove(r.EVENT.ON_MOUSE_OVER,b.handler.onMouseOver),t.event.remove(r.EVENT.AFTER_RESTORE_HISTORY,b.handler.afterRestoreHistory),t.event.remove(r.EVENT.ON_COMPOSITION_START,b.handler.onCompositionStart),t.event.remove(r.EVENT.ON_COMPOSITION_END,b.handler.onCompositionEnd),t.event.remove(r.EVENT.ON_SELECTION_CHANGE,b.handler.onSelectionChange)},handler:{afterRestoreHistory:function(){var e=t.body.querySelector("#"+m);e&&n.remove(e)},onBlur:function(){g=!1},onCancel:function(){y(),a.setLinkRange(f.link),a.removeSelectedLink()},onChange:function(){v||(clearTimeout(c),c=setTimeout(function(){_()},200))},onCompositionStart:function(){v=!0},onCompositionEnd:function(){v=!1,_()},onFocus:function(){g=!0},onKeydown:function(e){if(!v){var t=e.keyCode||e.which;if(13!==t)return void o.stopEventBubble(e);y(),a.setLinkRange(f.link),o.stopEvent(e)}},onMouseOver:function(e){if(!g){var t=e.target,r=n.getParentByTagName(t,["a"],!0);if(clearTimeout(u),!r||o.isWizProtocol(r.getAttribute("href"))){if(clearTimeout(d),f&&(t===f.container||n.isParent(t,f.container)))return;return void(f&&f.isShow()&&(d=setTimeout(function(){_(),y()},200)))}clearTimeout(d),u=setTimeout(function(){E(r)},200)}},onSelectionChange:function(){if(f&&f.isShow()){var e=l.getRange();e.startContainer===f.container||n.isParent(e.startContainer,f.container)||y()}}}},_=function(){if(clearTimeout(c),f&&f.isShow()){var e=f.link;if(p.value!==e.getAttribute("href")){i.saveSnap(!1);var t=p.value,r=e.innerHTML;o.isCommonProtocol(t)&&o.isCommonProtocol(r)&&(e.innerText=t),n.attr(e,{href:t}),a.setLinkRange(f.link),f&&f.isShow()&&p.focus()}}},C=function(){f=s.create(m);var e=t.doc.createElement("div");p=t.doc.createElement("input"),h=t.doc.createElement("div"),h.innerHTML='<svg style="fill:currentColor;width:100%;height:100%;" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"></path></svg>',n.css(e,{display:"flex","white-space":"nowrap","align-items":"center",padding:"0 16px 0 0",height:"100%"}),n.attr(p,{spellcheck:"false"}),n.css(p,{padding:"0 16px",border:0,"background-color":"transparent",color:"#FFFFFF",outline:"none","font-size":"14px",height:"30px"}),n.css(h,{width:"16px",height:"16px",display:"inline-block",color:"#FFFFFF","line-height":"1",cursor:"pointer"}),n.css(f.container,{"background-color":"rgba(0,0,0, 0.8)",border:"none",height:"32px",padding:"0"}),n.css(f.arrow,{display:"none"}),n.css(f.arrowBg,{"border-bottom-color":"rgba(0,0,0, 0.8)"}),e.appendChild(p),e.appendChild(h),f.container.appendChild(e),p.addEventListener("propertychange",b.handler.onChange),p.addEventListener("input",b.handler.onChange),p.addEventListener("keydown",b.handler.onKeydown),p.addEventListener("focus",b.handler.onFocus),p.addEventListener("blur",b.handler.onBlur),h.addEventListener("click",b.handler.onCancel)},y=function(){f&&(b.handler.onBlur(),f.hide())},E=function(e){if(f&&f.isShow()){if(f.link===e)return;_()}f||C(),f.link=e,p.value=e.getAttribute("href"),t.body.appendChild(f.container,r.TYPE.PLACEMENT.TOP),f.show(e)};this.off=function(){b.unbind(),f&&f.hide()},this.on=function(){b.bind()}};t.exports=i},{"../../config/const":391,"../../libs/utils":402}],380:[function(e,t,n){"use strict";var r=(e("../../config/const"),e("../../libs/utils")),o=function(){var e=null,t=null,n=null,o=null,i=null,a=null;this.initCore=function(r){e=r,t=e.env,n=e.require.commandExtend,o=e.require.domUtils,i=e.require.historyUtils,a=e.require.rangeUtils};var l=function(){var e=a.getRange(),t=void 0,n=void 0,r=void 0,i=void 0;e&&(t=s(e.startContainer,e.startOffset),t?n=0:(t=e.startContainer,n=e.startOffset),e.collapsed?(r=t,i=o.getEndOffset(t)):(r=s(e.endContainer,e.endOffset),r?i=o.getEndOffset(r):(r=e.endContainer,i=e.endOffset)),a.setRange(t,n,r,i))},s=function(e,t){return 1===e.nodeType&&e.childNodes.length>t&&(e=e.childNodes[t]),o.getParentByTagName(e,"a",!0)};this.getCurrentLink=function(){var e=a.getRange();if(!e)return"";var t=o.getParentByTagName(e.startContainer,"a",!0);return t?t.href:""},this.hasLinkFromRange=function(){var e=a.getRange();if(!e)return!1;var t=void 0;if(e.collapsed)t=o.getParentByTagName(e.startContainer,["a"],!0);else{var n=e.cloneContents();t=n.querySelector("a")}return!!t},this.onClickLink=function(e){if(t.readonly||!t.client.type.isPhone&&!t.client.type.isPad){var n=e.target,i=o.getParentByTagName(n,["a"],!0),a=i&&i.getAttribute("href")||"";if(a){if(a.indexOf("javascript:")>-1)return void r.stopEventDefault(e);if(/^#/.test(a)){if(!t.client.type.isWeb)return;var l=t.doc.getElementById(a.substr(1));return l&&l.scrollIntoView(!0),void r.stopEventDefault(e)}location.origin||(location.origin=location.protocol+"//"+location.host),0===a.indexOf("/")?a=location.origin+a:r.isCommonProtocol(a)||r.isWizProtocol(a)||(a=location.origin+location.pathname+"/"+a),(r.isCommonProtocol(a)||r.isWizProtocol(a))&&(t.options.callback.onClickLink&&!t.options.callback.onClickLink(e,a,t.readonly)||(t.win.open(a),r.stopEventDefault(e)))}}},this.removeSelectedLink=function(){l(),i.saveSnap(!1),n.execCommand("unlink",!1,!1),a.collapse(!1)},this.setCurrentLink=function(e){e&&(l(),i.saveSnap(!1),n.execCommand("createLink",!1,e),a.collapse(!1))},this.setLinkRange=function(e){a.setRange(e,e.childNodes.length)}};t.exports=o},{"../../config/const":391,"../../libs/utils":402}],381:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/domPatch"),i=e("../../libs/dependLoader"),a=function(){var e=this,t=null,n=null,a=null,l=null,s=null,c=null,d=null,u=null,f=null,p=null,g=null,h=null,m=null,v=null;this.initCore=function(e){t=e,n=t.env,a=t.require.blockCore,l=t.require.codeCore,s=t.require.contentCore,c=t.require.domUtils,d=t.require.frameViewCore,u=t.require.highlightUtils,f=t.require.imgCore,p=t.require.readerEvent,g=t.require.selectPlugin,h=t.require.tableCore,m=t.require.todoCore,v=t.require.wizStyle};var b="",_=function(e,t){for(var r=n.body.getElementsByTagName(e),o=0;o<r.length;o++){var i=r[o];i.readOnly=t}};this.afterRender=function(e){var t=function(){f.setImgFullPath(),_("input",!0),_("textarea",!0),"function"==typeof e&&e()};c.fixList(),p.on(),f.on(),g.on(),h.on(),m&&m.on(),a.on(),l&&n.options.reader.type!==r.NOTE_READER_TYPE.MARKDOWN?l.on({},t):t()},this.off=function(t,i){if(t=t||{},e.offEvent(),"string"==typeof t.noteSrc)b=t.noteSrc;else if(t.useContentExtractionHtml){var a=s&&s.getContentExtractionHtml();a&&(b=a,n.options.pureReadMode.needContentExtraction=!1)}if(!b)return void i();if(n.options.reader.type!==r.NOTE_READER_TYPE.COMMON||t.useContentExtractionHtml){if(!n.options.container||n.options.useFrame)return/<body(\s|>)/gi.test(b)||(b=r.EMPTY_NOTE_TEMPLATE.replace("${body}",b.escapeReplace())),n.doc.body.style.overflow="hidden",void setTimeout(function(){n.doc.open("text/html","replace"),n.doc.write(b),n.doc.close(),n.body=n.doc.body,c.attr(n.body,{spellcheck:"false"}),o.run(n.win),n.scrollContainer=c.getScrollContainer(),i()},0);n.body.innerHTML=b,c.removeClass(n.body,r.CLASS.MARKDOWN_BODY)}else c.removeByTag(r.TAG.TMP_TAG),_("input",!1),_("textarea",!1);i()},this.offEvent=function(){u.off(),p.off(),a.off(),m&&m.off(),l&&l.off(),h.off(),g.off(),f.off(),d.off()},this.on=function(){n.readonly=!0,c.removeClass(n.body,r.CLASS.EDITING),c.addClass(n.body,r.CLASS.READONLY),n.options.container&&(c.removeClass(n.options.container,r.CLASS.EDITING),c.addClass(n.options.container,r.CLASS.READONLY)),d.on(),b=c.getContentHtml({isSaveTemp:!0});var e=/(<body [^>]*)opacity:[ ]*0;?/gi;b=b.replace(e,"$1"),n.frame.toolbarContainer&&n.options.document!==n.doc&&i.loadCss(n.options.document,[n.dependency.files.css.fonts]),i.loadCss(n.doc,[n.dependency.files.css.fonts]),v.insertTmpReaderStyle()}};t.exports=a},{"../../config/const":391,"../../libs/dependLoader":399,"../../libs/domPatch":400}],382:[function(e,t,n){"use strict";var r=e("../../config/const"),o=(e("../../libs/utils"),function(){var e=this,t=null,n=null,o=null,i=null,a=null,l=null,s=null;this.initCore=function(e){t=e,n=t.env,o=t.require.domUtils,i=t.require.clipboardUtils,a=t.require.codeUtils,l=t.require.linkUtils,s=t.require.rangeUtils},this.isScrolled=!1;var c=function(e,t){var o=s.getRange(),l=void 0,c=!1,d=void 0,u=void 0,f=void 0;if(o&&!o.collapsed)if(u=a&&a.getContainerFromChild(o.startContainer),f=a&&a.getContainerFromChild(o.endContainer),u&&u===f){if(!n.client.type.isPhone&&!n.client.type.isPad)return void t();c=!0}else d=o.cloneContents(),c=!!d.querySelector("."+r.CLASS.CODE_CONTAINER);if(!o||o.collapsed||!c)return void t();if(l=s.getFragmentForCopy()){var p=l.innerText,g=l.innerHTML;l.innerHTML="",n.body.removeChild(l),l=null;var h=function(){t()};i.setData(e,g,p,h)}else l=null,t()},d={onDblclick:function(e){n.event.call(r.EVENT.ON_DBLCLICK,e)},onClick:function(e){l.onClickLink(e),n.options.reader.callback.onClick&&!n.options.reader.callback.onClick(e)||n.event.call(r.EVENT.ON_CLICK,e)},onCopy:function(e){c(e,function(){n.client.sendCmdToWizClient(r.CLIENT_EVENT.WizEditorAfterCopied)})},onMousedown:function(e){n.event.call(r.EVENT.ON_MOUSE_DOWN,e)},onMousemove:function(e){n.event.call(r.EVENT.ON_MOUSE_MOVE,e)},onScroll:function(t){e.isScrolled=!0,n.event.call(r.EVENT.ON_SCROLL,t)},onTouchEnd:function(e){n.event.call(r.EVENT.ON_TOUCH_END,e)},onTouchStart:function(e){n.event.call(r.EVENT.ON_TOUCH_START,e)}};this.on=function(){e.bind()},this.off=function(){e.unbind()},this.bind=function(){e.unbind(),n.body.addEventListener("dblclick",d.onDblclick),n.body.addEventListener("click",d.onClick),n.body.addEventListener("copy",d.onCopy),n.body.addEventListener("cut",d.onCopy),n.body.addEventListener("mousedown",d.onMousedown),n.body.addEventListener("mousemove",d.onMousemove),n.supportTouchEvent&&(n.body.addEventListener("touchend",d.onTouchEnd),n.body.addEventListener("touchstart",d.onTouchStart)),n.options.container?n.scrollContainer.addEventListener("scroll",d.onScroll):n.doc.addEventListener("scroll",d.onScroll)},this.unbind=function(){n.body.removeEventListener("dblclick",d.onDblclick),n.body.removeEventListener("click",d.onClick),n.body.removeEventListener("copy",d.onCopy),n.body.removeEventListener("cut",d.onCopy),n.body.removeEventListener("mousedown",d.onMousedown),n.body.removeEventListener("mousemove",d.onMousemove),n.body.removeEventListener("touchend",d.onTouchEnd),n.body.removeEventListener("touchstart",d.onTouchStart),n.doc.removeEventListener("scroll",d.onScroll),n.scrollContainer&&n.scrollContainer.removeEventListener("scroll",d.onScroll)}});t.exports=o},{"../../config/const":391,"../../libs/utils":402}],383:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/utils"),i=function(){var e=this,t=null,n=null,i=null,a=null,l=null,s=null,c=null,d=null,u=null,f=null;this.initCore=function(e){t=e,n=t.env,i=t.require.blockUtils,a=t.require.codeUtils,l=t.require.domUtils,s=t.require.historyUtils,c=t.require.rangeUtils,d=t.require.tableMenu,u=t.require.tableUtils,f=t.require.tableZone};var p={bind:function(){p.unbind(),n.event.add(r.EVENT.ON_DRAG_START,p.handler.onDragStart),n.event.add(r.EVENT.ON_KEY_UP,p.handler.onKeyUp),n.client.type.isPhone||n.client.type.isPad?(n.event.add(r.EVENT.ON_TOUCH_START,p.handler.onMouseDown),n.event.add(r.EVENT.ON_TOUCH_END,p.handler.onMouseUp)):(n.event.add(r.EVENT.ON_MOUSE_DOWN,p.handler.onMouseDown),n.event.add(r.EVENT.ON_MOUSE_OVER,p.handler.onMouseOver),n.event.add(r.EVENT.ON_MOUSE_UP,p.handler.onMouseUp)),n.event.add(r.EVENT.ON_SELECTION_CHANGE,p.handler.onSelectionChange),n.event.add(r.EVENT.AFTER_RESTORE_HISTORY,p.handler.afterRestoreHistory)},unbind:function(){n.event.remove(r.EVENT.ON_DRAG_START,p.handler.onDragStart),n.event.remove(r.EVENT.ON_KEY_UP,p.handler.onKeyUp),n.event.remove(r.EVENT.ON_MOUSE_DOWN,p.handler.onMouseDown),n.event.remove(r.EVENT.ON_MOUSE_OVER,p.handler.onMouseOver),n.event.remove(r.EVENT.ON_MOUSE_UP,p.handler.onMouseUp),n.event.remove(r.EVENT.ON_TOUCH_START,p.handler.onMouseDown),n.event.remove(r.EVENT.ON_TOUCH_END,p.handler.onMouseUp),n.event.remove(r.EVENT.ON_SELECTION_CHANGE,p.handler.onSelectionChange),n.event.remove(r.EVENT.AFTER_RESTORE_HISTORY,p.handler.afterRestoreHistory)},handler:{afterRestoreHistory:function(){var e=void 0,t=[];if(e=n.doc.getElementsByClassName(r.CLASS.SELECTED_CELL),0===e.length)return void f.clear();for(var o=0,i=e.length;o<i;o++){var a=e[o];l.checkInTmp(a)||t.push(a)}var s=l.getParentByTagName(t[0],"table",!0,null);if(!s)return void f.clear();f.setStart(t[0]);for(var c=f.getZone(),p=t[t.length-1],g=u.getRangeByCellData(u.getCellData(c.grid,p)),h=void 0,m=1;m<t.length-1;m++){var v=t[m];1!==v.rowSpan&&(h=u.getRangeByCellData(u.getCellData(c.grid,v)),(h.maxY>g.maxY||(h.maxY=g.maxY&&h.maxX>g.maxX))&&(p=v,g=h))}f.setEnd(p),d.show()},onDragStart:function(e){var t=l.getParentByTagName(e.target,"table",!0,null);t&&o.stopEvent(e)},onKeyDown:function(e){var t=c.getSelection(),r=f.getZone();if(n.browser.isIe)return!0;if(!r.range||!t)return!0;var i=e.shiftKey?"extend":"move",s=e.keyCode||e.which,p=void 0,g=!1,h=t.focusNode,m=void 0,v=void 0;switch(s){case 37:e.ctrlKey||e.metaKey||!h||(g=!0,c.modify(i,"backward","character")),p={x:-1,y:0};break;case 38:e.ctrlKey||e.metaKey||!h||(g=!0,c.modify("move","backward","line")),p={x:0,y:-1};break;case 9:e.shiftKey||(p={x:1,y:0,canChangeRow:!0});break;case 39:e.ctrlKey||e.metaKey||!h||(g=!0,c.modify(i,"forward","character")),p={x:1,y:0};break;case 13:if(!e.ctrlKey&&!e.metaKey)break;case 40:e.ctrlKey||e.metaKey||!h||(g=!0,c.modify("move","forward","line")),p={x:0,y:1}}var b=void 0,_=void 0,C=void 0,y=void 0;if(g){if(m=t.focusNode,h=l.getParentByTagName(h,["td","th"],!0,null),m=l.getParentByTagName(m,["td","th"],!0,null),m&&m!==h&&(38===s||40===s||13===s?g=!1:f.setStart(m).setEnd(m)),g)return C=u.checkCaretInTableContainer(e),m||C.tableContainer?C.before&&(c.setRange(r.start.cell,0),f.setStart(r.start.cell).setEnd(r.start.cell)):(f.clear(),d.show()),o.stopEvent(e),!1;if(38===s&&r.start.cell===r.end.cell&&0===r.start.y_src){for(v=r.start.x,m=l.getPreviousNode(u.getContainer(h));m&&!l.isTag(m,"br")&&l.isEmptyDom(m);)m=l.getPreviousNode(m);return m?(f.clear(),d.show(),y=a&&a.getContainerFromChild(m),y?a.focusToLast(y.codeMirror):(c.setRange(m,l.getEndOffset(m)),0!==v||l.getParentByTagName(m,["table"],!0,null)||c.modify("move","backward","lineboundary"),c.fixScroll())):(c.setRange(r.start.cell,0),f.setStart(r.start.cell).setEnd(r.start.cell)),o.stopEvent(e),!1}if(40===s&&r.start.cell===r.end.cell&&r.start.y_src+r.start.cell.rowSpan>=r.grid.length){for(v=r.start.x,m=l.getNextNode(u.getContainer(h));m&&!l.isTag(m,"br")&&l.isEmptyDom(m);)m=l.getNextNode(m);return m?(f.clear(),d.show(),y=a&&a.getContainerFromChild(m),y?a.focusToFirst(y.codeMirror):(c.setRange(m,l.getEndOffset(m)),0!==v||l.getParentByTagName(m,["table"],!0,null)||c.modify("move","backward","lineboundary"),c.fixScroll())):f.setStart(r.start.cell).setEnd(r.start.cell),o.stopEvent(e),!1}}if(p){if(b=e.shiftKey?r.end||r.start:r.start,_=f.switchCell(b,p),_===b)return o.stopEvent(e),!1;if(_)return e.shiftKey?f.setEnd(_.cell,!0):f.setStart(_.cell,_.x,_.y).setEnd(_.cell),c.fixScroll(),o.stopEvent(e),!1}return!0},onKeyUp:function(e){var t=e.keyCode||e.which;if(!(!n.browser.isMac&&(e.ctrlKey&&65===t||17===t)||n.browser.isMac&&(e.metaKey&&65===t||91===t||93===t))){var r=f.getZone(),o=c.getRange(),i=void 0;!r.range&&o&&o.collapsed&&(i=l.getParentByTagName(o.startContainer,["td","th"],!0,null),i&&(f.setStart(i).setEnd(i),d.show())),u.fixSelection(e)}},onMouseDown:function(e){var t="mousedown"!==e.type||0===e.button||1===e.button;if(!t)return void d.hide();var r=u.isMenu(e.target);if(!r){var i=l.getParentByTagName(e.target,["th","td"],!0,null),a=i?l.getParentByTagName(i,"table",!1,null):null,s=u.getMousePosition(e,a),c=f.isZoneBorder(e);if(c.isBodyBorder||c.isContainer)return void(n.client.type.isPhone||n.client.type.isPad||o.stopEvent(e));if(!n.client.type.isPhone&&!n.client.type.isPad){if(c.isRight)return void f.startDragColLine(e.target,s.x);if(c.isBottom)return void f.startDragRowLine(e.target,s.y);if(c.isDot)return}c.isBorder||c.isScroll||(f.setStart(i),d.show())}},onMouseOver:function(e){var t=l.getParentByTagName(e.target,["td","th"],!0,null);f.modify(t)},onMouseUp:function(e){u.fixSelection(e);var t="mouseup"!==e.type||0===e.button||1===e.button;if(t){var n=void 0,r=void 0,o=f.getZone();if(!o.active){if(n=u.isMenu(e.target))return;if(r=f.isZoneBorder(e),r.isRight&&!f.isRangeActiving())return;if(r.isBottom&&!f.isRangeActiving())return;if(r.isDot)return;if(r.isBorder||r.isScroll)return}var i=l.getParentByTagName(e.target,["td","th"],!0,null);f.setEnd(i),d.show()}},onSelectionChange:function(e){var t=u.checkCaretInTableContainer(e),o=void 0,i=c.getRange(),a=void 0;i&&!i.collapsed&&(a=u.getContainer(i.startContainer),a&&l.moveOutFromTableContainer(a),a=u.getContainer(i.endContainer),a&&l.moveOutFromTableContainer(a));var s=f.getZone();if(n.browser.isIe&&!s.active&&(i=c.getRange(),i&&i.collapsed)){var p=l.getParentByTagName(i.startContainer,["td","th"],!0,null);if(s.range&&s.start.cell===p)return;return void(p?(n.event.setPause(r.EVENT.ON_SELECTION_CHANGE,!0),f.setStart(p).setEnd(p),d.show(),n.event.setPause(r.EVENT.ON_SELECTION_CHANGE,!1)):(n.event.setPause(r.EVENT.ON_SELECTION_CHANGE,!0),d.hide(),f.clear(),n.event.setPause(r.EVENT.ON_SELECTION_CHANGE,!1)))}t.tableContainer&&s.table&&!s.table.parentNode?(d.hide(),f.clear()):t.tableContainer&&!s.range&&(o=t.tableContainer.querySelectorAll("td"),o=t.tableMenu||t.after?o[o.length-1]:t.before?o[0]:null,o&&(f.setStart(o).setEnd(o),d.show()))}}};this.on=function(){n.readonly||p.bind(),u.fixTable(),u.initTableContainer(null),f.clear()},this.off=function(){f.clear(),p.unbind()},this.canCreateTable=function(){return u.canCreateTable(f.getZone())},this.clearCellValue=function(){var e=f.getZone();e.range&&(s.saveSnap(!1),u.clearCellValue(e.grid,e.range))},this.deleteCols=function(){var t=f.getZone();if(t.range){if(0===t.range.minX&&t.range.maxX===t.grid[0].length-1)return void e.deleteTable();s.saveSnap(!1);for(var n=t.range.maxX;n>=t.range.minX;n--)u.deleteCols(t.grid,n);f.clear()}},this.deleteRows=function(){var t=f.getZone();if(t.range){if(0===t.range.minY&&t.range.maxY===t.grid.length-1)return void e.deleteTable();s.saveSnap(!1);for(var n=t.range.maxY;n>=t.range.minY;n--)u.deleteRows(t.grid,n);f.clear()}},this.deleteTable=function(){var e=f.getZone();if(e.table){s.saveSnap(!1);var t=e.table.parentNode;t&&t.removeChild(e.table),d.remove(),f.remove(),t=l.getParentByFilter(t,function(e){return l.hasClass(e,r.CLASS.TABLE_CONTAINER)},!0);var o=void 0;t&&(t.parentNode===n.body?(o=n.doc.createElement("div"),o.appendChild(n.doc.createElement("br"))):o=n.doc.createElement("br"),l.before(o,t),l.remove(t),c.setRange(o,0))}},this.distributeCols=function(){var e=f.getZone();e.range&&(s.saveSnap(!1),u.distributeCols(e.table,e.grid),f.updateGrid())},this.insertCol=function(e){var t=f.getZone();t.range&&(s.saveSnap(!1),u.insertCol(t.grid,e?t.range.minX:t.range.maxX+1),f.updateGrid())},this.insertRow=function(e){var t=f.getZone();t.range&&(s.saveSnap(!1),u.insertRow(t.grid,e?t.range.minY:t.range.maxY+1),f.updateGrid())},this.insertTable=function(t,o){s.saveSnap(!1);var a=c.getRange(),d=void 0;if(e.canCreateTable()){var p=void 0,g=void 0,h=void 0;a&&(a.deleteContents(),p=c.getRangeDetail(a.startContainer,a.startOffset),p=l.getBlockParent(p.container,!0),p&&p!==n.body&&l.isEmptyDom(p)&&l.isTag(p,"div")&&(g=p,p.innerHTML="")),h=u.createTable(t,o),g=g?g:n.doc.createElement("div"),g.appendChild(h),g.parentNode||(g=i.insertBlock(h)),u.initTableContainer(h),d=h.querySelector("td"),f.setStart(d).setEnd(d),n.event.call(r.EVENT.UPDATE_RENDER)}},this.merge=function(){var e=f.getZone();if(e.range){s.saveSnap(!1);var t=u.mergeCell(e.grid,e.range);t&&(f.updateGrid(),f.setStart(t).setEnd(t))}},this.modifySelectionDom=function(e,t){var n=c.getRange(),r=f.getZone();return!(n&&!n.collapsed||!r.range)&&(u.modifySelectionDom(r,e,t),!0)},this.onKeyDown=p.handler.onKeyDown,this.setCellAlign=function(e,t){var n=f.getZone();n.range&&(s.saveSnap(!1),u.setCellAlign(n.grid,n.range,{align:e,valign:t}),f.setStartRange())},this.setCellBg=function(e){var t=f.getZone();t.range&&(s.saveSnap(!1),u.setCellBg(t.grid,t.range,e),f.setStartRange())},this.split=function(){var e=f.getZone(),t=u.splitCell(e.table,e.grid,e.range);t&&(s.saveSnap(!1),f.updateGrid(),e=f.getZone(),f.setStart(e.grid[t.minY][t.minX].cell).setEnd(e.grid[t.maxY][t.maxX].cell))}};t.exports=i},{"../../config/const":391,"../../libs/utils":402}],384:[function(e,t,n){"use strict";var r=e("../../config/const"),o={col:"wiz-menu-col",align:"wiz-menu-align",bg:"wiz-menu-bg",bgDemo:"wiz-menu-bg-demo",cells:"wiz-menu-cells",more:"wiz-menu-more"},i={active:"active",disabled:"disabled",clickItem:"click-item",colorPadItem:"wiz-table-color-pad-item",alignItem:"wiz-table-cell-align-item"},a={list:1,custom:2},l=function(){var e=this,t=null,n=null,l=null,s=null,c=null,d=null,u=null,f=null;this.initCore=function(e){t=e,n=t.env,l=t.lang,s=t.require.domUtils,c=t.require.tableCore,d=t.require.tableUtils,u=t.require.tableZone,f=t.require.tooltip};var p=void 0,g=void 0,h=function(){var e=n.body.querySelector("."+r.CLASS.TABLE_TOOLS);if(e)return e;var t=[{id:o.col,exClass:"icon-insert editor-icon",subMenu:{type:a.list,data:[{type:r.TYPE.TABLE.INSERT_ROW_UP,name:l.Table.InsertRowUp,isSplit:!1},{type:r.TYPE.TABLE.INSERT_ROW_DOWN,name:l.Table.InsertRowDown,isSplit:!1},{type:r.TYPE.TABLE.INSERT_COL_LEFT,name:l.Table.InsertColLeft,isSplit:!1},{type:r.TYPE.TABLE.INSERT_COL_RIGHT,name:l.Table.InsertColRight,isSplit:!1},{type:r.TYPE.TABLE.DELETE_ROW,name:l.Table.DeleteRow,isSplit:!0},{type:r.TYPE.TABLE.DELETE_COL,name:l.Table.DeleteCol,isSplit:!1}]}},{id:o.align,exClass:"icon-align editor-icon",subMenu:{type:a.custom,make:function(){for(var e=[["top","middle","bottom"],["left","center","right"]],t='<div class="'+r.CLASS.TOOL_TIP+' wiz-table-cell-align"><span class="'+r.CLASS.TOOL_TIP_ARROW_BG+'"></span><span class="'+r.CLASS.TOOL_TIP_ARROW+'"></span>',n=0;n<e.length;n++){t+="<div>";for(var o=0;o<e[n].length;o++){var a=0===n?"valign":"align";t+='<div class="'+i.alignItem+" "+i.clickItem+'" data-type="'+r.TYPE.TABLE.SET_CELL_ALIGN+'" data-align-type="'+a+'" data-align-value="'+e[n][o]+'">',0===n?(t+='<i class="editor-icon icon-box"></i>',t+='<i class="editor-icon valign icon-valign_'+e[n][o]+'"></i>'):t+='<i class="editor-icon align icon-align_'+e[n][o]+'"></i>',t+="</div>"}t+="</div>"}return t+="</div>"}}},{id:o.bg,exClass:"icon-box editor-icon",subMenu:{type:a.custom,make:function(){for(var e=[["","#f7b6ff","#fecf9c"],["#acf3fe","#b2ffa1","#b6caff"],["#ffc7c8","#eeeeee","#fef49c"]],t='<div class="'+r.CLASS.TOOL_TIP+' wiz-table-color-pad"><span class="'+r.CLASS.TOOL_TIP_ARROW_BG+'"></span><span class="'+r.CLASS.TOOL_TIP_ARROW+'"></span>',n=0;n<e.length;n++){t+="<div>";for(var o=0;o<e[n].length;o++)t+='<div class="'+i.colorPadItem+" "+i.clickItem+'" data-color="'+e[n][o]+'" data-type="'+r.TYPE.TABLE.SET_CELL_BG+'">',t+='<i class="editor-icon icon-box"></i>',t+=0===n&&0===o?'<i class="pad-demo editor-icon icon-oblique_line"></i>':'<i class="pad-demo editor-icon icon-inner_box" style="color:'+e[n][o]+';"></i>',t+="</div>";t+="</div>"}return t+="</div>"}}},{id:o.cells,exClass:"icon-merge editor-icon",subMenu:{type:a.list,data:[{type:r.TYPE.TABLE.MERGE_CELL,name:l.Table.MergeCell,isSplit:!1},{type:r.TYPE.TABLE.SPLIT_CELL,name:l.Table.SplitCell,isSplit:!1},{type:r.TYPE.TABLE.CLEAR_CELL,name:l.Table.ClearCell,isSplit:!1}]}},{id:o.more,exClass:"icon-more editor-icon",subMenu:{type:a.list,data:[{type:r.TYPE.TABLE.DISTRIBUTE_COLS,name:l.Table.DistributeCols,exClass:"",isSplit:!1},{type:r.TYPE.TABLE.DELETE_TABLE,name:l.Table.DeleteTable,exClass:"",isSplit:!0}]}}];e=n.doc.createElement(r.TAG.TMP_TAG),s.addClass(e,r.CLASS.TABLE_TOOLS);for(var c="<ul>",d=0;d<t.length;d++){var u=t[d];c+='<li id="'+u.id+'" class="'+r.CLASS.TABLE_MENU_ITEM+'"><div class="'+r.CLASS.TABLE_MENU_BUTTON+'"><i class="'+u.exClass+'"></i>',u.id===o.bg&&(c+='<i id="'+o.bgDemo+'" class="editor-icon icon-inner_box"></i>'),c+="</div>",c+=u.subMenu.type===a.list?m(u.subMenu.data):u.subMenu.make(),c+="</li>"}return c+="</ul>",e.innerHTML=c,p=e.querySelector("#"+o.bgDemo),p&&(p.style.color="#fff"),e},m=function(e){for(var t='<div class="'+r.CLASS.TOOL_TIP+'"><span class="'+r.CLASS.TOOL_TIP_ARROW_BG+'"></span><span class="'+r.CLASS.TOOL_TIP_ARROW+'"></span><ul>',n=0;n<e.length;n++){
var o=e[n];t+='<li class="'+r.CLASS.TOOL_TIP_ITEM+" "+i.clickItem,o.isSplit&&(t+=" split"),t+='" data-type="'+o.type+'">'+o.name,t+="</li>"}return t+="</ul></div>"},v=function(){var e=void 0,t=g.parentNode.querySelector("."+r.CLASS.TABLE_BODY),n=t?t.offsetTop:0;return e=n-g.offsetHeight-2,e+"px"},b=function(){var e=g.parentNode,t=s.getOffset(e),r=s.getPageScroll().top;if(r>t.top-30&&r<e.offsetHeight+t.top-2.5*g.offsetHeight){var o=0;n.options.container&&(o=n.scrollContainer.scrollTop),s.css(g,{position:"fixed",top:o+"px",left:t.left+"px"})}else s.css(g,{position:"",top:v(),left:""})},_={bind:function(){_.unbind(),g&&(g.addEventListener("click",_.handler.onClick),g.addEventListener("mouseover",_.handler.onMouseOver)),n.event.add(r.EVENT.BEFORE_SAVESNAP,_.handler.onBeforeSaveSnap),n.event.add(r.EVENT.ON_SCROLL,_.handler.onScroll)},unbind:function(){g&&(g.removeEventListener("click",_.handler.onClick),g.removeEventListener("mouseover",_.handler.onMouseOver)),n.event.remove(r.EVENT.BEFORE_SAVESNAP,_.handler.onBeforeSaveSnap),n.event.remove(r.EVENT.ON_SCROLL,_.handler.onScroll)},handler:{onBeforeSaveSnap:function(){},onClick:function(t){var n=s.getParentByFilter(t.target,function(e){return s.hasClass(e,r.CLASS.TABLE_MENU_BUTTON)},!0);if(n)return void e.showSub(n.parentNode);var o=void 0;if(n=s.getParentByFilter(t.target,function(e){return s.hasClass(e,i.clickItem)},!0),n&&!s.hasClass(n,i.disabled)){var a=n.getAttribute("data-type"),l=!0;switch(a){case r.TYPE.TABLE.CLEAR_CELL:c.clearCellValue();break;case r.TYPE.TABLE.MERGE_CELL:c.merge();break;case r.TYPE.TABLE.SPLIT_CELL:c.split();break;case r.TYPE.TABLE.INSERT_ROW_UP:c.insertRow(!0);break;case r.TYPE.TABLE.INSERT_ROW_DOWN:c.insertRow();break;case r.TYPE.TABLE.INSERT_COL_LEFT:c.insertCol(!0);break;case r.TYPE.TABLE.INSERT_COL_RIGHT:c.insertCol();break;case r.TYPE.TABLE.DELETE_ROW:c.deleteRows();break;case r.TYPE.TABLE.DELETE_COL:c.deleteCols();break;case r.TYPE.TABLE.SET_CELL_BG:var d=n.getAttribute("data-color");c.setCellBg(d),o=s.getParentByFilter(n,function(e){return s.hasClass(e,"wiz-table-color-pad")},!1),s.removeClass(o.querySelectorAll(".wiz-table-color-pad ."+i.colorPadItem+"."+i.active),i.active),s.addClass(n,i.active),s.attr(p,{"data-last-color":d});break;case r.TYPE.TABLE.SET_CELL_ALIGN:var u=null,f=null;"align"===n.getAttribute("data-align-type")?u=n.getAttribute("data-align-value"):f=n.getAttribute("data-align-value"),c.setCellAlign(u,f),o=n.parentNode,s.removeClass(o.querySelectorAll("."+i.active),i.active),s.addClass(n,i.active),l=!1;break;case r.TYPE.TABLE.DELETE_TABLE:c.deleteTable();break;case r.TYPE.TABLE.DISTRIBUTE_COLS:c.distributeCols();break;default:l=!1}l&&e.hideSub()}},onMouseOver:function(e){var t=s.getParentByFilter(e.target,function(e){return s.hasClass(e,i.colorPadItem)},!0);t&&p&&(p.style.color=t.getAttribute("data-color")||"#fff")},onScroll:function(){g&&"none"!==g.style.display&&b()}}};this.hide=function(){g&&(g.style.display="none"),_.unbind()},this.hideSub=function(){if(g){var e=g.querySelectorAll("."+r.CLASS.TABLE_MENU_ITEM+"."+i.active);s.removeClass(e,i.active),p&&(p.style.color=p.getAttribute("data-last-color")||"#fff")}},this.remove=function(){g&&(s.remove(g),g=null)},this.show=function(){if(!n.client.type.isPhone&&!n.client.type.isPad){var t=u.getZone();if(!t.grid||!t.range)return void e.hide();var o=s.getParentByFilter(t.table,function(e){return s.hasClass(e,r.CLASS.TABLE_CONTAINER)},!1);g=h(),s.setContenteditable(g,!1),e.hideSub(),o.appendChild(g),s.css(g,{top:v()}),g.style.display="block",b(),_.bind()}},this.showSub=function(t){if(s.hasClass(t,i.active))return void s.removeClass(t,i.active);var n=void 0,a=void 0,l=void 0,c=void 0,f=u.getZone();t.id===o.cells?(n=d.canMerge(f.grid,f.range),a=d.canSplit(f.grid,f.range),c=t.querySelector("[data-type="+r.TYPE.TABLE.MERGE_CELL+"]"),c&&n?s.removeClass(c,i.disabled):c&&s.addClass(c,i.disabled),c=t.querySelector("[data-type="+r.TYPE.TABLE.SPLIT_CELL+"]"),c&&a?s.removeClass(c,i.disabled):c&&s.addClass(c,i.disabled)):t.id===o.align&&(l=d.getAlign(f.grid,f.range),c=t.querySelector("."+i.alignItem+"."+i.active+"[data-align-type=align]"),!c||l.align&&c.getAttribute("data-align-value").toLowerCase()===l.align||(s.removeClass(c,i.active),c=null),!c&&l.align&&(c=t.querySelector("[data-align-value="+l.align+"]"),s.addClass(c,i.active)),c=t.querySelector("."+i.alignItem+"."+i.active+"[data-align-type=valign]"),!c||l.valign&&c.getAttribute("data-align-value").toLowerCase()===l.valign||(s.removeClass(c,i.active),c=null),!c&&l.valign&&(c=t.querySelector("[data-align-value="+l.valign+"]"),s.addClass(c,i.active))),e.hideSub(),s.addClass(t,i.active)}};t.exports=l},{"../../config/const":391}],385:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/utils"),i=function(){var e=this,t=null,n=null,i=null,a=null;this.initCore=function(e){t=e,n=t.env,i=t.require.domUtils,a=t.require.rangeUtils},this.canCreateTable=function(e){var t=a.getRange(),n=void 0;if(t){if(n=i.getParentByTagName(t.startContainer,["table"],!0,null)||i.getParentByTagName(t.endContainer,["table"],!0,null))return!1;if(i.getParentByClass(t.startContainer,r.CLASS.CODE_CONTAINER,!0))return!1}return!e.range},this.canMerge=function(e,t){return e&&t&&e[t.minY][t.minX].cell!==e[t.maxY][t.maxX].cell},this.canSplit=function(t,n){if(!t||!n)return!1;var r={},o=!1;return e.eachRange(t,n,function(e){var n=e.x_src+"_"+e.y_src;e.fake&&!r[n]&&(r[n]=t[e.y_src][e.x_src],o=!0)}),!!o&&r},this.checkCaretInTableContainer=function(t){var n=/^(mouse|touch)/i,r={tableContainer:null,tableMenu:!1,before:!1,after:!1},o=void 0,l=void 0,s=void 0,c=void 0,d=void 0;if(t&&n.test(t.type))s=t.target;else{if(o=a.getRange(),!o||!o.collapsed)return r;d=a.getRangeDetail(o.startContainer,o.startOffset),s=d.container,c=d.offset}return i.isTag(s,"table")&&e.initTableContainer(s),e.isMenu(s)?(r.tableContainer=e.getContainerExcludeTable(s),r.tableMenu=!0,r):(l=e.getContainerExcludeTable(s),l&&(r.tableContainer=l,t&&n.test(t.type)||(c>0?r.after=!0:r.before=!0)),r)},this.clearCellValue=function(t,n){t&&n&&e.eachRange(t,n,function(e){e.fake||(e.cell.innerHTML="<br/>")})},this.cloneCell=function(e,t){var r=n.doc.createElement(e.tagName);return r.style.cssText=e.style.cssText,t?r.innerHTML="<br/>":(r.colSpan=e.colSpan,r.rowSpan=e.rowSpan,r.innerHTML=e.innerHTML),r},this.createCell=function(e){var t=n.doc.createElement("td"),r={align:"left",valign:"middle"};return e&&(r.style="width:"+e+"px"),i.attr(t,r),t.appendChild(n.doc.createElement("br")),t},this.createTable=function(t,r){if(t&&r){for(var o=n.doc.createElement("table"),i=n.doc.createElement("tbody"),a=0;a<r;a++){for(var l=n.doc.createElement("tr"),s=0;s<t;s++)l.appendChild(e.createCell(n.options.table.colWidth));i.appendChild(l)}return o.appendChild(i),o.style.width=n.options.table.colWidth*t+"px",o}},this.deleteCols=function(t,r){if(t&&0!==t.length&&!(r>t[0].length)){for(var o=i.getParentByTagName(t[0][0].cell,"table",!1,null),a=[],l=n.options.table.colWidth,s=0;s<t.length;s++){var c=t[s][r];c.y_src===s&&c.cell.colSpan>1?(c.cell.colSpan--,a.push(c.cell)):c.y_src===s&&(l=e.getCellWidth(c.cell),c.cell.parentElement.removeChild(c.cell)),t[s].splice(r,1)}for(var d=0;d<a.length;d++){var u=a[d];u.style.width=e.getCellWidth(u)-l+"px"}o.getElementsByTagName("td").length||o.getElementsByTagName("th").length?e.fixTableWidth(o):o.parentElement.removeChild(o)}},this.deleteRows=function(t,n){if(t&&0!==t.length&&!(n>t.length)){for(var r=i.getParentByTagName(t[0][0].cell,"table",!1,null),o=r.rows,a=t[n].length-1;a>=0;a--){var l=t[n][a];if(l.x_src===a&&l.y_src<l.y)l.cell.rowSpan--;else if(l.x_src===a&&l.y_src===l.y&&l.cell.rowSpan>1&&n+1<t.length){l.cell.rowSpan--;var s=e.getNextCellDataInRow(t[n+1],a);s=s?s.cell:null,o[n+1].insertBefore(l.cell,s)}}t.splice(n,1),o[n].parentElement.removeChild(o[n]),r.getElementsByTagName("tr").length?e.fixTableWidth(r):r.parentElement.removeChild(r)}},this.distributeCols=function(e,t){if(e&&t){var n=t[0].length;if(0!==n){for(var r=e.rows,o=e.offsetWidth/n,i=r.length-1;i>=0;i--)for(var a=r[i].cells.length-1;a>=0;a--){var l=r[i].cells[a];l.style.width=o*l.colSpan+"px"}e.style.width=e.offsetWidth+"px"}}},this.eachRange=function(e,t,n){if(e&&t&&n&&"function"==typeof n)for(var r=!0,o=t.minY;r!==!1&&o<e.length&&o<=t.maxY;o++)for(var i=t.minX;r!==!1&&i<e[o].length&&i<=t.maxX;i++)r=n(e[o][i])},this.fixColTimer=-1,this.fixColWidth=function(t,o,i,a,l){l>=0||(e.fixColTimer&&clearTimeout(e.fixColTimer),e.fixColTimer=setTimeout(function(){var s=l;t.style.width=o+"px";for(var c=0,d=i.length;c<d;c++){var u=i[c],f=u.cell.offsetWidth-a[e.getKeyForColWidth(u)]+l;s=0===c?f:Math.max(s,f)}if(s>l){t.style.width=o-l+s+"px";for(var p=0,g=i.length;p<g;p++){var h=i[p];h.cell.style.width=a[e.getKeyForColWidth(h)]-l+s+"px"}n.event.call(r.EVENT.UPDATE_RENDER)}},0))},this.fixSelection=function(){var t=a.getRange();if(t&&!t.collapsed){var n=t.startContainer,r=t.startOffset,o=t.endContainer,l=t.endOffset,s=e.getContainer(n),c=e.getContainer(o);if(!(!s&&!c||s&&c)){for(var d=void 0,u=s?s:c;d=e.getContainer(u);)u=s?i.getNextNode(d,!1,o):i.getPreviousNode(d,!1,n);s?(n=u?u:o,r=0):(o=u?u:n,l=i.getEndOffset(o)),s?a.setRange(o,l,n,r):a.setRange(n,r,o,l)}}},this.fixTable=function(){for(var t=function(t){if(t){var o=e.getContainer(t);o||(o=i.getParentByTagName(t,["table"])),i.splitDomSingle(o,t);for(var a=i.getParentByTagName(t,["table"]),l=t.parentNode.children,s=0;s<l.length;s++){var c=l[s],d=c.children,u=n.doc.createElement("div");i.before(u,a);for(var f=0;f<d.length;f++){for(var p=d[f];p.firstChild;)u.appendChild(p.firstChild);var g=n.doc.createElement("span");g.innerText="    ",u.appendChild(g)}}var h=e.getContainer(a),m=e.getTableBody(a);i.removeClass(h,r.CLASS.TABLE_CONTAINER),i.removeClass(m,r.CLASS.TABLE_BODY),i.attr(h,{contenteditable:null}),i.attr(m,{contenteditable:null}),i.remove(a)}},o=n.body.querySelectorAll("."+r.CLASS.WIZ_BODY+" table table"),a=o.length-1;a>=0;a--){var l=o[a];i.checkInTmp(l)||t(i.getParentByTagName(l,["tr"],!1))}},this.fixTableWidth=function(t){if(t){for(var n=t.rows,r=0,o=0;o<n[0].cells.length;o++){var i=n[0].cells[o];r+=e.getCellWidth(i)}t.style.width=r+"px"}},this.getAlign=function(t,n){if(!t||!n)return!1;var r=void 0,o=void 0,i=void 0,a={align:"",valign:""};return e.eachRange(t,n,function(e){return i=e.cell,e.fake||(r=i.align.toLowerCase(),o=i.vAlign.toLowerCase()),""===a.align&&(a.align=r,a.valign=o),null!==a.align&&(a.align=a.align===r?r:null),null!==a.valign&&(a.valign=a.valign===o?o:null),null!==a.align||null!==a.valign}),a},this.getCellWidth=function(e){return parseInt(e.style.width||e.offsetWidth,10)},this.getCellData=function(e,t){if(!e||!t)return null;for(var n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++){var o=e[n][r];if(o.cell===t)return o}return null},this.getCellsByRange=function(t,n){var r=[];return t&&n?(e.eachRange(t,n,function(e){e.fake||r.push(e.cell)}),r):r},this.getContainer=function(e){var t=i.getParentByClass(e,r.CLASS.TABLE_CONTAINER,!0);return t&&i.checkInTmp(t)&&(t=null),t},this.getTableBody=function(e){return i.getParentByFilter(e,function(e){return i.hasClass(e,r.CLASS.TABLE_BODY)},!0)},this.getContainerExcludeTable=function(t){var n=i.getParentByTagName(t,["th","td"],!0,null);return n?null:e.getContainer(t)},this.getDomsByCellList=function(e){var t=[];if(!e)return t;for(var n=0,r=e.length;n<r;n++){var o=e[n],a=i.getListA2B({startDom:o.firstChild,startOffset:0,endDom:o.lastChild,endOffset:1,noSplit:!0});t=t.concat(a.list)}return t},this.getKeyForColWidth=function(e){return e.x_src+"_"+e.y_src},this.getNextCellInTable=function(e){var t=e.nextElementSibling;if(t)return t;for(var n=e.parentNode.nextElementSibling;n;){if(n.cells.length>0)return n.cells[0];n=n.nextElementSibling}return null},this.getNextCellDataInRow=function(e,t){if(!e)return null;for(var n=t;n<e.length;n++)if(!e[n].fake)return e[n];return null},this.getMousePosition=function(t,n){var r=o.getEventClientPos(t),a=e.getTableBody(n||t.target),l=i.getPageScroll(),s=r.x+l.left+(a?a.scrollLeft:0),c=r.y+l.top+(a?a.scrollTop:0);return{x:s,y:c}},this.getRangeByCellData=function(e){return e?{minX:e.x_src,minY:e.y_src,maxX:e.x_src+e.cell.colSpan-1,maxY:e.y_src+e.cell.rowSpan-1}:{minX:0,minY:0,maxX:0,maxY:0}},this.getRangeByCellsData=function(t,n,r){if(!t||!n||!r)return null;var o=e.getRangeByCellData(n);if(n.cell===r.cell)return o;for(var i=e.getRangeByCellData(r),a=Math.min(o.minX,i.minX),l=Math.min(o.minY,i.minY),s=Math.max(o.maxX,i.maxX),c=Math.max(o.maxY,i.maxY),d={},u=!0;u;){u=!1;for(var f=a,p=l,g=s,h=c,m=l;m<=c;m++){for(var v=a;v<=s;v++)if(m>l&&m<c&&v<s-1)v=s-1;else{var b=t[m][v],_=b.x_src+"_"+b.y_src;if(!d[_]){var C=e.getRangeByCellData(b);if(a=Math.min(a,C.minX),l=Math.min(l,C.minY),s=Math.max(s,C.maxX),c=Math.max(c,C.maxY),a!==f||l!==p||s!==g||c!==h){u=!0;break}}}if(u)break}}return{minX:a,minY:l,maxX:s,maxY:c}},this.getTableGrid=function(e){if(!e||!i.isTag(e,"table"))return null;for(var t=function(e,t){for(;n[t][e];)e++;return e},n=[],r=e.rows,o=void 0,a=void 0,l=void 0,s=0;s<r.length;s++){var c=r[s],d=c.cells;n[s]||(n[s]=[]);for(var u=0;u<d.length;u++){var f=d[u],p=f.colSpan,g=f.rowSpan;f.firstChild||(f.innerHTML="<br>"),l=t(u,s);for(var h=0;h<g;h++){n[s+h]||(n[s+h]=[]);for(var m=0;m<p;m++){var v=s+h,b=t(l+m,v);0===h&&0===m&&(o=b,a=v),n[v][b]={cell:f,x:b,y:v,x_src:o,y_src:a,fake:h>0||m>0}}}}}return n},this.getTemplateByHtmlForPaste=function(e){var t=void 0,r=!1,o=void 0,a=n.doc.createElement("div");if(a.innerHTML=e,i.childNodesFilter(a),t=a.querySelectorAll("table"),1===t.length){var l=t[0];i.remove(l),i.isEmptyDom(a)?(r=!0,o=l):a.innerHTML=e}if(!r){t=a.querySelectorAll("table");for(var s=t.length-1;s>=0;s--){var c=t[s];i.before(n.doc.createTextNode(c.innerText),c),i.remove(c)}for(var d=a.childNodes.length-1;d>=0;d--){var u=a.childNodes[d];1!==u.nodeType&&3!==u.nodeType&&i.isEmptyDom(u)&&a.removeChild(u)}o=a}return{isTable:r,pasteDom:o}},this.getTemplateByTxtForPaste=function(t){t=(t||"").trim();var r=t.split(/\r?\n/),o=n.doc.createElement("table"),i=n.doc.createElement("tbody"),a=0;o.appendChild(i);for(var l=0;l<r.length;l++){for(var s=r[l].split("\t"),c=n.doc.createElement("tr"),d=0;d<s.length;d++){var u=e.createCell();s[d]&&(u.innerHTML="",u.appendChild(n.doc.createTextNode(s[d]))),c.appendChild(u)}a=Math.max(a,c.cells.length),i.appendChild(c)}r=o.rows;for(var f=0;f<r.length;f++)for(var p=r[f],g=p.cells,h=g.length;h<a;h++)p.appendChild(e.createCell());return{isTable:!0,pasteDom:o}},this.initTable=function(e){for(var t=e.rows.length-1;t>=0;t--)for(var n=e.rows[t].cells.length-1;n>=0;n--){var r=e.rows[t].cells[n];r.style.width=r.offsetWidth+"px"}e.style.width=e.offsetWidth+"px"},this.initTableContainer=function(e){for(var t=e?[e]:n.body.querySelectorAll("."+r.CLASS.WIZ_BODY+" table"),o=function(e,t){var r=e.parentNode;if(t(r)){if(i.isTag(r,"blockquote")){var o=r;r=n.doc.createElement("div"),i.before(r,o),r.appendChild(e),i.remove(o)}}else r=n.doc.createElement("div"),i.before(r,e),r.appendChild(e);return r},a=0,l=t.length;a<l;a++){var s=t[a];if(!i.checkInTmp(s)){var c=o(s,function(e){return e!==n.body&&!i.hasClass(e,r.CLASS.TEMPLATE_EDITABLE)&&(1===e.childNodes.length?(i.addClass(e,r.CLASS.TABLE_BODY),!0):i.hasClass(e,r.CLASS.TABLE_BODY))}),d=o(c,function(e){return!(e===n.body||!i.isTag(e,"div")||i.hasClass(e,r.CLASS.TEMPLATE_EDITABLE))&&(1===e.childNodes.length?(i.addClass(e,r.CLASS.TABLE_CONTAINER),!0):i.hasClass(e,r.CLASS.TABLE_CONTAINER))});i.addClass(d,r.CLASS.TABLE_CONTAINER),i.css(d,{position:"relative",padding:"0px"}),i.addClass(c,r.CLASS.TABLE_BODY),i.removeClass(c,r.CLASS.TABLE_MOVING),i.setContenteditable(d,!1),i.setContenteditable(c,!n.readonly)}}},this.insertCol=function(t,r){if(t){r=r||0;for(var o=void 0,a=void 0,l=void 0,s=void 0,c=i.getParentByTagName(t[0][0].cell,"table",!1,null),d=c.rows,u=null,f=0;f<t.length;f++){var p=t[f];p.length>r?(o=t[f][r],a=o.cell):(o=null,a=null),a&&a!==u&&o.x_src<r?(o.cell.colSpan++,o.cell.style.width=e.getCellWidth(o.cell)+n.options.table.colWidth+"px"):(!a||a&&o.x_src===r)&&(l=e.createCell(n.options.table.colWidth),a&&o.y_src<o.y?(s=e.getNextCellDataInRow(t[f],r),d[f].insertBefore(l,s?s.cell:null)):d[f].insertBefore(l,a)),u=o?o.cell:null}e.fixTableWidth(c)}},this.insertRow=function(t,r){if(t){r=r||0;for(var o=void 0,a=n.doc.createElement("tr"),l=t.length>r?r:t.length-1,s=t[l],c=0;c<s.length;c++){var d=s[c];t.length>r&&d.y_src<d.y&&d.x_src===d.x?d.cell.rowSpan++:(t.length<=r||d.y_src===d.y)&&(o=e.cloneCell(d.cell,!0),d.cell.colSpan>1&&(o.style.width=d.cell.offsetWidth/d.cell.colSpan+"px"),a.appendChild(o))}var u=i.getParentByTagName(t[0][0].cell,"table",!1,null),f=u.rows,p=f[l],g=p.parentElement;t.length<=r&&(p=null),g.insertBefore(a,p)}},this.isMenu=function(e){return!!e&&!!i.getParentByFilter(e,function(e){return i.hasClass(e,r.CLASS.TABLE_TOOLS)},!0)},this.mergeCell=function(t,r){if(!e.canMerge(t,r))return null;var o=r.maxY-r.minY+1,a=r.maxX-r.minX+1,l=t[r.minY][r.minX].cell,s=n.doc.createElement("div");for(e.eachRange(t,r,function(e){if(!e.fake&&e.cell!==l){if(!i.isEmptyDom(e.cell))for(s.lastChild&&s.appendChild(n.doc.createElement("br"));e.cell.firstChild;)s.appendChild(e.cell.firstChild);i.remove(e.cell)}});s.firstChild;)l.appendChild(s.firstChild);return l.rowSpan=o,l.colSpan=a,l},this.modifySelectionDom=function(t,o,a){var l=o["text-align"]||null,s=o["text-valign"]||null;delete o["text-align"],delete o["text-valign"],e.eachRange(t.grid,t.range,function(t){if(!t.fake){for(var n=[],r=0;r<t.cell.childNodes.length;r++)n.push(t.cell);i.modifyNodesStyleAndClear(e.getDomsByCellList(n),o,a,[])}}),(l||s)&&e.setCellAlign(t.grid,t.range,{align:l,valign:s}),n.event.call(r.EVENT.UPDATE_RENDER)},this.setCellAlign=function(t,n,r){if(t&&n){var o={};null!=r.align&&(o.align=r.align||"left"),null!=r.valign&&(o.valign=r.valign||"middle"),e.eachRange(t,n,function(e){e.fake||(o.align&&i.css(e.cell,{"text-align":""}),o.valign&&i.css(e.cell,{"text-valign":""}),i.attr(e.cell,o))})}},this.setCellBg=function(t,n,r){t&&n&&(r=r||"","transparent"===r.toLowerCase()&&(r=""),e.eachRange(t,n,function(e){e.fake||i.css(e.cell,{"background-color":r})}))},this.setColWidth=function(t,r,o,i){var a=function(){for(var e=void 0,t=i,a=0;a<r.length;a++){var l=r[a][o],s=n.options.table.colWidthMin-l.cell.offsetWidth;if(1===l.cell.colSpan){t=s,e=l.cell;break}t<s&&(t=s,e=l.cell)}return i<t?t:i};i=a();for(var l=t.offsetWidth+i,s=[],c={},d=0,u=r.length;d<u;d++){var f=r[d][o],p=e.getKeyForColWidth(f);c[p]||(c[p]=f.cell.offsetWidth+i,s.push(f))}t.style.width=l+"px";for(var g=0,h=s.length;g<h;g++){var m=s[g];m.cell.style.width=c[e.getKeyForColWidth(m)]+"px"}e.fixColWidth(t,l,s,c,i)},this.setRowHeight=function(e,t,r,o){for(var i=void 0,a=void 0,l=o,s=0;s<t[r].length;s++){i=t[r][s];var c=n.options.table.rowHeightMin-i.cell.offsetHeight;if(1===i.cell.rowSpan){l=c,a=i.cell;break}l<c&&(l=c,a=i.cell)}a&&(o<l?a.parentNode.style.height=n.options.table.rowHeightMin+"px":a.parentNode.style.height=i.cell.offsetHeight+o+"px")},this.splitCell=function(t,n,r){var o=e.canSplit(n,r);if(!o)return null;for(var i in o)if(o.hasOwnProperty(i))for(var a=o[i],l=a.cell.rowSpan,s=a.cell.colSpan,c=a.y_src;c<a.y_src+l;c++)for(var d=a.x_src;d<a.x_src+s;d++){var u=n[c][d];if(u.fake){var f=e.getNextCellDataInRow(n[c],d);f=f?f.cell:null;var p=e.cloneCell(u.cell,!0);t.rows[c].insertBefore(p,f),u.fake=!1,u.cell=p,u.y_src=c,u.x_src=d}else u.cell.rowSpan=1,u.cell.colSpan=1;u.cell.style.width=""}return r}};t.exports=i},{"../../config/const":391,"../../libs/utils":402}],386:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/utils"),i=function(){var e=this,t=null,n=null,i=null,a=null,l=null,s=null;this.initCore=function(e){t=e,n=t.env,i=t.require.domUtils,a=t.require.historyUtils,l=t.require.rangeUtils,s=t.require.tableUtils};var c={active:!1,table:null,start:null,end:null,range:null,grid:null},d=void 0,u=void 0,f=void 0,p=function(){if(c.table)for(var e=c.table.getElementsByClassName(r.CLASS.SELECTED_CELL),t=e.length-1;t>=0;t--)i.removeClass(e[t],[r.CLASS.SELECTED_CELL,r.CLASS.SELECTED_CELL_MULTI])},g=function(e){if(c.table){var t=v(),n=t.colLine.minLeft;e<n&&(e=n),i.css(t.colLine,{top:c.table.offsetTop+"px",left:e+"px",height:c.table.offsetHeight+"px",display:"block"}),t.container.style.display="block"}},h=function(){if(!c.grid||!c.range)return null;var e=[];return s.eachRange(c.grid,c.range,function(t){t.fake||e.push(t)}),e},m=function(e,t,r){var o=e.querySelector("#"+t);return o||(o=n.doc.createElement(r),o.id=t,e.appendChild(o)),o},v=function(){var e={container:null,rowLine:null,colLine:null,start:{dom:null,top:null,right:null,bottom:null,left:null,dot:null},range:{dom:null,top:null,right:null,bottom:null,left:null,dot:null}};return e.container=m(n.body,r.ID.TABLE_RANGE_BORDER,r.TAG.TMP_TAG),i.setContenteditable(e.container,!1),e.colLine=m(e.container,r.ID.TABLE_COL_LINE,"div"),e.rowLine=m(e.container,r.ID.TABLE_ROW_LINE,"div"),e.start.dom=m(e.container,r.ID.TABLE_RANGE_BORDER+"_start","div"),e.start.top=m(e.start.dom,r.ID.TABLE_RANGE_BORDER+"_start_top","div"),e.start.right=m(e.start.dom,r.ID.TABLE_RANGE_BORDER+"_start_right","div"),e.start.bottom=m(e.start.dom,r.ID.TABLE_RANGE_BORDER+"_start_bottom","div"),e.start.left=m(e.start.dom,r.ID.TABLE_RANGE_BORDER+"_start_left","div"),e.start.dot=m(e.start.dom,r.ID.TABLE_RANGE_BORDER+"_start_dot","div"),e.range.dom=m(e.container,r.ID.TABLE_RANGE_BORDER+"_range","div"),e.range.top=m(e.range.dom,r.ID.TABLE_RANGE_BORDER+"_range_top","div"),e.range.right=m(e.range.dom,r.ID.TABLE_RANGE_BORDER+"_range_right","div"),e.range.bottom=m(e.range.dom,r.ID.TABLE_RANGE_BORDER+"_range_bottom","div"),e.range.left=m(e.range.dom,r.ID.TABLE_RANGE_BORDER+"_range_left","div"),e.range.dot=m(e.range.dom,r.ID.TABLE_RANGE_BORDER+"_range_dot","div"),e},b=function(e){s.initTableContainer(c.table);var t=c.table.parentNode;t.appendChild(e.container)},_=function(e){c.table=e,c.grid=s.getTableGrid(c.table)},C=function(){if(!c.grid||!c.range)return!1;var e=c.grid[c.range.minY][c.range.minX],t=c.grid[c.range.maxY][c.range.maxX],n=c.start;return e.cell===t.cell&&t.cell===n.cell},y=function(){var e=l.getRange();if(!e)return n.client.type.isPhone||n.client.type.isPad||!C();var t=void 0,r=void 0,o=void 0;return c.grid&&c.start&&(t=i.getParentByTagName(e.startContainer,["th","td"],!0,null),r=e.collapsed?t:i.getParentByTagName(e.endContainer,["th","td"],!0,null)),!c.start||c.start.cell===t&&t===r||!e.collapsed&&c.start.cell===t&&t!==r&&0===e.endOffset&&r===s.getNextCellInTable(t)&&(r=t.lastChild,o=i.getEndOffset(r),setTimeout(function(){l.setRange(e.startContainer,e.startOffset,r,o)},200),!0)},E=function(e){e||(p(),A(h()));var t=v();return c.start&&c.range?(e||b(t),T(),void O()):(t.container.style.display="none",t.start.dom.style.display="none",void(t.range.dom.style.display="none"))},T=function(){var e=v(),t=n.doc.body.clientTop,r=n.doc.body.clientLeft,o=void 0,a=void 0,l=void 0,s=void 0,d=void 0,u=void 0,f=void 0,p=void 0,g=c.start?c.start.cell:null,h=c.grid[c.range.minY][c.range.minX],m=c.grid[c.range.maxY][c.range.maxX];h&&m&&(h=h.cell,m=m.cell,g&&(a=t+g.offsetTop,o=r+g.offsetLeft,l=g.offsetWidth,s=g.offsetHeight),u=t+h.offsetTop,d=r+h.offsetLeft,h===m?(f=h.offsetWidth,p=h.offsetHeight):(f=m.offsetLeft+m.offsetWidth-d,p=m.offsetTop+m.offsetHeight-u),i.css(e.start.dom,{top:a+"px",left:o+"px"}),i.css(e.start.top,{width:l+"px"}),i.css(e.start.left,{height:s+"px"}),i.css(e.start.bottom,{top:s-1+"px",width:l+"px"}),i.css(e.start.right,{left:l-1+"px",height:s+"px"}),i.css(e.start.dot,{top:s-1-4+"px",left:l-1-4+"px"}),i.css(e.range.dom,{top:u+"px",left:d+"px"}),i.css(e.range.top,{width:f+"px"}),i.css(e.range.left,{height:p+"px"}),i.css(e.range.bottom,{top:p+"px",width:f+"px"}),i.css(e.range.right,{left:f+"px",height:p+"px"}),i.css(e.range.dot,{top:p-4+"px",left:f-4+"px"}),e.start.dom.style.display="block",C()?(e.start.dot.style.display="block",e.range.dom.style.display="none"):(e.start.dot.style.display="none",e.range.dom.style.display="block"),e.container.style.display="block",e.start.dot.style.display="none",e.range.dot.style.display="none")},S=function(e){if(c.table){var t=v(),n=t.rowLine.minTop;e<n&&(e=n),i.css(t.rowLine,{left:c.table.offsetLeft+"px",top:e+"px",width:c.table.offsetWidth+"px",display:"block"}),t.container.style.display="block"}},A=function(e){if(e)for(var t=0,n=e.length;t<n;t++)i.addClass(e[t].cell,r.CLASS.SELECTED_CELL+(n>1?" "+r.CLASS.SELECTED_CELL_MULTI:""))},O=function(){return c.grid&&c.range&&!C()?void l.remove():void(n.client.type.isIOS||y()||l.setRange(c.start.cell,c.start.cell.childNodes.length))},x={bind:function(){x.unbind(),n.event.add(r.EVENT.ON_SELECTION_CHANGE,x.handler.onSelectionChange),n.event.add(r.EVENT.UPDATE_RENDER,x.handler.updateRender),c.table&&(c.table.addEventListener("DOMSubtreeModified",x.handler.onDomModified),n.win.addEventListener("resize",x.handler.onDomModified))},unbind:function(){var t=e.getZone();n.event.remove(r.EVENT.ON_SELECTION_CHANGE,x.handler.onSelectionChange),n.event.remove(r.EVENT.UPDATE_RENDER,x.handler.updateRender),t.table&&(t.table.removeEventListener("DOMSubtreeModified",x.handler.onDomModified),n.win.removeEventListener("resize",x.handler.onDomModified))},bindStopSelectStart:function(){x.unbindStopSelectStart(),n.event.add(r.EVENT.ON_SELECT_START,x.handler.onStopSelectStart)},unbindStopSelectStart:function(){n.event.remove(r.EVENT.ON_SELECT_START,x.handler.onStopSelectStart)},bindDragLine:function(){x.unbindDragLine(),x.bindStopSelectStart(),n.event.add(r.EVENT.ON_MOUSE_MOVE,x.handler.onDragLineMove),n.event.add(r.EVENT.ON_MOUSE_UP,x.handler.onDragLineEnd)},unbindDragLine:function(){x.unbindStopSelectStart(),n.event.remove(r.EVENT.ON_MOUSE_MOVE,x.handler.onDragLineMove),n.event.remove(r.EVENT.ON_MOUSE_UP,x.handler.onDragLineEnd)},handler:{onDragLineMove:function(e){var t=v(),n=s.getMousePosition(e,c.table);"block"===t.colLine.style.display?g(n.x-t.colLine.startMouse+t.colLine.startLine):S(n.y-t.rowLine.startMouse+t.rowLine.startLine)},onDragLineEnd:function(e){x.unbindDragLine();var t=v(),o=s.getMousePosition(e,c.table),i=void 0,l="block"===t.colLine.style.display,d="block"===t.rowLine.style.display;t.colLine.style.display="none",t.rowLine.style.display="none",a.saveSnap(!1),l&&t.colLine.startMouse!==o.x?(i=t.colLine.cellData,i&&(s.initTable(c.table),s.setColWidth(c.table,c.grid,i.x,o.x-t.colLine.startMouse))):d&&t.rowLine.startMouse!==o.y&&(i=t.rowLine.cellData,i&&(s.initTable(c.table),s.setRowHeight(c.table,c.grid,i.y,o.y-t.rowLine.startMouse))),t.colLine.cellData=null,t.colLine.minLeft=null,t.colLine.startLine=null,t.colLine.startMouse=null,t.rowLine.cellData=null,t.rowLine.minTop=null,t.rowLine.startLine=null,t.rowLine.startMouse=null,n.event.call(r.EVENT.UPDATE_RENDER)},onSelectionChange:function(e){n.browser.isIe||y()||(l.remove(),o.stopEvent(e))},onDomModified:function(e){var t=!0,o=e&&"DOMSubtreeModified"===e.type&&1===e.target.nodeType&&e.target.querySelector("img");f&&clearTimeout(f),f=setTimeout(function(){n.event.call(r.EVENT.UPDATE_RENDER,e,o,t)},100)},onStopSelectStart:function(e){return o.stopEvent(e),!1},updateRender:function(e,t,n){var r=function e(t,n){E(n),t&&u<60&&(d&&clearTimeout(d),d=setTimeout(function(){u++,e(t,n)},500))};u=0,r(t,n)}}};this.clear=function(){c.active=!1,c.start=null,c.end=null,c.range=null,c.grid=null,E();var t=v();return t.colLine.style.display="none",t.rowLine.style.display="none",c.table=null,x.unbind(),e},this.getFragmentForCopy=function(){var e=null;if(!c.range)return e;var t=n.doc.createElement("table"),r=n.doc.createElement("tbody");t.appendChild(r);for(var o=c.range.minY;o<=c.range.maxY;o++){for(var i=n.doc.createElement("tr"),a=c.range.minX;a<=c.range.maxX;a++){var l=c.grid[o][a];if(!l.fake){var d=s.cloneCell(l.cell,!1);i.children.length>0&&i.appendChild(n.doc.createTextNode("\t")),i.appendChild(d)}}i.appendChild(n.doc.createTextNode("\n")),r.appendChild(i)}return e=n.doc.createElement("div"),e.appendChild(t),e},this.getSelectedCells=function(){return s.getCellsByRange(c.grid,c.range)},this.getZone=function(){return{active:c.active,table:c.table,start:c.start,end:c.end,range:c.range,grid:c.grid}},this.isRangeActiving=function(){return c.start&&c.active},this.isSingleCell=C,this.isZoneBorder=function(e){var t=e.target,a=e.offsetX,l=e.offsetY,c=o.getEventClientPos(e),d=void 0,u=!1,f=!1,p=!1,g=!1,h=!1,m=!!i.getParentByFilter(t,function(e){return e&&1===e.nodeType&&(e.id===r.ID.TABLE_RANGE_BORDER+"_start_dot"||e.id===r.ID.TABLE_RANGE_BORDER+"_range_dot")},!0);m||(p=!!i.getParentByFilter(t,function(e){if(e&&1===e.nodeType&&(e.id===r.ID.TABLE_RANGE_BORDER+"_start_right"||e.id===r.ID.TABLE_RANGE_BORDER+"_range_right"))return!0;var t=void 0,n=void 0;return!(!e||1!==e.nodeType||!i.isTag(e,["td","th"]))&&(t=e.offsetWidth-4,n=e.offsetWidth+4,a>=t&&a<=n)},!0)),m||p||(g=!!i.getParentByFilter(t,function(e){if(e&&1===e.nodeType&&(e.id===r.ID.TABLE_RANGE_BORDER+"_start_bottom"||e.id===r.ID.TABLE_RANGE_BORDER+"_range_bottom"))return!0;var t=void 0,n=void 0;return!(!e||1!==e.nodeType||!i.isTag(e,["td","th"]))&&(t=e.offsetHeight-4,n=e.offsetHeight+4,l>=t&&l<=n)},!0)),g||m||p||(f=!!i.getParentByFilter(t,function(e){return e&&1===e.nodeType&&e.id===r.ID.TABLE_RANGE_BORDER},!0));var v=void 0,b=void 0,_=void 0;if(!(g||m||p||f||(h=!!s.getContainerExcludeTable(t),h||t!==n.body))){v=n.win.getComputedStyle(t);var C=i.getOffset(n.body);b=parseInt(v.paddingLeft),_=parseInt(v.paddingRight),u=c.x-C.x<=b||c.x-C.x>=n.body.offsetWidth-_}return d=(e.target.clientWidth>0&&e.target.clientWidth<e.offsetX||e.target.clientHeight>0&&e.target.clientHeight<e.offsetY)&&(e.target.offsetWidth>=e.offsetX||e.target.offsetHeight>=e.offsetY),{isBodyBorder:u,isBorder:f,isBottom:g,isContainer:h,isDot:m,isRight:p,isScroll:d}},this.modify=function(t){if(!c.active||!t)return e;var n=i.getParentByTagName(t,["table"],!0,null);if(!n||n!==c.table)return e;var o=s.getCellData(c.grid,t);c.range=s.getRangeByCellsData(c.grid,c.start,o),c.end=o,E();var a=i.getParentByFilter(c.table,function(e){return i.hasClass(e,r.CLASS.TABLE_BODY)},!1);return i.addClass(a,r.CLASS.TABLE_MOVING),e},this.remove=function(){e.clear();var t=v(),n=void 0;t&&(n=t.container.parentNode,n&&n.removeChild(t.container))},this.setEnd=function(t,o){o&&(c.active=!0),e.modify(t),c.active=!1,O(),n.event.call(r.EVENT.ON_SELECTION_CHANGE,null);var a=i.getParentByFilter(c.table,function(e){return i.hasClass(e,r.CLASS.TABLE_BODY)},!1);return i.removeClass(a,r.CLASS.TABLE_MOVING),e},this.setStart=function(t,n,r){if(!t)return e.clear(),e;var o=i.getParentByTagName(t,["table"],!0,null);if(!o||i.checkInTmp(o))return e.clear(),e;if(o!==c.table&&(e.clear(),_(o)),c.active=!0,c.end=null,c.start=s.getCellData(c.grid,t),"undefined"!=typeof n&&"undefined"!=typeof r)try{var a=c.grid[r][n];a&&a.cell===c.start.cell&&(c.start=a)}catch(e){}return c.range=s.getRangeByCellsData(c.grid,c.start,c.start),E(),i.scrollIntoView(c.start.cell),x.bind(),e},this.setStartRange=O,this.startDragColLine=function(t,n){var o=void 0,a=void 0;if(t&&1===t.nodeType&&t.id===r.ID.TABLE_RANGE_BORDER+"_start_right")a=c.start,t=c.start.cell,o=c.table;else if(t&&1===t.nodeType&&t.id===r.ID.TABLE_RANGE_BORDER+"_range_right")a=c.grid[c.range.maxY][c.range.maxX],t=a.cell,o=c.table;else{if(t=i.getParentByTagName(t,["th","td"],!0,null),!t)return;if(o=i.getParentByTagName(t,["table"],!0,null),!o)return;o!==c.table&&(p(),e.clear()),c.grid||_(o),a=s.getCellData(c.grid,t)}for(var d=a.x,u=void 0;d+1<c.grid[a.y].length&&(d++,u=c.grid[a.y][d],u.cell===t);)a=u;var f=t.offsetLeft+t.offsetWidth,h=v();b(h),h.colLine.minLeft=o.offsetLeft,h.colLine.startLine=f,h.colLine.startMouse=n,h.colLine.cellData=a,g(f),l.remove(),x.bindDragLine()},this.startDragRowLine=function(t,n){var o=void 0,a=void 0;if(t&&1===t.nodeType&&t.id===r.ID.TABLE_RANGE_BORDER+"_start_bottom")a=c.start,t=c.start.cell,o=c.table;else if(t&&1===t.nodeType&&t.id===r.ID.TABLE_RANGE_BORDER+"_range_bottom")a=c.grid[c.range.maxY][c.range.maxX],t=a.cell,o=c.table;else{
if(t=i.getParentByTagName(t,["th","td"],!0,null),!t)return;if(o=i.getParentByTagName(t,["table"],!0,null),!o)return;o!==c.table&&(p(),e.clear()),c.grid||_(o),a=s.getCellData(c.grid,t)}for(var d=a.y,u=void 0;d+1<c.grid.length&&(d++,u=c.grid[d][a.x],u.cell===t);)a=u;var f=t.offsetTop+t.offsetHeight,g=v();b(g),g.rowLine.minTop=o.offsetTop,g.rowLine.startLine=f,g.rowLine.startMouse=n,g.rowLine.cellData=a,S(f),l.remove(),x.bindDragLine()},this.switchCell=function(e,t){if(!t||!c.start)return null;var n=function(){t.canChangeRow&&o>=0&&o<c.grid.length&&(r<0?(r=c.grid[o].length-1,o-=1):r>=c.grid[o].length&&(r=0,o+=1))};t.x=t.x?t.x>0?1:-1:0,t.y=t.y?t.y>0?1:-1:0;var r=e.x+t.x,o=e.y+t.y;n();for(var i=e;o>=0&&o<c.grid.length&&r>=0&&r<c.grid[o].length&&i.cell===e.cell;)i=c.grid[o][r],r+=t.x,o+=t.y,n();return i},this.updateGrid=function(){var t=void 0,o=void 0;return c.table&&(c.grid&&(t=c.grid[c.range.minY][c.range.minX],o=c.grid[c.range.maxY][c.range.maxX]),_(c.table),t=s.getCellData(c.grid,t.cell),o=s.getCellData(c.grid,o.cell),c.range=s.getRangeByCellsData(c.grid,t,o),c.start=s.getCellData(c.grid,c.start.cell),c.end&&(c.end=s.getCellData(c.grid,c.end.cell))),n.event.call(r.EVENT.UPDATE_RENDER),e}};t.exports=i},{"../../config/const":391,"../../libs/utils":402}],387:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/utils"),i=e("../../libs/domPatch"),a=function(){var e=null,t=null,n=null,a=null,l=null,s=null,c=null,d=null;this.initCore=function(r){e=r,t=e.env,n=e.require.domUtils,a=e.require.historyUtils,l=e.require.rangeUtils,s=e.require.todoRouteForClient,c=e.require.todoStyle,d=e.require.todoUtils};var u=null,f=null,p=function(e,n){var r=d.checkTodo(e,u);r&&(t.readonly&&h.addModifiedId(r),n&&o.stopEvent(n))},g=function(e){if(!u.hasPermission())return null;var o=e.target;if(!n.hasClass(o,r.CLASS.TODO_CHECKBOX))return null;var i=d.getContainerFromChild(o),a=d.getContainerFromChild(i.parentNode);return a?d.fixNewTodo(a):d.fixNewTodo(i),t.readonly&&h.curCheckbox?null:(!t.readonly||h.docLockChecked?p(o,e):(h.curCheckbox=o,u.checkDocLock("onCheckDocLock")),void l.setRange(i,i.children.length))},h={curCheckbox:null,docLockChecked:!1,modifiedIdList:{},htmlToSave:"",init:function(){if(t.readonly){h.modifiedIdList={};for(var e=t.body.querySelectorAll("."+r.CLASS.TODO_CHECKBOX),n=0;n<e.length;n++){var o=e[n];o.wizTodoIndex=n}}},addModifiedId:function(e){if(t.readonly){var n=e.checkbox,r=e.checked,o=h.modifiedIdList[n.wizTodoIndex];"boolean"==typeof o&&o!==r?delete h.modifiedIdList[n.wizTodoIndex]:h.modifiedIdList[n.wizTodoIndex]=r}},getModifiedIdList:function(){var e=[];for(var t in h.modifiedIdList)h.modifiedIdList.hasOwnProperty(t)&&e.push({id:t,checked:h.modifiedIdList[t]});return e},modifyDoc:function(){var e="",o=h.getModifiedIdList();if(0===o.length)return e;e=u.getOriginalDoc();var a=t.doc.getElementById(r.ID.IFRAME_FOR_SAVE);a||(a=t.doc.createElement("iframe"),a.id=r.ID.IFRAME_FOR_SAVE,t.body.appendChild(a)),a.style.display="none";var l=t.doc,s=t.win,c=t.body,f=a.contentDocument,p=u.isPersonalDocument(),g=void 0;f.open("text/html","replace"),f.write(e),f.close(),t.doc=f,t.win=a.contentWindow,t.body=f.body,i.run(t.win),d.oldPatch.fixOldTodo(),d.fixNewTodo(),g=t.body.querySelectorAll("."+r.CLASS.TODO_CHECKBOX);for(var m=o.length-1;m>=0;m--){var v=o[m].id,b=o[m].checked,_=g[v];if(_){var C=d.getMainFromChild(_);d.check(C,b),p||d.addUserInfo(C,b,_.id,u)}}return d.checkTodoStyle(!0),e=n.getContentHtml(),t.body=c,t.doc=l,t.win=s,t.scrollContainer=n.getScrollContainer(),t.body.removeChild(a),e}},m={bind:function(){m.unbind(),t.event.add(r.EVENT.ON_SELECTION_CHANGE,m.handler.onSelectionChange),t.event.add(r.EVENT.AFTER_RESTORE_HISTORY,m.handler.afterRestoreHistory),t.event.add(r.EVENT.ON_EXEC_COMMAND,m.handler.onExecCommand),t.event.add(r.EVENT.ON_PASTE,m.handler.onPaste),t.event.add(r.EVENT.AFTER_INSERT_DOM,m.handler.afterInsertDom),t.client.type.isIOS||t.client.type.isAndroid?(t.event.add(r.EVENT.ON_TOUCH_END,m.handler.onTouchEnd),t.event.add(r.EVENT.ON_TOUCH_START,m.handler.onTouchStart)):t.event.add(r.EVENT.ON_CLICK,m.handler.onClick)},unbind:function(){t.event.remove(r.EVENT.ON_CLICK,m.handler.onClick),t.event.remove(r.EVENT.ON_SELECTION_CHANGE,m.handler.onSelectionChange),t.event.remove(r.EVENT.ON_TOUCH_END,m.handler.onTouchEnd),t.event.remove(r.EVENT.ON_TOUCH_START,m.handler.onTouchStart),t.event.remove(r.EVENT.AFTER_RESTORE_HISTORY,m.handler.afterRestoreHistory)},handler:{afterInsertDom:function(){d.fixNewTodo(),d.checkTodoStyle(!1)},afterRestoreHistory:function(){d.checkTodoStyle(!1),d.fixNewTodo(),c.restoreUserAvatarStyle()},onCheckDocLock:function(e,t){h.docLockChecked=!t,e||p(h.curCheckbox),h.curCheckbox=null},onClick:function(e){g(e)},onExecCommand:function(){var e=l.getRange(),t=void 0,o=void 0;if(e&&(t=e.collapsed?e.startContainer:n.getParentRoot([e.startContainer,e.endContainer]),t=n.getBlockParent(t,!0))){o=t.querySelectorAll("."+r.CLASS.TODO_CHECKBOX);for(var i=0,a=o.length;i<a;i++)d.fixCheckbox(o[i],!1)}},onKeyDown:function(e){if(!u.hasPermission())return!0;var i=l.getRange();if(!i)return!0;var s=e.keyCode||e.which,c=void 0,f=void 0,p=void 0,g=void 0,h=void 0,m=void 0,v=void 0,b=void 0,_=void 0,C=void 0,y=void 0,E=void 0,T=void 0,S=void 0,A=void 0,O=void 0,x=void 0;if(!i.collapsed){if(8!==s&&46!==s&&o.checkNonTxtKey(e))return!0;if(x=l.getRangeDomList({noSplit:!0}),x&&x.list.length>0){a.saveSnap(!1),p=i.endContainer,g=i.endOffset,3!==p.nodeType&&(i.endOffset===p.childNodes.length?(p=n.getLastDeepChild(p),g=n.getEndOffset(p)):(p=p.childNodes[i.endOffset],g=0)),C=d.getContainerFromChild(p);for(var N=x.list.length-1;N>=0;N--)O=x.list[N],d.isCheckbox(O)&&(_=d.getContainerFromChild(O),b=d.getMainFromChild(O),b&&(v=b.parentNode,d.cancelTodo(v,!0)),C&&_===C&&(p.parentNode||(p=v,g=n.getEndOffset(p)),l.setRange(i.startContainer,i.startOffset,p,g)));return!0}}if(h=d.isCaretAfterCheckbox(),m=d.getMainByCaret(),v=m?n.getBlockParent(m,!1):d.getContainerFromChild(i.startContainer),y=n.getEndOffset(i.endContainer)===i.endOffset,!v||m||d.getCheckbox(v)||(n.removeClass(v,r.CLASS.TODO_LAYER),v=null),!v&&!y&&13!==s)return!0;if(8===s&&h)return a.saveSnap(!1),d.cancelTodo(v),o.stopEvent(e),!1;if(46===s&&(a.saveSnap(!1),c=i.startContainer,f=i.startOffset,l.selectCharIncludeFillChar(),i=l.getRange(),p=i.endContainer,b=d.getMainFromChild(p)||d.getMainInDom(p),l.setRange(c,f),b&&b!==m))return d.cancelTodo(b.parentNode,!0),!1;if(37===s&&h&&(O=n.getPreviousNode(v)))return l.setRange(O,n.getEndOffset(O)),o.stopEvent(e),!1;if(!v||13!==s||e.shiftKey)return!0;if(a.saveSnap(!1),d.isEmptyContainer(v))return v.innerHTML="<br>",n.removeClass(v,r.CLASS.TODO_LAYER),l.setRange(v,1),n.getParentByTagName(v,["blockquote","ul","ol"])&&t.event.call(r.EVENT.EXEC_COMMEND,"outdent",!1),o.stopEvent(e),!1;i.deleteContents(),d.fixNewTodo(v);var L=!1,w=d.getUserInfoInDom(v),D=void 0;w?(D=n.getPreviousNode(w,!1,v),i.startContainer===w&&i.startOffset!==n.getEndOffset(w)?L=!0:d.getUserInfoFromChild(i.startContainer)&&(L=!0)):D=v,i.setEndAfter(L?v:D);var I=i.cloneContents(),R=t.doc.createElement("div");for(I.appendChild(R);I.childNodes.length>1;)R.appendChild(I.firstChild);E=n.isEmptyDom(R);var k=void 0;if(E){if(S=d.cloneTodo(v),n.after(S,v),d.setTodo(S),m=d.getMainInDom(S),O=n.getLastDeepChild(S),3===O.nodeType)O.nodeValue=r.FILL_CHAR+r.FILL_CHAR;else if(n.isSelfClosingTag(O)){var M=t.doc.createTextNode(r.FILL_CHAR+r.FILL_CHAR);n.after(M,O),O=M}else O.appendChild(t.doc.createTextNode(r.FILL_CHAR+r.FILL_CHAR)),O=O.childNodes[0];l.setRange(O,1)}else{k=i.extractContents(),A=[];for(var P=0;P<k.childNodes.length;P++)A.push(k.childNodes[P]);T=v!==t.body&&n.isBlock(v)?v.tagName:"div",S=t.doc.createElement(T),n.after(S,v),m=d.setTodo(S),m.length>0&&(m=m[0]),d.insertToMain(A,m);for(var B=0;B<A.length;B++)d.clearBlock(A[B]);l.setRange(m,1)}o.stopEvent(e);var z=n.getPageScroll();if(m.getBoundingClientRect().top+m.clientHeight>t.doc.documentElement.clientHeight||m.getBoundingClientRect().top+m.clientHeight<0){var U=m.getBoundingClientRect().left+z.left,F=z.top+m.clientHeight;window.scrollTo(U,F)}},onPaste:function(){setTimeout(function(){m.handler.afterInsertDom()},300)},onSelectionChange:function(){var e=l.getRange();if(e){var t=void 0,r=void 0,o=void 0;e.collapsed||(r=e.endContainer,o=e.endOffset);var i=d.isCaretBeforeCheckbox();i.enable&&(t=i.checkbox,t&&t.nextSibling?(r=t.nextSibling,o=0):t&&(r=t.parentNode,o=n.getIndex(t)+1),e.collapsed?l.setRange(r,o):l.setRange(e.startContainer,e.startOffset,r,o))}},onTouchEnd:function(e){e.target===f&&(f=null,g(e))},onTouchStart:function(e){f=e.target}}};this.init=function(){},this.on=function(){d.oldPatch.fixOldTodo(),d.fixNewTodo(),h.init(),m.bind(),u||(u=s.getRoute()),d.checkTodoStyle(!0)},this.off=function(){m.unbind()},this.checkTodoStyle=function(){d.checkTodoStyle(!1)},this.closeDocument=function(){var e=void 0;return u||(u=s.getRoute()),e=t.client.type.isWin&&t.options.pc.pluginModified?n.getContentHtml():h.modifyDoc(),!e||t.client.type.isIOS||t.client.type.isMac||u.saveDoc(e,""),u.beforeCloseDoc&&u.beforeCloseDoc(),h.init(),e},this.onCheckDocLock=m.handler.onCheckDocLock,this.onKeyDown=m.handler.onKeyDown,this.setTodo=function(){a.saveSnap(!1);d.setTodo(null)},this.setTodoInfo=function(e){u.setTodoInfo&&u.setTodoInfo(e)}};t.exports=a},{"../../config/const":391,"../../libs/domPatch":400,"../../libs/utils":402}],388:[function(e,t,n){"use strict";var r=e("../../libs/base64"),o=function(){var e=null,t=null,n=null;this.initCore=function(r){e=r,t=e.env,n=e.require.todoCore};var o=void 0,i=void 0,a=void 0,l=function(){o=t.win.external;var e=function(){try{return o.UserAlias}catch(e){return console.error(e),""}},r=function(e){try{return o.GetUserAvatarFileName(e)}catch(e){return console.error(e),""}},i=function(){try{return o.GetUserGUID()}catch(e){return console.error(e),""}},a=function(){try{return!t.readonly||o.WizDocument.CanEdit}catch(e){return console.error(e),!1}},l=function(){try{return o.WizDocument.IsPersonalDocument()}catch(e){return console.error(e),!1}},s=function(e){if(l())return void n[e](!1,!1);try{o.ExecuteCommand("OnClickingChecklist","WizReader.todo."+e+"({cancel}, {needCallAgain});","readingnote")}catch(e){console.error(e)}},c=function(){try{return o.WizDocument.GetHtml()}catch(e){return console.error(e),""}},d=function(e,t){try{o.WizDocument.SetHtml2(e,t)}catch(e){console.error(e)}};this.getUserAlias=e,this.getUserGuid=i,this.getUserAvatarFileName=r,this.hasPermission=a,this.isPersonalDocument=l,this.checkDocLock=s,this.getOriginalDoc=c,this.saveDoc=d},s=function(){var e=function(){return t.options.clientRoute.getUserAlias?t.options.clientRoute.getUserAlias():""},r=function(){return t.options.clientRoute.getUserAvatarFileName?t.options.clientRoute.getUserAvatarFileName():""},o=function(){return t.options.clientRoute.getUserGuid?t.options.clientRoute.getUserGuid():""},i=function(){return t.options.clientRoute.hasPermission?!t.readonly||t.options.clientRoute.hasPermission():!t.readonly||!1},a=function(){return!!t.options.clientRoute.isPersonalDocument&&t.options.clientRoute.isPersonalDocument()},l=function(e){if(t.options.clientRoute.checkDocLock)return t.options.clientRoute.checkDocLock(function(t,r){n[e](t,r)})},s=function(){return t.options.clientRoute.getOriginalDoc?t.options.clientRoute.getOriginalDoc():t.body.outerHTML},c=function(e,n){if(t.options.clientRoute.saveDoc)return t.options.clientRoute.saveDoc(e,n)};this.getUserAlias=e,this.getUserAvatarFileName=r,this.getUserGuid=o,this.hasPermission=i,this.isPersonalDocument=a,this.checkDocLock=l,this.getOriginalDoc=s,this.saveDoc=c},c=function(){i=t.win.WizQtEditor;var e=function(){return i.userAlias},r=function(e){return i.userAvatarFilePath},o=function(){return i.userGuid},a=function(){return!t.readonly||i.hasEditPermissionOnCurrentNote},l=function(){return i.isPersonalDocument},s=function(e,t){},c=function(e){return i.clickingTodoCallBack.connect(n[e]),i.checkListClickable()},d=function(){return i.currentNoteHtml};this.getUserAlias=e,this.getUserAvatarFileName=r,this.getUserGuid=o,this.hasPermission=a,this.isPersonalDocument=l,this.checkDocLock=c,this.getOriginalDoc=d,this.saveDoc=s},d=function(){a=t.win.WizNote;var e=function(){return a.getUserAlias()},n=function(e){return a.getUserAvatarFileName(e)},r=function(){return a.getUserGuid()},o=function(){return!t.readonly||a.hasPermission()},i=function(){return a.isPersonalDocument()},l=function(){a.onWizTodoReadCheckedClose()},s=function(e){a.checkDocLock()},c=function(){return a.getDocHtml()},d=function(e,t){a.setDocHtml(e,t)};this.getUserAlias=e,this.getUserAvatarFileName=n,this.getUserGuid=r,this.hasPermission=o,this.isPersonalDocument=i,this.beforeCloseDoc=l,this.checkDocLock=s,this.getOriginalDoc=c,this.saveDoc=d},u=function(){var e=this,n=function(){return e.userAlias},o=function(t){return e.avatarFileName},i=function(){return e.userGuid},a=function(){return!t.readonly||e._hasPermission},l=function(){return e.personalDocument},s=function(t){e.userAlias=t.alias,e.userGuid=t.userGuid,e.avatarFileName=t.avatar,e.personalDocument="true"===t.isPersonal,e._hasPermission="true"===t.hasPermission,e.originalHtml=r.decode(t.docHtml)},c=function(e){t.win.location.href="wiztodolist://tryLockDocument/?callback="+e},d=function(){return e.originalHtml};this.getUserAlias=n,this.getUserAvatarFileName=o,this.getUserGuid=i,this.hasPermission=a,this.isPersonalDocument=l,this.setTodoInfo=s,this.checkDocLock=c,this.getOriginalDoc=d,this.userAlias="",this.userGuid="",this.avatarFileName="",this.personalDocument=!1,this._hasPermission=!1,this.originalHtml=""};this.getRoute=function(){var e=null;return e=t.client.type.isWin?new l:t.client.type.isMac?new c:t.client.type.isIOS?new u:t.client.type.isAndroid?new d:new s},this.setQtEditor=function(){i=t.win.WizQtEditor}};t.exports=o},{"../../libs/base64":398}],389:[function(e,t,n){"use strict";var r=e("../../config/const"),o={todoChecked:"data:text/xml;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUYxRkNCNDRFNUYzMTFFN0I3MjU4OUZFNDhFRjQzMjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUYxRkNCNDVFNUYzMTFFN0I3MjU4OUZFNDhFRjQzMjQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5RjFGQ0I0MkU1RjMxMUU3QjcyNTg5RkU0OEVGNDMyNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5RjFGQ0I0M0U1RjMxMUU3QjcyNTg5RkU0OEVGNDMyNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoB3J04AAAJhSURBVHja7JjLK0RRHMdnhFiM55RsFJGFrcSOGguDaHZCSRY2Q7PwiAUlj1gMCkvF2FDKZpLXSh7xB1jMf6AmY5RSGt9Tv6vjdO5j7twzzcKvPt07v+ae873n/B5nxp1KpVy5ZHmuHLOcE5QvOqLR6O99KNmZLR2rYFYqiKwBrIU9lz5cSzKYiAXoCF7swGCHdsC47grBGsEDKHPgzUMGYgrAPhjkfBsyQSsk5gtMgQgGjTu8RUXgGPRyviMwIxPko+s0hGwriBcPOAMdnO8GjLItlgnSYuZQgZhKljeghfM9gwDtiG5QM3N6m6rBJWjifDHgBwmjoFZhteAK1HG+V9BF17QL4wII2yykbEVuBTEfFNAx08KoI2aR7mvAEPi0KKYZnFPsaMZipQ882m0dVdw9C75r4LXwXDtlT6VQKEfJb7uXBYUB2sAdqDd4poeyySP456jeZNRcv2llYkJruQetku8PgFNQLPjXWTviHWhNbrvdPkEZkeB8Xlq5AOdjPSlCbcElVOFZybjhTI4fMZr8m/OxVTgBk6zsg13JmL9VWFidZXou7SwTBw/SxPxLbep8/4mvwpJ4cuSAtkdYWdFuYZuVnRiDRqmrV4VVCpJlnmZJvSqs+kwtyzwWK/16VTgbh3w+80yrsK1Dvg3TMq/UrApnS5DLYtZZMrf4yxU/gzSHW/EZ6c88fr/fNIYqFIqpSCeo3+k6rFDQGHdQMxV0xXXnCVDuoJByGnOJPl9YETQP3kAh2KLDfsoh4jRmIc0xb0XQC51zTqnqOm1JGruV5jLOsv+/Y/4FpWk/AgwACweeMaBPu0MAAAAASUVORK5CYII=",todoUnChecked:"data:text/xml;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjlFNzg2NjRFNUYzMTFFN0IyNkY5NzZGNEEyNTU3NEYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjlFNzg2NjVFNUYzMTFFN0IyNkY5NzZGNEEyNTU3NEYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCOUU3ODY2MkU1RjMxMUU3QjI2Rjk3NkY0QTI1NTc0RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCOUU3ODY2M0U1RjMxMUU3QjI2Rjk3NkY0QTI1NTc0RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PohRJcgAAAEHSURBVHja7JgxCsJAEEWNSEAQ0XgG8QrWIhYp7e2stRMhpRDETltLe8sU4gE8guIdokQrm/UHvoUWZsVdEJmBx5AUMy87m5DEUUrlfinyuR8LEcqKwuuJKIrSVAdT0AZlwz0TsAVjcPR9/70QogF2oGJpEdIL7IIWaIJD1shCytzAENSAYwiPNW/sEWaOjGNKYwQWhlfnxJpFbomOzqZ+7JmVxb27ZC59cpfFFoVieQ6JkAiJkAiJkAiJkAj9gZBnsa/3iVDC3LMo1Ge+6ghtmWdgAKoGRaqsOeHxRkcoAGfggjlfyJUhYtZ02SPQEdrzi3INLhbGdWHtJns9hSP/h0Toy7gLMABy5T6ChFra5QAAAABJRU5ErkJggg=="},i={common:"."+r.CLASS.TODO_MAIN+" {padding-left: 12px;line-height:30px;}li > ."+r.CLASS.TODO_MAIN+" {padding-left: 0}."+r.CLASS.TODO_CHECKED+" {color: #666;}."+r.CLASS.TODO_UNCHECKED+" {text-decoration: initial;}."+r.CLASS.TODO_CHECKED+" ."+r.CLASS.TODO_CHECKBOX+" {background-image:url("+o.todoChecked+")}."+r.CLASS.TODO_UNCHECKED+" ."+r.CLASS.TODO_CHECKBOX+" {background-image:url("+o.todoUnChecked+")}."+r.CLASS.TODO_CHECKBOX+" {border-radius:0;position:relative;top:-1px;vertical-align:middle;border:0;background-color:transparent;outline:none;width:18px !important; height:18px !important; cursor:default; padding:0px 10px 0px 5px;-webkit-user-select: none;background-size:18px;background-repeat:no-repeat;background-position:5px;box-sizing:initial;}."+r.CLASS.TODO_AVATAR+" {border:0;background-color:transparent;outline:none;width:20px !important; height: 20px !important; vertical-align: -20%; padding:0; margin:0 10px 0 0; border-radius:100%;background-size:20px;background-repeat:no-repeat;}."+r.CLASS.TODO_USER_INFO+" {padding-left: 20px;}input."+r.CLASS.TODO_AVATAR+" {position:relative;top:-4px;}."+r.CLASS.TODO_ACCOUNT+", ."+r.CLASS.TODO_DATE+" { color: #666; }"},a=function(){var e=this,t=null,n=null,a=null,l=null;this.initCore=function(e){t=e,n=t.env,a=t.require.domUtils,l=t.require.wizStyle};var s={},c=function(e){var t=new RegExp("^"+r.ID.TODO_AVATAR_STYLE+"(.*)$","i");return e.replace(t,"$1")};this.insertTodoStyle=function(t){e.removeTodoOldStyle();var s=n.doc.getElementById(r.ID.TODO_STYLE);!t&&s||l.replaceStyleById(r.ID.TODO_STYLE,i.common,!1),e.removeUnUsedTodoStyle();var c="wiz_todo_checkbox_img_preview";if(n.client.type.isIOS&&!n.body.querySelector("#"+c)){var d=n.doc.createElement(r.TAG.TMP_TAG),u=n.doc.createElement("img"),f=n.doc.createElement("img");u.src=o.todoChecked,f.src=o.todoUnChecked,a.setContenteditable(d,!1),a.css(d,{width:0,height:0,opacity:0,overflow:"hidden",display:"inline-block"}),d.id=c,d.appendChild(u),d.appendChild(f),n.doc.body.appendChild(d)}},this.removeTodoOldStyle=function(){l.removeStyleById(r.ID.TODO_STYLE_OLD)},this.removeTodoStyle=function(){e.removeTodoOldStyle();var t=n.doc.getElementById(r.ID.TODO_STYLE);a.remove(t);for(var o=n.doc.querySelectorAll("style"),i=o.length-1;i>=0;i--)if(t=o[i],t.id&&0===t.id.indexOf(r.ID.TODO_AVATAR_STYLE)){var l=c(t.id);s[l]=t.innerHTML,a.remove(t)}},this.removeUnUsedTodoStyle=function(e){var t=n.doc.querySelectorAll("style"),o=void 0,i=void 0,l=void 0,d=void 0;if(e)return i=r.ID.TODO_AVATAR_STYLE+e,l=r.CLASS.TODO_USER_AVATAR+e,d=n.doc.querySelector("."+l),o=n.doc.getElementById(i),void(o&&!d&&(s[e]=o.innerHTML,a.remove(o)));for(var u=t.length-1;u>=0;u--)o=t[u],i=o.id,i&&0===i.indexOf(r.ID.TODO_AVATAR_STYLE)&&(e=c(i),n.body.querySelector("."+r.CLASS.TODO_USER_AVATAR+e)||(s[e]=o.innerHTML,a.remove(o)))},this.restoreUserAvatarStyle=function(){for(var e in s)if(s.hasOwnProperty(e)){var t=r.ID.TODO_AVATAR_STYLE+e;!n.doc.querySelector("#"+t)&&n.body.querySelector("."+r.CLASS.TODO_USER_AVATAR+e)&&l.replaceStyleById(t,s[e],!1)}}};t.exports=a},{"../../config/const":391}],390:[function(e,t,n){"use strict";var r=e("../../config/const"),o=e("../../libs/base64"),i=e("../../libs/utils"),a="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",l=function(){var e=this,t=null,n=null,l=null,s=null,c=null,d=null,u=null,f=null,p=null,g=null;this.initCore=function(e){t=e,n=t.env,l=t.lang,s=t.require.blockUtils,c=t.require.codeUtils,d=t.require.domUtils,u=t.require.historyUtils,f=t.require.rangeUtils,p=t.require.todoStyle,g=t.require.wizStyle},this.addUserInfo=function(t,o,i,a){if(t){var l=void 0,s=void 0,c=void 0,u=void 0,g=void 0,h=void 0,m=void 0;if(l=e.deleteUserInfo(t.parentNode),!o)return void p.removeUnUsedTodoStyle(l);l=a.getUserGuid(),s=a.getUserAlias(),c=a.getUserAvatarFileName(r.CSS.TODO_LIST.IMG_WIDTH),u=e.getTime(),e.setUserAvatarStyle(l,c),g=e.getUserInfoHtml(l,s,u),h=n.doc.createElement("span"),d.addClass(h,r.CLASS.TODO_USER_INFO),h.innerHTML=g;var v={};v[r.ATTR.TODO_ID]=i,d.attr(h,v);for(var b=t.childNodes.length-1;b>=0;b--){var _=t.childNodes[b];d.isTag(_,"br")&&t.removeChild(_)}for(m=t.nextElementSibling;m;){if(e.isMain(m)){t.parentElement.insertBefore(h,m);break}if(d.isTag(m,"br")){t.parentElement.insertBefore(h,m);break}m=m.nextElementSibling}m||t.parentElement.appendChild(h),h.hasChildNodes()||h.appendChild(n.doc.createElement("br")),f.setRange(h,h.childNodes.length)}},this.canBeContainer=function(e){return!d.isTag(e,["body","blockquote","td","th"])&&d.isBlock(e)},this.cancelTodo=function(t,n){if(t){var o=f.getRange(),i=void 0,a=void 0,l=void 0,s=void 0;i=o?o.startContainer:null,a=o?o.startOffset:0,l=e.getMainInDom(t),s=e.deleteUserInfo(t),p.removeUnUsedTodoStyle(s),e.deleteMain(l),d.removeClass(t,r.CLASS.TODO_LAYER),d.removeClass(t,r.CLASS.TODO_CHECKED),d.removeClass(t,r.CLASS.TODO_UNCHECKED);var c=d.isEmptyDom(t);c&&!d.isIncludeBr(t)&&(t.innerHTML="<br/>"),n||(i&&i.parentNode||(i=t,a=0),f.setRange(i,a)),e.checkTodoStyle(!1)}},this.check=function(t,n){var o=e.getContainerFromChild(t);n?(d.removeClass(o,r.CLASS.TODO_UNCHECKED),d.addClass(o,r.CLASS.TODO_CHECKED)):(d.removeClass(o,r.CLASS.TODO_CHECKED),d.addClass(o,r.CLASS.TODO_UNCHECKED));var i=e.getCheckbox(t),a=n?"checked":"unchecked",l={};l[r.ATTR.TODO_CHECK]=a,d.attr(i,l)},this.checkTodo=function(t,n){var o={checkbox:null,checked:!1};u.saveSnap(!1);var i=e.getMainFromChild(t),a=void 0;return i&&i.children[0]===t||e.fixCheckbox(t,!1),a="checked"!==t.getAttribute(r.ATTR.TODO_CHECK),e.check(i,a),o.checkbox=t,o.checked=a,n.isPersonalDocument()||e.addUserInfo(i,a,t.id,n),o},this.checkTodoStyle=function(e){var t=n.doc.querySelector("."+r.CLASS.TODO_CHECKBOX);t?p.insertTodoStyle(e):p.removeTodoStyle()},this.clearBlock=function(t){if(!t||1!==t.nodeType&&3!==t.nodeType&&11!==t.nodeType)return!1;for(var n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];e.clearBlock(r)&&r!==t.childNodes[n]&&n--}var o=11===t.nodeType,i=!o&&e.isTodoTag(t),a=!o&&d.isBlock(t);if(a&&d.isEmptyDom(t)){if(!(t.children.length>0))return d.remove(t),!0;d.peelDom(t)}else(a||i)&&d.peelDom(t);return!1},this.clearTodoClass=function(e){e&&d.removeClass(e,[r.CLASS.TODO_ACCOUNT,r.CLASS.TODO_AVATAR,r.CLASS.TODO_DATE,r.CLASS.TODO_LAYER,r.CLASS.TODO_MAIN,r.CLASS.TODO_CHECKED,r.CLASS.TODO_UNCHECKED,r.CLASS.TODO_USER_INFO])},this.cloneTodo=function(t){if(!t)return null;var o=void 0,i=void 0,a=void 0,l=void 0;if(o=d.clone(t,!0),a=e.getMainInDom(t),!a)return null;d.removeClass(o,r.CLASS.TODO_CHECKED),d.addClass(o,r.CLASS.TODO_UNCHECKED);for(var s=t,c=o;s&&s.childNodes&&s.childNodes.length;){for(l=s.childNodes[s.childNodes.length-1];l&&(3===l.nodeType&&0===l.nodeValue.replace(r.FILL_CHAR_REG,"").length||d.isBlock(l)||d.isSelfClosingTag(l));)l=l.previousSibling;!l||e.isCheckbox(l)?(i=n.doc.createTextNode(""),l=null):i=d.clone(l,!0),c.appendChild(i),c=i,s=l}return o},this.deleteMain=function(t){return d.peelDom(t,function(t){return!e.isMain(t)&&!e.isCheckbox(t)})},this.deleteUserInfo=function(t){var n="",o=e.getMainInDom(t),i=t.querySelector("."+r.CLASS.TODO_AVATAR),a=i?i.className:"",l=new RegExp("^(.*"+r.CLASS.TODO_USER_AVATAR+")([^ ]*)(.*)$","i");a.indexOf(r.CLASS.TODO_USER_AVATAR)>-1&&(n=a.replace(l,"$2"));for(var s=o?o.nextElementSibling:t.firstChild;s&&!e.isMain(s);)if(e.isUserInfo(s)){var c=s;s=s.nextElementSibling,t.removeChild(c)}else s=s.nextElementSibling;return n},this.fixCheckbox=function(t,o){if(t){if(t.id||(t.id=e.getCheckId()),d.attr(t,{style:null}),d.isTag(t,"input")){var i=n.doc.createElement("img");i.id=t.id,i.className=t.className,i.src=a;var l={};l[r.ATTR.TODO_CHECK]=t.getAttribute(r.ATTR.TODO_CHECK),d.attr(i,l),d.before(i,t),d.remove(t),t=i}if(o||!e.getMainFromChild(t)){var s=d.getBlockParent(t),c=e.canBeContainer(s),u=n.doc.createElement("span"),f=void 0,p=void 0,g=void 0,h=!1,m=void 0;for(u.className=(o?r.CLASS.TODO_LABEL_OLD:r.CLASS.TODO_MAIN)+" "+r.CLASS.TODO_UNCHECKED,f=n.doc.createElement(c?s.tagName:"div"),c?d.after(f,s):d.before(f,t),f.appendChild(u),p=t;p;){if(g=p.nextSibling,d.isBlock(p)){if(!c)break;h=!0,m=f.nextSibling}h?d.before(p,m):e.isUserInfo(p)?d.after(p,u):u.appendChild(p),p=g}d.addClass(f,r.CLASS.TODO_LAYER);var v=e.getContainerFromChild(f.parentNode);v&&d.removeClass(v,r.CLASS.TODO_LAYER),c&&d.isEmptyDom(s)&&d.remove(s)}}},this.fixMain=function(t){if(t){var n=d.getLastDeepChild(t),o=e.getCheckbox(t),i=void 0,a=void 0;if(o||d.removeClass(t,r.CLASS.TODO_MAIN),d.attr(t,{style:null}),i=e.getContainerFromChild(t),i&&i!==t&&i!==t.parentNode)try{i.appendChild(t)}catch(e){console.error(e)}d.hasClass(t,r.CLASS.TODO_CHECKED)?(d.addClass(i,r.CLASS.TODO_CHECKED),d.removeClass(t,r.CLASS.TODO_CHECKED)):d.hasClass(t,r.CLASS.TODO_UNCHECKED)&&(d.addClass(i,r.CLASS.TODO_UNCHECKED),d.removeClass(t,r.CLASS.TODO_UNCHECKED));var l=t.querySelectorAll("."+r.CLASS.TODO_MAIN);for(a=l.length-1;a>=0;a--)d.after(l[a],t);if(d.isEmptyDom(t)&&t.parentNode&&d.remove(t),n!==o&&(1!==n.nodeType&&3!==n.nodeType||1===n.nodeType&&d.isTag(n,"br"))){for(i=n.parentNode;i!==t&&1===i.childNodes.length;)n=i,i=i.parentNode;d.remove(n),e.fixMain(t)}}},this.fixNewTodo=function(t){var o=void 0,i=void 0,a=void 0,l=void 0,s=void 0,c=void 0,u=void 0,f=void 0,p=void 0,g=void 0,h=void 0,m=void 0;o=t?t:n.doc;var v=function(t){return d.isEmptyDom(t)?void d.remove(t):(f=e.getCheckbox(t),void(f||d.removeClass(a,r.CLASS.TODO_LAYER)))};i=o.querySelectorAll("."+r.CLASS.TODO_LAYER);for(var b=0;b<i.length;b++){var _=i[b];if(d.attr(_,{style:null}),v(_),l=_.querySelectorAll("."+r.CLASS.TODO_LAYER),0!==l.length&&(s=l[0],c=s.parentNode,g=e.isTodoTag(c)||e.isLayer(c)?s:c,h=_,h!==g)){for(;m=g.nextSibling;)d.after(m,h),h=m;d.after(g,_),v(_)}}p=o.querySelectorAll("."+r.CLASS.TODO_MAIN);for(var C=0;C<p.length;C++){var y=p[C];e.fixMain(y)}u=o.querySelectorAll("."+r.CLASS.TODO_CHECKBOX);for(var E=0;E<u.length;E++)f=u[E],e.fixCheckbox(f,!1);if(t){var T=d.getLastDeepChild(o);d.isTag(T,"br")&&d.remove(T)}},this.getCheckbox=function(e){return e?e.querySelector("."+r.CLASS.TODO_CHECKBOX):null},this.getCheckId=function(){return"wiz_todo_"+Date.now()+"_"+Math.floor(1e6*Math.random()+1)},this.getContainerFromChild=function(t){return t?d.getParentByFilter(t,function(t){return e.isLayer(t)},!0):null},this.getMainByCaret=function(){var t=f.getRange();if(!t)return null;var n=f.getRangeDetail(t.startContainer,t.startOffset);return e.getMainFromChild(n.container)},this.getMainFromChild=function(e){return e?d.getParentByClass(e,r.CLASS.TODO_MAIN,!0):null},this.getMainHtml=function(){return'<span class="'+r.CLASS.TODO_MAIN+'">'+e.getCheckboxHtml()+"</span>"},this.getCheckboxHtml=function(){var t='<img src="'+a+'" id="%1" class="'+r.CLASS.TODO_CHECKBOX+" "+r.CLASS.IMG_NOT_DRAG+'" '+r.ATTR.TODO_CHECK+'="unchecked" />';return t=t.replace("%1",e.getCheckId())},this.getMainInDom=function(e){return e&&e.hasChildNodes()?e.querySelector("."+r.CLASS.TODO_MAIN):null},this.getUserInfoFromChild=function(e){return e?d.getParentByClass(e,r.CLASS.TODO_USER_INFO,!0):null},this.getUserInfoInDom=function(e){return e.querySelector("."+r.CLASS.TODO_USER_INFO)},this.getUserInfoHtml=function(e,t,n){var i='<span class="'+r.CLASS.TODO_ACCOUNT+'"><input disabled readonly class="%1" />%2, </span><span class="'+r.CLASS.TODO_DATE+'">%3.</span>',a=r.CLASS.TODO_USER_AVATAR+o.encode(e);return i.replace("%1",r.CLASS.IMG_NOT_DRAG+" "+r.CLASS.TODO_AVATAR+" "+a).replace("%2",t).replace("%3",n)},this.getTime=function(){var e=function(e){return(e<10?"0":"")+e},t=new Date,n=void 0,r=void 0;return r=e(t.getHours())+":"+e(t.getMinutes()),n="en"===l.version?l.Month[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()+" at "+r:t.getFullYear()+l.Date.Year+(t.getMonth()+1)+l.Date.Month+t.getDate()+l.Date.Day+" "+r},this.insertToMain=function(t,n){if(t&&n)for(var r=null,o=t.length-1;o>=0;o--){var i=t[o];e.clearTodoClass(i),n.insertBefore(i,r),r=i}},this.isCaretAfterCheckbox=function(){var t=f.getRange();if(!t)return!1;var n=void 0,r=void 0,o=void 0,a=void 0;return o=e.getMainByCaret(),!!o&&(!!t.collapsed&&(n=f.getRangeDetail(t.startContainer,t.startOffset),!(3===n.container.nodeType&&n.offset>0&&(a=n.container.nodeValue.substr(0,n.offset),!i.isEmpty(a)))&&(r=n.isEnd?n.container:d.getPreviousNode(n.container,!1,o),e.isCheckbox(r))))},this.isCaretBeforeCheckbox=function(){var t={enable:!1,checkbox:null},n=f.getRange();if(!n)return t;var r=n.endContainer;return 1===r.nodeType?r=r.childNodes[n.endOffset]:3===r.nodeType&&d.isEmptyDom(r)&&n.endOffset===r.nodeValue.length&&!e.getContainerFromChild(r)&&(r=d.getNextNode(r,!1),r&&(r=d.getParentByFilter(r,function(t){return e.isLayer(t)},!0))),e.isLayer(r)||e.isMain(r)?(t.enable=!0,t.checkbox=e.getCheckbox(r)):e.isCheckbox(r)&&(t.enable=!0,t.checkbox=r),t.checkbox||(t.enable=!1),t},this.isCheckbox=function(e){return d.hasClass(e,r.CLASS.TODO_CHECKBOX)},this.isEmptyContainer=function(t){if(!t)return!0;for(var n=t.childNodes,r=0;r<n.length;r++){var o=n[r];if(e.isMain(o)){if(!e.isEmptyMain(o))return!1}else if(!d.isEmptyDom(o))return!1}return!0},this.isEmptyMain=function(t){if(!t)return!0;for(var n=t.childNodes,r=0;r<n.length;r++){var o=n[r];if(!e.isCheckbox(o)&&!d.isEmptyDom(o))return!1}return!0},this.isLayer=function(e){return d.hasClass(e,r.CLASS.TODO_LAYER)},this.isMain=function(e){return d.hasClass(e,r.CLASS.TODO_MAIN)},this.isTodoTag=function(t){return!!t&&(e.isMain(t)||e.isUserInfo(t)||d.hasClass(t,r.CLASS.TODO_ACCOUNT)||d.hasClass(t,r.CLASS.TODO_DATE))},this.isUserInfo=function(e){return d.hasClass(e,r.CLASS.TODO_USER_INFO)},this.setTodo=function(t){var n=void 0,o=[];if(n=t?[t]:s.fixAndGetBlockListFromRange(),0===n.length)return o;var i=function(e){var t=e.querySelectorAll("br");if(!d.isEmptyDom(e)&&t.length>0)for(var n=t.length-1;n>=0;n--){var r=t[n],i=d.splitDomBeforeSub(e,r);d.remove(r),o.push(h(i)),0===n&&i!==e&&o.push(h(e))}else o.push(h(e))},a=function(e){var t=e.querySelectorAll("li");if(d.isTag(e,"li"))o.push(h(e));else if(t.length>0)for(var n=0;n<t.length;n++)o.push(h(t[n]));else i(e)},l=function(e){if(d.isTag(e,"li"))return!0;var t=d.hasClass(e,r.CLASS.TABLE_CONTAINER)||e.querySelector("."+r.CLASS.TABLE_CONTAINER);if(t)return!1;var n=d.hasClass(e,r.CLASS.CODE_CONTAINER)||e.querySelector("."+r.CLASS.CODE_CONTAINER);if(n)return!1;var o=!d.isTag(e,["hr"]);return o},c=!0,u=n[0],f=e.getMainInDom(u),p=e.getUserInfoInDom(u),g=!!e.getCheckbox(f);(g||p)&&(c=!1);for(var m=0;m<n.length;m++)for(var v=n[m];f=e.getMainInDom(v);){
var b=e.getContainerFromChild(f);e.cancelTodo(b)}if(!c)return o;for(var _=0;_<n.length;_++){var C=n[_];l(C)&&a(C)}return o};var h=function(t){var o=void 0,a=void 0,l=void 0,s=void 0,c=void 0;if(o=t,!d.isBlock(o)){var u=d.getFirstDeepChild(o),p=d.getBlockParent(u);p&&(o=p)}for(l=e.getMainHtml(),c=n.doc.createElement("div"),e.canBeContainer(o)?(d.addClass(o,r.CLASS.TODO_LAYER),d.addClass(o,r.CLASS.TODO_UNCHECKED)):l='<div class="'+r.CLASS.TODO_LAYER+" "+r.CLASS.TODO_UNCHECKED+'">'+l+"</div>",c.innerHTML=l,s=e.getMainInDom(c);c.lastChild;)o.insertBefore(c.lastChild,o.firstChild);for(a=d.getLastDeepChild(o);d.isTag(a,"br")||3===a.nodeType&&i.isEmpty(a.nodeValue);)d.remove(a),a=d.getLastDeepChild(o);if(d.isSelfClosingTag(a))f.setRange(a.parentNode,d.getIndex(a)+1);else{var g=void 0;3===a.nodeType?(0===a.nodeValue.length&&(a.nodeValue=r.FILL_CHAR),g=a):(g=n.doc.createTextNode(r.FILL_CHAR),a.appendChild(g)),g.nodeValue===r.FILL_CHAR?f.setRange(g,0,g,1):f.setRange(g,g.nodeValue.length)}return e.checkTodoStyle(!1),s};this.setUserAvatarStyle=function(e,t){var i=o.encode(e),a=r.ID.TODO_AVATAR_STYLE+i,l=r.CLASS.TODO_USER_AVATAR+i,s=n.doc.getElementById(a);if(!s){if(s=n.win.parent.document.getElementById(a))return void g.insertStyle({id:a},s.innerHTML);var c=function(e){var t=n.doc.getElementById(a);t||g.insertStyle({id:a},"."+l+"{background-image:url("+e+");}")};/^data:/i.test(t)?c(t):d.convertImageToBase64(t,50,50,c)}},this.oldPatch={fixImg:function(e){if(e){var t=n.doc.createElement("img");if(t.className=e.className,t.src=a,d.removeClass(t,r.CLASS.TODO_CHECK_IMG_OLD),d.addClass(t,r.CLASS.TODO_CHECKBOX),e.id&&(t.id=e.id),e.getAttribute("state")){var o={};o[r.ATTR.TODO_CHECK]=e.getAttribute("state"),d.attr(t,o)}var i=e.parentNode;i.insertBefore(t,e),i.removeChild(e)}},fixLabel:function(e){if(e&&(d.removeClass(e,r.CLASS.TODO_LABEL_OLD),d.addClass(e,r.CLASS.TODO_MAIN),d.hasClass(e,r.CLASS.TODO_CHECKED_OLD)?(d.removeClass(e,r.CLASS.TODO_CHECKED_OLD),d.addClass(e,r.CLASS.TODO_CHECKED)):d.hasClass(e,r.CLASS.TODO_UNCHECKED_OLD)&&(d.removeClass(e,r.CLASS.TODO_UNCHECKED_OLD),d.addClass(e,r.CLASS.TODO_UNCHECKED))),e&&!d.isTag(e,"span")){var t=e.parentNode;if(t){var o=n.doc.createElement("span");for(o.className=e.className;e.firstChild;)o.appendChild(e.firstChild);t.insertBefore(o,e),t.removeChild(e)}}},fixOldTodo:function(){var t=void 0,o=void 0,i=void 0,a=void 0,l=void 0,s=void 0;a=n.body.querySelectorAll("."+r.CLASS.TODO_CHECK_IMG_OLD);for(var c=a.length-1;c>=0;c--){var u=a[c],f=e.oldPatch.getLabelFromChild(u);f&&f.children[0]===u||e.fixCheckbox(u,!0),e.oldPatch.fixImg(u)}l=n.body.querySelectorAll("."+r.CLASS.TODO_LABEL_OLD);for(var p=0;p<l.length;p++){var g=l[p],h=e.oldPatch.packageTodo(g);d.addClass(h,r.CLASS.TODO_LAYER),t=h.querySelectorAll("."+r.CLASS.TODO_LABEL_OLD);for(var m=t.length-1;m>0;m--)o=t[m],i=e.oldPatch.packageTodo(o),d.after(i,h);e.oldPatch.fixUserInfo(g)}l=n.body.querySelectorAll("."+r.CLASS.TODO_LABEL_OLD);for(var v=l.length-1;v>=0;v--)e.oldPatch.fixLabel(l[v]);s=n.body.querySelectorAll("."+r.CLASS.TODO_TAIL_OLD);for(var b=s.length-1;b>=0;b--){var _=s[b];d.isEmptyDom(_)?d.remove(_):d.removeClass(r.CLASS.TODO_TAIL_OLD)}},fixUserInfo:function(t){for(var n=t.parentNode,o=e.oldPatch.getCheckImg(t),i=o?o.id:"",a=n.childNodes,l=!1,s=0;s<a.length;s++){var c=a[s];if(d.hasClass(c,r.CLASS.TODO_USER_INFO))if(l)n.removeChild(c),s--;else{l=!0;var u={};u[r.ATTR.TODO_ID]=i,d.attr(c,u)}}},getCheckImg:function(e){return e?e.querySelector("."+r.CLASS.TODO_CHECK_IMG_OLD):null},getLabelFromChild:function(e){return e?d.getParentByFilter(e,function(e){return d.hasClass(e,r.CLASS.TODO_LABEL_OLD)},!0):null},isFirstLabel:function(e){if(!e)return!1;for(var t=e.parentNode,n=t.childNodes,r=0;r<n.length;r++){var o=n[r];if(o===e)return!0;if(!d.isEmptyDom(o))return!1}return!1},packageTodo:function(t){if(!t)return null;var o=t.parentNode;if(o!==n.body&&e.oldPatch.isFirstLabel(t))return o;var i=e.oldPatch.getCheckImg(t),a=i?i.id:"",l=a?o.querySelector("span["+r.ATTR.TODO_ID+"="+a+"]"):null,s=t.nextSibling,c=void 0,d=n.doc.createElement("div");for(d.appendChild(t);s;)c=s.nextSibling,d.appendChild(s),s=s===l?null:c;return o.insertBefore(d,c),d}}};t.exports=l},{"../../config/const":391,"../../libs/base64":398,"../../libs/utils":402}],391:[function(e,t,n){"use strict";var r="1.0.25",o="0.1.4",i="​",a={version:r,wizContentVersion:o,AMEND_TIME_SPACE:18e4,AMEND_BATCH_TIME_SPACE:3e4,FILL_CHAR:i,FILL_CHAR_REG:new RegExp(i,"ig"),WIZ_TABLE_IN_MARKDOWN_SRC_REG:"<div [^>]*wiz-table-container[^>]*>(.|\\n)*?</table></div></div>",EMPTY_NOTE_TEMPLATE:"<!DOCTYPE html><html><head></head><body>${body}</body></html>",AMEND:{INFO_SPACE:0,INFO_TIMER:300},ATTR:{IMG:"data-wiz-img",IMG_MASK:"data-wiz-img-mask",IMG_RATE:"data-wiz-img-rate",IMG_EDITING:"data-wiz-img-editing",SPAN:"data-wiz-span",SPAN_USERID:"data-wiz-user-id",SPAN_INSERT:"data-wiz-insert",SPAN_DELETE:"data-wiz-delete",SPAN_PASTE:"data-wiz-paste",SPAN_PASTE_TYPE:"data-wiz-paste-type",SPAN_PASTE_ID:"data-wiz-paste-id",SPAN_TIMESTAMP:"data-wiz-amend-time",TODO_ID:"wiz_todo_id",TODO_CHECK:"data-wiz-check"},CLASS:{BLOCK_SCROLL:"wiz-block-scroll",CODE_CONTAINER:"wiz-code-container",CODE_CONTAINER_PASTE:"wiz-code-container-paste",CODE_CONTAINER_OLD:"prettyprint",CODE_MIRROR:"CodeMirror",CODE_MIRROR_LINE:"CodeMirror-line",CODE_MIRROR_MEASURE:"CodeMirror-measure",CODE_MIRROR_GUTTER:"CodeMirror-gutter-wrapper",CODE_MIRROR_HSCROLL:"CodeMirror-scroll",CODE_TOOLS:"wiz-code-tools",CODE_TOOLS_MODE:"wiz-code-tools-mode",CODE_TOOLS_THEME:"wiz-code-tools-theme",CODE_TOOLS_MORE:"wiz-code-tools-more",EDITOR_CONTAINER:"wiz-editor-container",EDITOR_PREVIEW_SHOW:"wiz-editor-preview-show",IMG_ATTACHMENT:"wiz-img-attachment",IMG_NOT_DRAG:"wiz-img-cannot-drag",IMG_RESIZE_ACTIVE:"wiz-img-resize-active",IMG_RESIZE_CONTAINER:"wiz-img-resize-container",IMG_RESIZE_HANDLE:"wiz-img-resize-handle",MARKDOWN_BODY:"markdown-body",ORDER_LIST_LEVEL:["wiz-list-level3","wiz-list-level1","wiz-list-level2"],ORDER_LIST_ALIGN_STYLE:"wiz-list-align-style",READONLY:"wiz-readonly",EDITING:"wiz-editing",SELECTED_CELL:"wiz-selected-cell",SELECTED_CELL_MULTI:"wiz-selected-cell-multi",SELECT_PLUGIN_CONTAINER:"wiz-select-plugin-container",SELECT_PLUGIN_HEADER:"wiz-select-plugin-header",SELECT_PLUGIN_HEADER_TEXT:"wiz-select-plugin-header-text",SELECT_PLUGIN_OPTIONS:"wiz-select-plugin-options",SELECT_PLUGIN_OPTIONS_ITEM:"wiz-select-plugin-options-item",SVG_IMAGE:"wiz-svg-image",SVG_TEMPLATE:"wiz-svg-template",TEMPLATE_EDITABLE:"wiz-template-editable",TABLE_CONTAINER:"wiz-table-container",TABLE_TOOLS:"wiz-table-tools",TABLE_BODY:"wiz-table-body",TABLE_MENU_BUTTON:"wiz-table-menu-button",TABLE_MENU_ITEM:"wiz-table-menu-item",TABLE_MOVING:"wiz-table-moving",TODO_ACCOUNT:"wiz-todo-account",TODO_AVATAR:"wiz-todo-avatar",TODO_CHECKBOX:"wiz-todo-checkbox",TODO_CHECK_IMG_OLD:"wiz-todo-img",TODO_DATE:"wiz-todo-dt",TODO_LAYER:"wiz-todo-layer",TODO_MAIN:"wiz-todo-main",TODO_LABEL_OLD:"wiz-todo-label",TODO_CHECKED:"wiz-todo-checked",TODO_UNCHECKED:"wiz-todo-unchecked",TODO_CHECKED_OLD:"wiz-todo-label-checked",TODO_UNCHECKED_OLD:"wiz-todo-label-unchecked",TODO_TAIL_OLD:"wiz-todo-tail",TODO_USER_AVATAR:"wiz-todo-avatar-",TODO_USER_INFO:"wiz-todo-completed-info",TOOL_TIP:"wiz-tooltip",TOOL_TIP_ITEM:"wiz-tooltip-item",TOOL_TIP_ARROW:"wiz-tooltip-arrow",TOOL_TIP_ARROW_BG:"wiz-tooltip-arrow-bg",WIZ_BODY:"wiz-editor-body",WIZ_CONTENT_IFRAME_ACTIVE:"wiz-content-active",WIZ_EIDTOR_BODY_CONTAINER:"wiz-editor-body-container",WIZ_EIDTOR_IFRAME:"wiz-editor-iframe",WIZ_EIDTOR_PREVIEW_CONTAINER:"wiz-editor-preview-container",WIZ_EIDTOR_TOOlBAR_CONTAINER:"wiz-editor-toolbar-container",WIZ_EIDTOR_TOOlBAR_MAIN:"wiz-editor-toolbar-main",WIZ_EIDTOR_TOOlBAR_SIDE:"wiz-editor-toolbar-side"},CLIENT_EVENT:{WizEditorClickImg:"WizEditorClickImg",WizEditorClickSvg:"WizEditorClickSvg",WizEditorAfterCopied:"WizEditorAfterCopied",WizEditorPaste:"WizEditorPaste",WizEditorTrackEvent:"WizEditorTrackEvent",WizMarkdownRender:"WizMarkdownRender",WizReaderClickImg:"WizReaderClickImg"},CODE:{StorageKey:{Mode:"wiz-code-mode",Theme:"wiz-code-theme",Wrap:"wiz-code-wrap"}},COLOR:["#CB3C3C","#0C9460","#FF3399","#FF6005","#8058BD","#009999","#8AA725","#339900","#CC6600","#3BBABA","#D4CA1A","#2389B0","#006699","#FF8300","#2C6ED5","#FF0000","#B07CFF","#CC3399","#EB4847","#3917E6"],CSS:{DEFAULT_FONT:'Helvetica, "Hiragino Sans GB", "微软雅黑", "Microsoft YaHei UI", SimSun, SimHei, arial, sans-serif',IMG:{SPAN:{position:"relative",display:"inline-block"},MASK:{position:"absolute",width:"100% !important",height:"100% !important",top:"0",left:"0",opacity:".5",filter:"alpha(opacity=50)",border:"2px solid","box-sizing":"border-box","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box"}},IMG_DELETED:{background:"#fdc6c6 url(data:image/gif;base64,R0lGODlhDwAPAIABAIcUFP///yH5BAEKAAEALAAAAAAPAA8AAAIajI8IybadHjxyhjox1I0zH1mU6JCXCSpmUAAAOw==)","border-color":"#E47070"},IMG_INSERT:{background:"#ccffcc","border-color":"#00AA00"},TODO_LIST:{IMG_WIDTH:40},Z_INDEX:{amendInfo:150,tableBorder:105,tableColRowLine:120,tableRangeDot:110,tableTDBefore:100,tableTools:130,tableToolsArrow:10}},EVENT:{BEFORE_GET_DOCHTML:"BEFORE_GET_DOCHTML",BEFORE_SAVESNAP:"BEFORE_SAVESNAP",AFTER_INSERT_DOM:"AFTER_INSERT_DOM",AFTER_RESTORE_HISTORY:"AFTER_RESTORE_HISTORY",EXEC_COMMEND:"EXEC_COMMEND",ON_DBLCLICK:"ON_DBLCLICK",ON_CLICK:"ON_CLICK",ON_COMPOSITION_START:"ON_COMPOSITION_START",ON_COMPOSITION_END:"ON_COMPOSITION_END",ON_COPY:"ON_COPY",ON_CUT:"ON_CUT",ON_DOM_SUBTREE_MODIFIED:"ON_DOM_SUBTREE_MODIFIED",ON_DRAG_START:"ON_DRAG_START",ON_DRAG_ENTER:"ON_DRAG_ENTER",ON_DROP:"ON_DROP",ON_EXEC_COMMAND:"ON_EXEC_COMMAND",ON_KEY_DOWN:"ON_KEY_DOWN",ON_KEY_UP:"ON_KEY_UP",ON_MOUSE_DOWN:"ON_MOUSE_DOWN",ON_MOUSE_MOVE:"ON_MOUSE_MOVE",ON_MOUSE_OVER:"ON_MOUSE_OVER",ON_MOUSE_UP:"ON_MOUSE_UP",ON_ORIENTATION_CHANGE:"ON_ORIENTATION_CHANGE",ON_PASTE:"ON_PASTE",ON_SCROLL:"ON_SCROLL",ON_SELECT_PLUGIN_CHANGE:"ON_SELECT_PLUGIN_CHANGE",ON_SELECT_PLUGIN_HIDE:"ON_SELECT_PLUGIN_HIDE",ON_SELECT_PLUGIN_SHOW:"ON_SELECT_PLUGIN_SHOW",ON_SELECTION_CHANGE:"ON_SELECTION_CHANGE",ON_SELECT_START:"ON_SELECT_START",ON_TOUCH_START:"ON_TOUCH_START",ON_TOUCH_END:"ON_TOUCH_END",UPDATE_RENDER:"UPDATE_RENDER"},HISTORY:{TYPE:{CODE_MIRROR:"CODE_MIRROR",COMMON:"COMMON"}},ID:{BODY_TMP_BOTTOM_STYLE:"wiz-tmp-bottom-style",AMEND_INFO:"wiz-amend-info",AMEND_INFO_SINGLE:"wiz-amend-info-single",AMEND_INFO_MULTI:"wiz-amend-info-multi",AMEND_INFO_NAME:"wiz-amend-info-name",AMEND_INFO_IMG:"wiz-amend-info-image",AMEND_INFO_CONTENT:"wiz-amend-info-content",AMEND_INFO_TIME:"wiz-amend-info-time",AMEND_INFO_TOOLS:"wiz-amend-info-tools",AMEND_INFO_ACCEPT:"wiz-amend-info-accept",AMEND_INFO_REFUSE:"wiz-amend-info-refuse",AMEND_USER_INFO:"wiz-amend-user",CODE_STYLE:"wiz_code_style",FORMAT_PAINTER_STYLE:"wiz_format_painter_style",IFRAME_FOR_SAVE:"wiz-iframe-for-save",PURE_READ_STYLE:"wiz-pure-read-style",TABLE_RANGE_BORDER:"wiz-table-range-border",TABLE_ROW_LINE:"wiz-table-row-line",TABLE_COL_LINE:"wiz-table-col-line",TODO_STYLE:"wiz_todo_style",TODO_STYLE_OLD:"wiz_todo_style_id",TODO_AVATAR_STYLE:"wiz_todo_style_avatar_",TMP_STYLE_PRE:"wiz_tmp_style_",WIZ_DEFAULT_STYLE:"wiz_custom_css",WIZ_EIDTOR_FRAME_STYLE:"wiz-editor-frame-style",WIZ_EIDTOR_PREVIEW_STYLE:"wiz-editor-preview-style",WIZ_EIDTOR_TOOlBAR_STYLE:"wiz-editor-toolbar-style"},NAME:{CODE_STYLE:"wiz_code_style",TMP_STYLE:"wiz_tmp_editor_style",UNSAVE_STYLE:"wiz_unsave_style"},NOTE_READER_TYPE:{COMMON:"common",MARKDOWN:"markdown",MATHJAX:"mathjax"},NOTE_EDITOR_TYPE:{COMMON:"common",MARKDOWN:"markdown"},SELECT_PLUGIN:{TYPE:{Common:"common",More:"more"}},TAG:{CODE_MIRROR:"wiz_code_mirror",TMP_TAG:"wiz_tmp_tag",TMP_PLUGIN_TAG:"wiz_tmp_plugin_tag",TMP_HIGHLIGHT_TAG:"wiz_tmp_highlight_tag"},TYPE:{IMG_DELETE:"delete",IMG_INSERT:"insert",PASTE:{START:"start",END:"end",CONTENT:"content"},PLACEMENT:{BOTTOM:"BOTTOM",BOTTOM_END:"BOTTOM_END",BOTTOM_START:"BOTTOM_START",TOP:"TOP",TOP_END:"TOP_END",TOP_START:"TOP_START",LEFT_START:"LEFT_START",LEFT_END:"LEFT_END",RIGHT_START:"RIGHT_START",RIGHT_END:"RIGHT_END"},TABLE:{COPY:"copy",PASTE:"paste",CLEAR_CELL:"clearCell",MERGE_CELL:"mergeCell",SPLIT_CELL:"splitCell",INSERT_ROW_UP:"insertRowUp",INSERT_ROW_DOWN:"insertRowDown",INSERT_COL_LEFT:"insertColLeft",INSERT_COL_RIGHT:"insertColRight",DELETE_ROW:"deleteRow",DELETE_COL:"deleteCol",SET_CELL_BG:"setCellBg",SET_CELL_ALIGN:"setCellAlign",DISTRIBUTE_COLS:"distributeCols",DELETE_TABLE:"deleteTable"}}};t.exports=a},{}],392:[function(e,t,n){"use strict";function r(e,t){if(t){var n=void 0;for(n in e)e.hasOwnProperty(n)&&"undefined"!=typeof t[n]&&(/^(editor|reader|pureReadMode|nightMode|documentData|callback|timeout|markdownPlugIn|ios|pc|table|code)$/.test(n)?r(e[n],t[n]):e[n]=t[n])}}function o(e,t){if(e){if(e=e.toLowerCase(),e.indexOf("windows")>-1)t.client.type.isWin=!0,t.client.sendCmdToWizClient=function(e,n){e===a.CLIENT_EVENT.WizReaderClickImg?t.win.external.OnClickedImage(n.src,JSON.stringify(n.imgList)):e===a.CLIENT_EVENT.WizEditorClickSvg&&t.win.external.OnClickedSvg(JSON.stringify(n))};else if(e.indexOf("ios")>-1)t.client.type.isIOS=!0,t.client.sendCmdToWizClient=function(e,n){e===a.CLIENT_EVENT.WizEditorClickSvg?t.win.webkit.messageHandlers.onClickedSvg.postMessage(JSON.stringify(n)):e===a.CLIENT_EVENT.WizEditorPaste?t.win.webkit.messageHandlers.didWizEditorPaste.postMessage(null):e===a.CLIENT_EVENT.WizEditorTrackEvent?t.win.webkit.messageHandlers.didWizEditorTrackEvent.postMessage({options:n}):e===a.CLIENT_EVENT.WizReaderClickImg&&t.win.webkit.messageHandlers.WizReaderClickImg.postMessage({src:n.src})};else if(e.indexOf("android")>-1)t.client.type.isAndroid=!0,t.client.sendCmdToWizClient=function(e,n){e===a.CLIENT_EVENT.WizReaderClickImg?t.win.WizNote.onClickImg(n.src,n.imgList.join(",")):e===a.CLIENT_EVENT.WizEditorClickImg?t.win.WizNote.onEditorClickImage(n.src):e===a.CLIENT_EVENT.WizEditorClickSvg&&t.win.WizNote.onClickedSvg(JSON.stringify(n))};else if(e.indexOf("mac")>-1){var n=t.win.navigator.userAgent;/Mac/i.test(n)||(t.client.type.isLinux=!0),t.client.type.isMac=!0,t.client.sendCmdToWizClient=function(e,n){e===a.CLIENT_EVENT.WizReaderClickImg?t.win.WizExplorerApp.onClickedImage(n.src,JSON.stringify(n.imgList)):e===a.CLIENT_EVENT.WizEditorAfterCopied?setTimeout(function(){t.win.WizQtEditor.afterCopied()},100):e===a.CLIENT_EVENT.WizEditorClickSvg?t.win.WizQtEditor.onClickedSvg(JSON.stringify(n)):e===a.CLIENT_EVENT.WizEditorPaste&&t.win.WizQtEditor.doPaste()}}(t.client.type.isIOS||t.client.type.isAndroid)&&(e.indexOf("pad")>-1?t.client.type.isPad=!0:t.client.type.isPhone=!0)}}function i(e){var t={},n=!0;window.localStorage&&(n="1"===window.localStorage.getItem(a.CODE.StorageKey.Wrap));var r={options:{document:null,container:null,useFrame:!1,htmlBaseUrl:"",lang:"en",clientType:"",userInfo:null,usersData:[],userNameEncoder:"",dependencyUrl:"",wizTemplate:{url:""},pureReadMode:{enable:!1,needContentExtraction:!1,borderColor:"",htmlBgColor:"",bodyBgColor:""},nightMode:{enable:!1,color:"",bgColor:"",brightness:""},editor:{type:a.NOTE_EDITOR_TYPE.COMMON,autoFocus:!0,autoCheckLink:!0,minHeight:300,maxRedo:100,callback:{redo:null,onKeyDown:null,onClick:null,onPasteFile:null,onDropFile:null,onClickToolbarInsertImg:null,onClickToolbarHelp:null}},reader:{type:a.NOTE_READER_TYPE.COMMON,minHeight:300,codeNoIDE:!1,noAmend:!1,markdownPlugIn:{imgSrcFilter:null,customBlockGamut:null},callback:{markdown:null,mathJax:null,onClick:null},timeout:{markdown:3e4,mathJax:3e4}},callback:{onClickLink:null},clientRoute:{getUserAlias:null,getUserAvatarFileName:null,getUserGuid:null,hasPermission:null,isPersonalDocument:null,checkDocLock:null,getOriginalDoc:null,saveDoc:null},pc:{pluginModified:!1},table:{colWidth:120,colWidthMin:30,rowHeightMin:33},code:{lineWrapping:n}},locale:{},win:null,doc:null,body:null,scrollContainer:null,readonly:null,isShowPreview:!1,isSetBodyFontSize:!1,isWizTemplate:null,compositionStart:!1,indexFilesPath:"",indexFilesFullPath:"",supportTouchEvent:!1,frame:{toolbarDoc:null,toolbarContainer:null,bodyContainer:null},dependency:{files:{css:{fonts:e+"/fonts.css?v="+a.version,github2:e+"/github2.css?v="+a.version,wizToc:e+"/wizToc.css?v="+a.version},cursor:{formatPainter:e+"/format-painter-wiz.cur?v="+a.version},js:{codemirror:e+"/codemirror/codemirror.js?v="+a.version,cmSimple:e+"/codemirror/addon/mode/simple.js?v="+a.version,cmActiveLine:e+"/codemirror/addon/selection/active-line.js?v="+a.version,cmMatchBrackets:e+"/codemirror/addon/edit/matchbrackets.js?v="+a.version,cmMode:e+"/codemirror/mode/mode.js?v="+a.version,flowchart:e+"/flowchart.js?v="+a.version,jquery:e+"/jquery-3.3.1.js?v="+a.version,mathJax:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_SVG",prettify:e+"/prettify.js?v="+a.version,raphael:e+"/raphael.js?v="+a.version,sequence:e+"/sequence-diagram.js?v="+a.version,underscore:e+"/underscore.js?v="+a.version,wizContent:e+"/WizContent.js?v="+a.wizContentVersion,wizTemplate:""}},css:{fonts:["fonts"],markdown:["github2","wizToc"]},js:{codeMirror:[["codemirror"],["cmSimple","cmActiveLine","cmMatchBrackets","cmMode"]],markdown:[["jquery"],["prettify","raphael","underscore"],["flowchart","sequence"]],mathJax:[["jquery"],["mathJax"]],wizContent:[["wizContent"]],wizTemplate:[["wizTemplate"]]}},client:{type:{isWeb:function(){return location&&0===location.protocol.indexOf("http")}(),isWin:!1,isMac:!1,isLinux:!1,isIOS:!1,isAndroid:!1,isPad:!1,isPhone:!1},sendCmdToWizClient:function(){}},browser:{isAndroid:!!c.match(/Android/i),isIOS:!!c.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/i),isIPad:!!c.match(/iPad/i),isIPhone:!!c.match(/iPhone/i),isLinux:!!c.match(/Linux/i),isMac:!!c.match(/Macintosh/i),isMobile:!!c.match(/AppleWebKit.*Mobile.*/i),isWeChat:!!c.match(/MicroMessenger/i),isWindows:!!c.match(/Window/i),isIe:!!c.match(/msie|trident/i)}};return r.event={isPause:function(e){return!!r.event[e+"_pause"]},setPause:function(e,t){r.event[e+"_pause"]=!!t},add:function(e,n){function r(e,n){if(!e||!n)return!1;var r=void 0,o=void 0,i=t[e];if(!i||0===i.length)return!1;for(r=0,o=i.length;r<o;r++)if(i[r]===n)return!0;return!1}if(e&&n&&!r(e,n)){var o=t[e];o||(o=[]),o.push(n),t[e]=o}},call:function(e){var n=void 0,o=void 0,i=[],a=t[e];if(a&&0!==a.length&&!r.event.isPause(e)){for(n=1,o=arguments.length;n<o;n++)i.push(arguments[n]);var l=[];for(n=0,o=a.length;n<o;n++)l.push(a[n]);for(n=0,o=l.length;n<o;n++)l[n].apply(this,i)}},remove:function(e,n){if(e&&n){var r=void 0,o=void 0,i=t[e];if(i&&0!==i.length)for(r=0,o=i.length;r<o;r++)i[r]===n&&i.splice(r,1)}}},r}var a=e("./const"),l=e("../libs/base64"),s=e("../libs/domPatch"),c=navigator.userAgent,d=function(e){var t=e.dependencyUrl.replace(/\\/g,"/"),n=i(t);r(n.options,e),n.readonly=null;var a=n.options.document||window.document,c=void 0;n.doc=a,n.win=n.doc.defaultView,n.body=a.body,n.frame.toolbarDoc=n.doc,s.run(n.win),n.options.container===n.doc||n.options.container===n.body?(n.options.container=null,n.options.useFrame=!1):n.options.container||(n.frame.toolbarContainer=null,n.frame.bodyContainer=null),n.options.wizTemplate.url&&(n.dependency.files.js.wizTemplate=n.options.wizTemplate.url),o(n.options.clientType,n);var d=decodeURIComponent(location.pathname),u=d.lastIndexOf("/")+1,f=d.lastIndexOf("."),p="";if(f>0&&(p=d.substring(u,f)),n.indexFilesPath=p+"_files",n.indexFilesFullPath=location.protocol+"//"+location.host+d.substr(0,u)+n.indexFilesPath+"/","base64"===n.options.userNameEncoder&&(c=n.options.userInfo,c&&c.user_name&&(c.user_name=l.decode(c.user_name)),n.options.userData))for(var g=0;g<n.options.usersData.length;g++)c=n.options.usersData[g],c.user_name=l.decode(c.user_name);return n.setOptions=function(e){r(n.options,e)},n.supportTouchEvent=n.client.type.isPhone||n.client.type.isPad||n.browser.isMobile||n.browser.isAndroid||n.browser.isIPad||n.browser.isIPhone||n.browser.isWeChat,n};t.exports=d},{"../libs/base64":398,"../libs/domPatch":400,"./const":391}],393:[function(e,t,n){"use strict";e("babel-polyfill");var r=e("../config/const"),o=e("../libs/utils"),i=e("../libs/base64"),a=e("../libs/xssUtils"),l=e("../libs/domPatch"),s=e("../libs/LoadController"),c=e("../libs/dependLoader");e("../tester/TesterForRunTime");var d=new s,u=e("../config/env"),f=e("../locale/lang"),p=e("../common/amendUtils/Amend"),g=e("../common/amendUtils/AmendInfo"),h=e("../common/amendUtils/AmendUser"),m=e("../common/amendUtils/AmendUserAction"),v=e("../common/amendUtils/AmendUtils"),b=e("../common/blockUtils/BlockCore"),_=e("../common/blockUtils/BlockUtils"),C=void 0,y=void 0,E=void 0;C=e("../common/codeUtils/CodeCore"),y=e("../common/codeUtils/CodeStyle"),E=e("../common/codeUtils/CodeUtils");var T=e("../common/CommandExtend"),S=void 0;S=e("../common/contentUtils/ContentCore");var A=e("../common/ClipboardUtils"),O=e("../common/DomUtils"),x=e("../common/editorCore/Editor"),N=e("../common/editorCore/EditorEvent"),L=e("../common/editorCore/EditorUtils"),w=e("../common/FormatPainter"),D=e("../common/frameViewUtils/FrameViewCore"),I=e("../common/frameViewUtils/FrameViewStyle"),R=e("../common/frameViewUtils/FrameViewUtils"),k=e("../common/HighlightUtils"),M=e("../common/HistoryUtils"),P=e("../common/imgUtils/ImgClick"),B=e("../common/imgUtils/ImgCore"),z=e("../common/imgUtils/ImgResize"),U=e("../common/imgUtils/ImgUtils"),F=e("../common/imgUtils/SvgClick"),j=e("../common/linkUtils/LinkCore"),W=e("../common/linkUtils/LinkMenu"),H=e("../common/linkUtils/LinkUtils"),Y=void 0;Y=e("../common/MarkdownRender");var G=void 0;G=e("../common/MathJaxRender");var V=void 0;V=e("../common/NightModeUtils");var q=e("../common/PasteUtils"),Z=e("../common/RangeUtils"),K=e("../common/readerCore/Reader"),X=e("../common/readerCore/ReaderEvent"),$=e("../common/SelectPlugin"),J=e("../common/TabKey"),Q=e("../common/tableUtils/TableCore"),ee=e("../common/tableUtils/TableMenu"),te=e("../common/tableUtils/TableUtils"),ne=e("../common/tableUtils/TableZone"),re=void 0,oe=void 0,ie=void 0,ae=void 0;re=e("../common/todoUtils/TodoCore"),oe=e("../common/todoUtils/TodoRouteForClient"),ie=e("../common/todoUtils/TodoStyle"),ae=e("../common/todoUtils/TodoUtils");var le=void 0;le=e("../common/frameViewUtils/ToolbarMarkdown");var se=e("../common/Tooltip"),ce=e("../common/WizStyle"),de=function(e,t){function n(){var e=void 0,t=void 0,n=void 0,o=void 0,i=void 0,a=de.options.container;if(!a)return de.frame.toolbarContainer=null,void(de.frame.bodyContainer=null);if(t=a.querySelector("."+r.CLASS.WIZ_EIDTOR_TOOlBAR_CONTAINER),t||(a.innerHTML="",Ne.addClass(a,r.CLASS.EDITOR_CONTAINER),t=de.doc.createElement("div"),e=de.doc,Ne.addClass(t,r.CLASS.WIZ_EIDTOR_TOOlBAR_CONTAINER),a.appendChild(t)),n=a.querySelector("."+r.CLASS.WIZ_EIDTOR_BODY_CONTAINER),n||(n=de.doc.createElement("div"),Ne.addClass(n,r.CLASS.WIZ_EIDTOR_BODY_CONTAINER),a.appendChild(n)),de.options.useFrame){if(o=a.querySelector("."+r.CLASS.WIZ_EIDTOR_IFRAME),!o){o=de.doc.createElement("iframe"),Ne.addClass(o,r.CLASS.WIZ_EIDTOR_IFRAME),Ne.attr(o,{frameborder:"0",width:"100%",height:"100%"}),n.appendChild(o);var s=o.contentDocument;s.open(),s.write(r.EMPTY_NOTE_TEMPLATE.replace("${body}","<div><br/></div>")),s.close()}de.doc=o.contentDocument,de.win=o.contentWindow,de.body=de.doc.body,l.run(de.win)}else i=n.querySelector("."+r.CLASS.WIZ_BODY),i||(i=de.doc.createElement("div"),i.innerHTML="<div><br/></div>",n.appendChild(i)),de.body=i;Ne.attr(de.body,{spellcheck:"false"}),de.frame.toolbarDoc=e,de.frame.toolbarContainer=t,de.frame.bodyContainer=n}function s(e){return e?(e.total=!!e.total,e.cursor=!!e.cursor):e={dom:null,cursor:!1,total:!0},e}for(var de=new u(e),ue={env:de,lang:new f(de.options.lang,de),require:{amend:new p,amendInfo:new g,amendUser:new h,amendUserAction:new m,amendUtils:new v,blockCore:new b,blockUtils:new _,codeCore:C?new C:null,codeStyle:y?new y:null,codeUtils:E?new E:null,commandExtend:new T,contentCore:S?new S:null,clipboardUtils:new A,domUtils:new O,editor:new x,editorEvent:new N,editorUtils:new L,formatPainter:new w,frameViewCore:new D,frameViewStyle:new I,frameViewUtils:new R,highlightUtils:new k,historyUtils:new M,imgClick:new P,imgCore:new B,imgResize:new z,imgUtils:new U,linkCore:new j,linkMenu:new W,linkUtils:new H,markdownRender:Y?new Y:null,MathJaxRender:G||null,mathJaxRender:G?new G:null,nightModeUtils:V?new V:null,pasteUtils:new q,rangeUtils:new Z,reader:new K,readerEvent:new X,selectPlugin:new $,svgClick:new F,tabKey:new J,tableCore:new Q,tableMenu:new ee,tableUtils:new te,tableZone:new ne,todoCore:re?new re:null,todoRouteForClient:oe?new oe:null,todoStyle:ie?new ie:null,todoUtils:ae?new ae:null,toolbarMarkdown:le?new le:null,tooltip:new se,wizStyle:new ce}},fe=Object.keys(ue.require),pe=Array.isArray(fe),ge=0,fe=pe?fe:fe[Symbol.iterator]();;){var he;if(pe){if(ge>=fe.length)break;he=fe[ge++]}else{if(ge=fe.next(),ge.done)break;he=ge.value}var me=he,ve=ue.require[me];ve&&ve.initCore&&(ve.initCore(ue),delete ve.initCore)}var be=ue.require.reader,_e=ue.require.editor,Ce=ue.require.editorEvent,ye=ue.require.amend,Ee=ue.require.amendInfo,Te=ue.require.amendUser,Se=ue.require.commandExtend,Ae=ue.require.contentCore,Oe=ue.require.codeCore,xe=ue.require.codeUtils,Ne=ue.require.domUtils,Le=ue.require.editorUtils,we=ue.require.formatPainter,De=ue.require.frameViewUtils,Ie=ue.require.highlightUtils,Re=ue.require.historyUtils,ke=ue.require.imgUtils,Me=ue.require.linkCore,Pe=ue.require.linkUtils,Be=ue.require.markdownRender,ze=ue.require.mathJaxRender,Ue=ue.require.nightModeUtils,Fe=ue.require.pasteUtils,je=ue.require.rangeUtils,We=ue.require.svgClick,He=ue.require.tableCore,Ye=ue.require.tableZone,Ge=ue.require.todoCore,Ve=ue.require.toolbarMarkdown,qe=ue.require.wizStyle,Ze=!1,Ke="";n();var Xe=function(e){d.addCallback(de.doc,e),d.getLoading(de.doc)||("undefined"==typeof de.win.WizTemplate?(d.setLoading(de.doc,!0),c.loadJs(de.doc,c.getDependencyFiles(de.dependency,"js","wizTemplate"),function(){d.setLoading(de.doc,!1),d.callback(de.doc)})):d.callback(de.doc))},$e=function(e){de.scrollContainer=Ne.getScrollContainer(),de.isWizTemplate=!!de.doc.querySelector("#wiz-template-info"),Be&&Be.init(),ze&&ze.init();for(var t=de.body.className.split(" "),n=void 0,o=t.length-1;o>=0;o--)n=t[o],n&&!/^wiz-/gi.test(n)||t.splice(o,1);de.body.className=t.join(" "),Ne.addClass(de.body,r.CLASS.WIZ_BODY),de.options.noAmend||(Te.initUser(),Te.setUsersData());var i=function(){de.win.WizTemplate&&de.win.WizTemplate.init({document:de.doc,lang:de.options.lang,clientType:de.options.clientType}),e()};de.isWizTemplate&&de.options.wizTemplate.url?Xe(i):i()},Je=function(e){if(de.options.useFrame?(de.doc.open("text/html","replace"),de.doc.write(e),de.doc.close(),de.body=de.doc.body):de.body.innerHTML=e,Ne.attr(de.body,{spellcheck:"false"}),l.run(de.win),de.client.type.isWeb){var t=!1,n="";qe.insertDefaultStyle(t,n)}},Qe={version:r.version,destroy:function(){de.win.WizTemplate&&de.win.WizTemplate.off(),de.isWizTemplate=!1,_e.offEvent(),be.offEvent({}),de.body.innerHTML="",de.readonly=null},setOptions:de.setOptions,editor:{on:function(e,t){if(de.readonly!==!1){var n=Ne.getPageScroll().top,i=function(){de.readonly!==!0&&(de.win.WizTemplate&&de.win.WizTemplate.on(!1),de.options.editor.autoFocus&&(de.win.WizTemplate&&de.win.WizTemplate.getTemplate()?de.win.WizTemplate.focus():Qe.editor.focus()),setTimeout(function(){de.client.type.isPhone||de.client.type.isPad||(de.client.type.isMac&&de.options.reader.type!==r.NOTE_READER_TYPE.COMMON?setTimeout(function(){Ne.setPageScrollTop(n)},100):Ne.setPageScrollTop(n)),Ue&&Ue.on(),"function"==typeof t&&t()},0))};"function"==typeof e&&(t=e,e={}),e=e||{};var l=e.documentBody,s=e.documentBodyType;"undefined"!=typeof e.htmlBaseUrl&&(de.options.htmlBaseUrl=e.htmlBaseUrl),"undefined"!=typeof e.minHeight&&(de.options.editor.minHeight=e.minHeight);var c={noteSrc:null,useContentExtractionHtml:e.useContentExtractionHtml};"string"!=typeof l&&Ze&&(c.noteSrc=a.xssFilter(o.txt2HTML(Ke,{wizTableSaveDom:!0})));var d=function(){Qe.reader.amendInfo.off(),de.win.WizTemplate&&de.win.WizTemplate.off(),de.readonly=!1,Ae&&Ae.on({}),_e.on(i)},u=function(){"string"==typeof l&&("text"===s?de.body.innerHTML=a.xssFilter(o.txt2HTML(l,{wizTableSaveDom:!0})):(l=a.xssFilter(l),l=Ne.initDocHtml(l),Je(l))),$e(d)};be.off(c,u)}},caretBackup:function(){return je.caretBackup()},createSvg:function(){We.createSvg()},execCommand:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Re.saveSnap(!1),Se.execCommand.apply(Qe,t)},find:function(e,t,n,r){return Le.find(e,t,n,r)},focus:function(){var e=Ye.getZone();return e.range?void Ne.scrollIntoView(e.start.cell):void Ne.focus()},getBodyText:function(){return Ne.getBodyText()},getContentHtml:function(e){var t=[],n=je.getRange(),r=void 0,o=void 0,i=void 0,a=void 0,l=void 0;return n&&(r=Ne.getParentRoot([n.startContainer,n.endContainer]),r&&(t=[r]),o=n.startContainer,i=n.startOffset,a=n.endContainer,l=n.endOffset),Ne.clearChild(de.body,null,0),n&&xe&&!xe.getContainerFromChild(o)&&!Ne.checkInTmp(o)&&je.setRange(o,i,a,l),Ne.clearChildSpan(de.body,t),ye.hideAmendInfo(),Ge&&Ge.checkTodoStyle(),Ne.getContentHtml(e)},getMarkdownSrc:function(e){return Be?Be.getMarkdownSrcForEditor(e):""},insertB64Html:function(e,t){Le.insertHtml(i.decode(e),t)},insertHtml:function(e,t){de.readonly===!1&&(Re.saveSnap(!1),Le.insertHtml(e,t))},isModified:function(){var e=de.readonly===!1;if(!e)return e;var t=Ne.getContentHtml(),n=_e.getOriginalHtml();return t=Ne.removeByTagFromHtml(t,r.TAG.CODE_MIRROR),n=Ne.removeByTagFromHtml(n,r.TAG.CODE_MIRROR),de.readonly===!1&&t!==n},modifySelectionDom:function(e,t){Re.saveSnap(!1),Le.modifySelectionDom(e,t)},paste:function(e,t){de.readonly===!1&&Fe.pasteFromClient(e,t)},pasteB64:function(e,t){var n=i.decode(e),r=i.decode(t);Qe.editor.paste(n,r)},redo:function(){Re.redo()},removeFormat:function(e,t,n){Re.saveSnap(!1),qe.removeFormat(e,t,n)},replace:function(e,t,n){return Le.replace(e,t,n)},replaceAll:function(e,t,n){Re.saveSnap(!1),Le.replaceAll(e,t,n)},caretRestore:function(){return je.caretRestore()},saveSnap:function(){Re.saveSnap(!1)},setUnModified:function(){_e.setOriginalHtml()},undo:function(){Re.undo()},ListenerType:Ce.TYPE,addListener:function(e,t){Ce.addListener(e,t)},removeListener:function(e,t){Ce.removeListener(e,t)},triggerListener:function(e,t){Ce.triggerListener(e,t)},startTrackEvent:function(e,t){Ce.startTrackEvent(e,t)},stopTrackEvent:function(e,t){Ce.stopTrackEvent(e,t)},amend:{on:function(){ye.start()},off:function(){ye.startReverse()},changeCurUser:function(e){ye.changeCurUser(e)},isEdited:function(){return ye.isAmendEdited()},isEditing:function(){return ye.isAmendEditing()},hasAmendSpanByCursor:function(){return ye.hasAmendSpanByCursor()},accept:function(e){ye.accept(s(e))},refuse:function(e){ye.refuse(s(e))}},code:{insertCode:function(){Oe&&Oe.insertCode()}},formatPainter:{on:function(e){return we.on(e)},off:function(){we.off()}},img:{getAll:function(e,t){return ke.getAll(e,t).join(",")},insertAsAttachment:function(e,t){Re.saveSnap(!1),Le.insertDom(ke.makeAttachmentDom(e,t),!0)},insertByPath:function(e){Re.saveSnap(!1),Le.insertDom(ke.makeDomByPath(e),!0)},removeCur:function(){Re.saveSnap(!1);var e="img["+r.ATTR.IMG_EDITING+"]";ke.remove(e)},replaceCur:function(e){Re.saveSnap(!1);var t="img["+r.ATTR.IMG_EDITING+"]";ke.replaceSrc(t,e)}},link:{on:function(){Me.on()},off:function(){Me.off()},getCurrentLink:function(){return Pe.getCurrentLink()},removeSelectedLink:function(){Pe.removeSelectedLink()},setCurrentLink:function(e){Pe.setCurrentLink(e)}},range:{moveToPoint:function(e,t){je.moveToPoint(e,t)}},table:{canCreateTable:He.canCreateTable,clearCellValue:He.clearCellValue,deleteCols:He.deleteCols,deleteRows:He.deleteRows,deleteTable:He.deleteTable,distributeCols:He.distributeCols,insertCol:He.insertCol,insertRow:He.insertRow,insertTable:He.insertTable,merge:He.merge,setCellAlign:He.setCellAlign,setCellBg:He.setCellBg,split:He.split},todo:{setTodo:function(){Ge&&Ge.setTodo()},setTodoInfo:function(e){Ge&&Ge.setTodoInfo(e);
}},utils:{clearStyleFromHtml:function(e,t){return Re.saveSnap(!1),Ne.clearStyleFromHtml(e,t)}},toolbar:{setImgUploaderId:function(e){Ve&&Ve.setImgUploaderId(e)},onImgUploadBegin:function(e,t){Ve&&Ve.onImgUploadBegin(e,t)},onImgUploadProgress:function(e,t){Ve&&Ve.onImgUploadProgress(e,t)},onImgUploadComplete:function(e,t){Ve&&Ve.onImgUploadComplete(e,t)},onImgUploadError:function(e){Ve&&Ve.onImgUploadError(e)}}},reader:{on:function(e,t){function n(){de.readonly!==!1&&be.afterRender(function(){de.client.type.isPhone||de.client.type.isPad||Ne.setPageScrollTop(o),de.body.style.opacity="1",Ue&&Ue.on(),"function"==typeof t&&t(),de.options.pureReadMode.enable&&Qe.reader.pureRead.on()})}if(de.readonly!==!0){e=e||{},e.noteType&&(e.reader={type:e.noteType},delete e.noteType),"undefined"!=typeof e.minHeight&&(de.options.reader.minHeight=e.minHeight);var o=Ne.getPageScroll().top;"function"==typeof e&&(t=e,e={}),"undefined"!=typeof e.htmlBaseUrl&&(de.options.htmlBaseUrl=e.htmlBaseUrl),e.reader&&e.reader.type&&(de.options.reader.type=e.reader.type),de.options.pc.pluginModified=!1;var i=e.documentBody,l=e.documentBodyType;Ze=!1,Ke="","string"==typeof i&&(de.options.reader.type===r.NOTE_READER_TYPE.MARKDOWN&&(de.body.style.opacity="0"),"text"===l?(Ze=!0,Ke=i):(i=a.xssFilter(i),i=Ne.initDocHtml(i),Je(i)));var s=function(){de.win.WizTemplate&&de.win.WizTemplate.off(),_e.off(),be.on(),Qe.reader.amendInfo.on(),de.win.WizTemplate&&de.win.WizTemplate.on(!0),Be&&de.options.reader.type===r.NOTE_READER_TYPE.MARKDOWN?"text"===l?Be.do({container:de.body,markdownSrc:i},n):Be.do({container:de.body},n):ze&&de.options.reader.type===r.NOTE_READER_TYPE.MATHJAX?ze.do({container:de.body},n):n()};$e(s)}},closeDocument:function(){return Ge?Ge.closeDocument():null},getRenderDocument:function(){return ye.hideAmendInfo(),Ne.getRenderDocument()},getWordCount:function(){var e=Ne.getWordCount();return JSON.stringify(e)},setPluginModify:function(e){return de.options.pc.pluginModified?de.options.pc.pluginModified:(de.options.reader.type===r.NOTE_READER_TYPE.COMMON&&(de.options.pc.pluginModified=!!e),de.options.pc.pluginModified)},amendInfo:{on:function(){de.options.noAmend||Ee.init({readonly:!0},{onAccept:null,onRefuse:null})},off:function(){Ee.remove()}},highlight:{next:function(){Ie.next()},off:function(){Ie.off()},on:function(e,t){return Ie.on(e,t)},previous:function(){Ie.previous()}},pureRead:{on:function(e){de.options.pureReadMode.enable=!0,e=e||{},Ae&&Ae.on({needContentExtraction:e.needContentExtraction},function(){})},off:function(){de.options.pureReadMode.enable=!1,Ae&&Ae.off()}},todo:{setTodoInfo:function(e){Ge&&Ge.setTodoInfo(e)},onCheckDocLock:function(e,t){Ge&&Ge.onCheckDocLock(e,t)}}},frame:{adjustContainerSize:De.onAdjustContainerSize},nightMode:{on:function(e,t,n){de.options.nightMode.enable=!0,Ue&&Ue.on(e,t,n)},off:function(){de.options.nightMode.enable=!0,Ue&&Ue.off()}},insertCustomStyle:function(e,t,n){qe.insertCustomStyle(e,t,n)},insertDefaultStyle:function(e,t){qe.insertDefaultStyle(e,t)},removeStyleById:function(e){qe.removeStyleById(e)}};return t&&t(ue),Qe};window.WizDocument=de,de.version=r.version,t.exports=de},{"../common/ClipboardUtils":340,"../common/CommandExtend":341,"../common/DomUtils":342,"../common/FormatPainter":343,"../common/HighlightUtils":344,"../common/HistoryUtils":345,"../common/MarkdownRender":346,"../common/MathJaxRender":347,"../common/NightModeUtils":348,"../common/PasteUtils":349,"../common/RangeUtils":350,"../common/SelectPlugin":351,"../common/TabKey":352,"../common/Tooltip":353,"../common/WizStyle":354,"../common/amendUtils/Amend":355,"../common/amendUtils/AmendInfo":356,"../common/amendUtils/AmendUser":357,"../common/amendUtils/AmendUserAction":358,"../common/amendUtils/AmendUtils":359,"../common/blockUtils/BlockCore":360,"../common/blockUtils/BlockUtils":361,"../common/codeUtils/CodeCore":362,"../common/codeUtils/CodeStyle":363,"../common/codeUtils/CodeUtils":364,"../common/contentUtils/ContentCore":365,"../common/editorCore/Editor":366,"../common/editorCore/EditorEvent":367,"../common/editorCore/EditorUtils":368,"../common/frameViewUtils/FrameViewCore":369,"../common/frameViewUtils/FrameViewStyle":370,"../common/frameViewUtils/FrameViewUtils":371,"../common/frameViewUtils/ToolbarMarkdown":372,"../common/imgUtils/ImgClick":373,"../common/imgUtils/ImgCore":374,"../common/imgUtils/ImgResize":375,"../common/imgUtils/ImgUtils":376,"../common/imgUtils/SvgClick":377,"../common/linkUtils/LinkCore":378,"../common/linkUtils/LinkMenu":379,"../common/linkUtils/LinkUtils":380,"../common/readerCore/Reader":381,"../common/readerCore/ReaderEvent":382,"../common/tableUtils/TableCore":383,"../common/tableUtils/TableMenu":384,"../common/tableUtils/TableUtils":385,"../common/tableUtils/TableZone":386,"../common/todoUtils/TodoCore":387,"../common/todoUtils/TodoRouteForClient":388,"../common/todoUtils/TodoStyle":389,"../common/todoUtils/TodoUtils":390,"../config/const":391,"../config/env":392,"../libs/LoadController":395,"../libs/base64":398,"../libs/dependLoader":399,"../libs/domPatch":400,"../libs/utils":402,"../libs/xssUtils":403,"../locale/lang":404,"../tester/TesterForRunTime":405,"babel-polyfill":1}],394:[function(e,t,n){"use strict";var r=e("./WizDocument"),o=void 0,i=void 0,a=void 0,l={init:function(e){return e=e||{},e.editor||(e.editor={}),e.reader||(e.reader={}),void 0!==e.autoFocus&&(e.editor.autoFocus=e.autoFocus,delete e.autoFocus),void 0!==e.maxRedo&&(e.editor.maxRedo=e.maxRedo,delete e.maxRedo),void 0!==e.noteType&&(e.reader.type=e.noteType,delete e.noteType),void 0!==e.noAmend&&(e.reader.noAmend=e.noAmend,delete e.noAmend),void 0!==e.codeNoIDE&&(e.reader.codeNoIDE=e.codeNoIDE,delete e.codeNoIDE),void 0!==e.markdownPlugIn&&(e.reader.markdownPlugIn=e.markdownPlugIn,delete e.markdownPlugIn),void 0!==e.timeout&&(e.reader.timeout=e.timeout,delete e.timeout),void 0!==e.callback&&(e.editor.callback={redo:e.callback.redo},e.reader.callback={markdown:e.callback.markdown,mathJax:e.callback.mathJax},e.callback.onClickLink?(delete e.callback.redo,delete e.callback.markdown,delete e.callback.mathJax):delete e.callback),o=new r(e,function(e){i=e,a&&a(e)}),l.version=o.version,l.on=function(e,t){return o.editor.on(e,t),l},l.off=function(e,t){return o.reader.on(e,t),l},l.backupCaret=o.editor.caretBackup,l.createSvg=o.editor.createSvg,l.execCommand=o.editor.execCommand,l.find=o.editor.find,l.focus=function(){return o.editor.focus(),l},l.getBodyText=o.editor.getBodyText,l.getContentHtml=o.editor.getContentHtml,l.getMarkdownSrc=o.editor.getMarkdownSrc,l.insertCustomStyle=function(e,t,n){return o.insertCustomStyle(e,t,n),l},l.insertDefaultStyle=function(e,t){return o.insertDefaultStyle(e,t),l},l.insertB64Html=o.editor.insertB64Html,l.insertHtml=o.editor.insertHtml,l.isModified=o.editor.isModified,l.modifySelectionDom=o.editor.modifySelectionDom,l.paste=o.editor.paste,l.pasteB64=o.editor.pasteB64,l.redo=function(){return o.editor.redo(),l},l.removeFormat=function(e,t,n){return o.editor.removeFormat(e,t,n),l},l.removeStyleById=function(e){return o.removeStyleById(e),l},l.replace=o.editor.replace,l.replaceAll=o.editor.replaceAll,l.restoreCaret=o.editor.caretRestore,l.saveSnap=o.editor.saveSnap,l.setUnModified=o.editor.setUnModified,l.undo=function(){return o.editor.undo(),l},l.ListenerType=o.editor.ListenerType,l.addListener=function(e,t){return o.editor.addListener(e,t),l},l.removeListener=function(e,t){return o.editor.removeListener(e,t),l},l.triggerListener=function(e,t){return o.editor.triggerListener(e,t),l},l.startTrackEvent=o.editor.startTrackEvent,l.stopTrackEvent=o.editor.stopTrackEvent,l.amend.on=function(){return o.editor.amend.on(),l},l.amend.off=function(){return o.editor.amend.off(),l},l.amend.changeCurUser=o.editor.amend.changeCurUser,l.amend.isEdited=o.editor.amend.isEdited,l.amend.isEditing=o.editor.amend.isEditing,l.amend.hasAmendSpanByCursor=o.editor.amend.hasAmendSpanByCursor,l.amend.accept=o.editor.amend.accept,l.amend.refuse=o.editor.amend.refuse,l.code.insertCode=o.editor.code.insertCode,l.formatPainter.on=o.editor.formatPainter.on,l.formatPainter.off=o.editor.formatPainter.off,l.img.getAll=o.editor.img.getAll,l.img.insertAsAttachment=o.editor.img.insertAsAttachment,l.img.insertByPath=o.editor.img.insertByPath,l.img.removeCur=o.editor.img.removeCur,l.img.replaceCur=o.editor.img.replaceCur,l.link.on=o.editor.link.on,l.link.off=o.editor.link.off,l.link.getCurrentLink=o.editor.link.getCurrentLink,l.link.removeSelectedLink=o.editor.link.removeSelectedLink,l.link.setCurrentLink=o.editor.link.setCurrentLink,l.range.moveToPoint=o.editor.range.moveToPoint,l.table.canCreateTable=o.editor.table.canCreateTable,l.table.clearCellValue=o.editor.table.clearCellValue,l.table.deleteCols=o.editor.table.deleteCols,l.table.deleteRows=o.editor.table.deleteRows,l.table.deleteTable=o.editor.table.deleteTable,l.table.distributeCols=o.editor.table.distributeCols,l.table.insertCol=o.editor.table.insertCol,l.table.insertRow=o.editor.table.insertRow,l.table.insertTable=o.editor.table.insertTable,l.table.merge=o.editor.table.merge,l.table.setCellAlign=o.editor.table.setCellAlign,l.table.setCellBg=o.editor.table.setCellBg,l.table.split=o.editor.table.split,l.todo.setTodo=o.editor.todo.setTodo,l.todo.setTodoInfo=o.editor.todo.setTodoInfo,l.nightMode.on=o.nightMode.on,l.nightMode.off=o.nightMode.off,l.toolbar.setImgUploaderId=o.editor.toolbar.setImgUploaderId,l.toolbar.onImgUploadBegin=o.editor.toolbar.onImgUploadBegin,l.toolbar.onImgUploadProgress=o.editor.toolbar.onImgUploadProgress,l.toolbar.onImgUploadComplete=o.editor.toolbar.onImgUploadComplete,l.toolbar.onImgUploadError=o.editor.toolbar.onImgUploadError,l.utils.clearStyleFromHtml=o.editor.utils.clearStyleFromHtml,s.on=function(e,t){return o.reader.on(e,t),s},s.off=function(e,t){return o.editor.on(e,t),s},s.closeDocument=o.reader.closeDocument,s.getRenderDocument=o.reader.getRenderDocument,s.getWordCount=o.reader.getWordCount,s.insertCustomStyle=function(e,t,n){return o.insertCustomStyle(e,t,n),s},s.insertDefaultStyle=function(e,t){return o.insertDefaultStyle(e,t),s},s.removeStyleById=function(e){return o.removeStyleById(e),s},s.setPluginModify=o.reader.setPluginModify,s.amendInfo.on=function(){return o.reader.amend.on(),s},s.amendInfo.off=function(){return o.reader.amend.off(),s},s.highlight.next=o.reader.highlight.next,s.highlight.on=o.reader.highlight.on,s.highlight.off=o.reader.highlight.off,s.highlight.previous=o.reader.highlight.previous,s.img.getAll=o.editor.img.getAll,s.pureRead.on=o.reader.pureRead.on,s.pureRead.off=o.reader.pureRead.off,s.todo.setTodoInfo=o.reader.todo.setTodoInfo,s.todo.onCheckDocLock=o.reader.todo.onCheckDocLock,s.nightMode.on=o.nightMode.on,s.nightMode.off=o.nightMode.off,l},amend:{},code:{},formatPainter:{},img:{},link:{},range:{},table:{},todo:{},nightMode:{},utils:{},toolbar:{}},s={init:l.init,amendInfo:{},highlight:{},img:{},nightMode:{},pureRead:{},todo:{}},c=function(e){a=e};window.WizEditor=l,window.WizReader=s,t.exports={wizEditor:l,wizReader:s,setCoreCallback:c}},{"./WizDocument":393}],395:[function(e,t,n){"use strict";var r=function(){var e=this,t=0,n={},r={};this.getLoading=function(e){return!!r[e.loadId]},this.setLoading=function(e,t){r[e.loadId]=!!t},this.addCallback=function(e,r){e.loadId||(e.loadId="wizLoadController_"+t++),n[e.loadId]||(n[e.loadId]=[]),n[e.loadId].push(r)},this.callback=function(t){var r=n[t.loadId];if(r&&!e.getLoading(t)){for(var o=r.length-1;o>=0;o--){var i=r.splice(o,1)[0];i()}n[t.loadId]=[]}}};t.exports=r},{}],396:[function(e,t,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r="object"===("undefined"==typeof n?"undefined":o(n))&&"function"==typeof e?n:{},function(){function e(e){return e}function t(e){return!1}function n(){}function o(){}n.prototype={chain:function(t,n){var r=this[t];if(!r)throw new Error("unknown hook "+t);r===e?this[t]=n:this[t]=function(e){var t=Array.prototype.slice.call(arguments,0);return t[0]=r.apply(null,t),n.apply(null,t)}},set:function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},addNoop:function(t){this[t]=e},addFalse:function(e){this[e]=t}},r.HookCollection=n,o.prototype={set:function(e,t){this["s_"+e]=t},get:function(e){return this["s_"+e]}},r.Converter=function(t){function r(e){return e=e.replace(/^[ ]{0,3}\[([^\[\]]+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(\n+)/gm,function(e,t,n,r,o,i,a){return t=t.toLowerCase(),z.set(t,x(n)),o?r+a:(i&&U.set(t,i.replace(/"/g,"&quot;")),"")})}function i(e){return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n*<\/\2>[ \t]*(?=\n+))/gm,l),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,l),e=e.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,l),e=e.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,l),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,l)}function a(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(F.push(e)-1)+"K\n\n"}function l(e,t){return a(t)}function s(e,n,r){e=B.preBlockGamut(e,G),e=m(e);var o="<hr />\n";return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,o),e=e.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,o),e=e.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,o),e=v(e),e=C(e),e=A(e),e=B.postBlockGamut(e,G),t.customBlockGamut&&(e=t.customBlockGamut(e)),e=i(e),e=O(e,n,r)}function c(e){return e=B.preSpanGamut(e),e=y(e),e=d(e),e=N(e),e=p(e),e=u(e),e=w(e),e=e.replace(/~P/g,"://"),e=x(e),e=Y(e),e=e.replace(/  +\n/g," <br>\n"),e=B.postSpanGamut(e)}function d(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=M(t,"!"==e.charAt(1)?"\\`*_/":"\\`*_")})}function u(e){return e.indexOf("[")===-1?e:(e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,f),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,f),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,f))}function f(e,t,n,r,o,i,a,l){void 0==l&&(l="");var s=t,c=n.replace(/:\/\//g,"~P"),d=r.toLowerCase(),u=o,f=l;if(""==u)if(""==d&&(d=c.toLowerCase().replace(/ ?\n/g," ")),u="#"+d,void 0!=z.get(d))u=z.get(d),void 0!=U.get(d)&&(f=U.get(d));else{if(!(s.search(/\(\s*\)$/m)>-1))return s;u=""}u=k(u);var p='<a href="'+u+'"';return""!=f&&(f=g(f),f=M(f,"*_"),p+=' title="'+f+'"'),p+=">"+c+"</a>"}function p(e){return e.indexOf("![")===-1?e:(e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,h),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,h))}function g(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function h(e,n,r,o,i,a,l,s){var c=n,d=r,u=o.toLowerCase(),f=i,p=s;if(p||(p=""),""==f){if(""==u&&(u=d.toLowerCase().replace(/ ?\n/g," ")),f="#"+u,void 0==z.get(u))return c;f=z.get(u),void 0!=U.get(u)&&(p=U.get(u))}else t.imgSrcFilter&&(f=t.imgSrcFilter(f));d=M(g(d),"*_[]()"),f=M(f,"*_");var h='<img src="'+f+'" alt="'+d+'"';return p=g(p),p=M(p,"*_"),h+=' title="'+p+'"',h+=" />"}function m(e){return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,t){return"<h1>"+c(t)+"</h1>\n\n"}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,t){return"<h2>"+c(t)+"</h2>\n\n"}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,t,n){var r=t.length;return"<h"+r+">"+c(n)+"</h"+r+">\n\n"})}function v(e,t){e=e.replace(/(?!^)<br\/?>/gm,"\n"),e+="~0";var n,r=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]*?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return j?e=e.replace(r,function(e,r,o){var i=r;n=b(o);var a=_(i,n,t),l=a.list_str.replace(/\s+$/,""),s="<"+n;return l=s+">"+l+"</"+a.list_type+">\n\n",n=a.list_type,l}):(r=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,e=e.replace(r,function(e,t,r,o){var i=t,a=r;n=b(o);var l=_(a,n),s="<"+n,c=i+s+">\n"+l.list_str+"</"+l.list_type+">\n\n";return n=l.list_type,c})),e=e.replace(/~0/,"")}function b(e){return e.search(/[*+-]/g)>-1?"ul":"ol"}function _(e,t,n){j++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var r=new RegExp("(^[ \\t]*)([*+-]|\\d+[.])[ \\t]+([^\\r]*?(\\n+))(?=(~0|\\1([*+-]|\\d+[.])[ \\t]+))","gm"),o=!1;return e=e.replace(r,function(e,n,r,i){var a=i,l=b(r),c=/\n\n$/.test(a),d=c||a.search(/\n{2,}/)>-1,u=/^\[( |x)\]/.test(a),f=d||o;a=s(I(a),!0,!f);var p="";return l!=t&&(p="</"+t+">\n<"+l+">\n",t=l),p+=u?"<li class='wiz-md-todo-list-item'>":"<li>",p+=a+"</li>\n",o=c,p}),e=e.replace(/~0/g,""),j--,{list_str:e,list_type:t}}function C(e){return e+="~0",e=e.replace(/(?:\n\n|^\n?)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var r=t,o=n;return r=E(I(r)),r=R(r),r=r.replace(/^\n+/g,""),r=r.replace(/\n+$/g,""),r="<pre><code>"+r+"\n</code></pre>","\n\n"+r+"\n\n"+o}),e=e.replace(/~0/,"")}function y(e){return e=e.replace(/(^|[^\\`])(`+)(?!`)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,r,o){var i=r;return i=i.replace(/^([ \t]*)/g,""),i=i.replace(/[ \t]*$/g,""),i=E(i),i=i.replace(/:\/\//g,"~P"),t+"<code>"+i+"</code>"})}function E(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=M(e,"*_{}[]\\",!1)}function T(e){return e.indexOf("*")===-1&&e.indexOf("_")===-1?e:(e=W(e),e=e.replace(/(^|[\W_])(?:(?!\1)|(?=^))(\*|_)\2(?=\S)([^\r]*?\S)\2\2(?!\2)(?=[\W_]|$)/g,"$1<strong>$3</strong>"),e=e.replace(/(^|[\W_])(?:(?!\1)|(?=^))(\*|_)(?=\S)((?:(?!\2)[^\r])*?\S)\2(?!\2)(?=[\W_]|$)/g,"$1<em>$3</em>"),H(e))}function S(e){return e.indexOf("*")===-1&&e.indexOf("_")===-1?e:(e=W(e),e=e.replace(/(?=[^\r][*_]|[*_])(^|(?=\W__|(?!\*)[\w\W_]\*\*|\w\*\*\w)[^\r])(\*\*|__)(?!\2)(?=\S)((?:|[^\r]*?(?!\2)[^\r])(?=\S_|\w|.\*\*(?:[\w\W_]|$)).)(?=__(?:\W|$)|\*\*(?:[^*]|$))\2/g,"$1<strong>$3</strong>"),e=e.replace(/(?=[^\r][*_]|[*_])(^|(?=\W_|(?!\*)(?:[\w\W_]\*|\D\*(?=\w)\D))[^\r])(\*|_)(?!\2\2\2)(?=\S)((?:(?!\2)[^\r])*?(?=[^\s_]_|(?=[\w\W])\D\*\D|[^\s*]\*(?:[\w\W_]|$)).)(?=_(?:\W|$)|\*(?:[^*]|$))\2/g,"$1<em>$3</em>"),H(e))}function A(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n=t;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=s(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),a("<blockquote>\n"+n+"\n</blockquote>")})}function O(e,t,n){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var r=e.split(/\n{2,}/g),o=[],i=/~K(\d+)K/,a=r.length,l=0;l<a;l++){var s=r[l];i.test(s)?o.push(s):/\S/.test(s)&&(s=c(s),s=s.replace(/^([ \t]*)/g,n?"":"<p>"),n||(s+="</p>"),o.push(s))}if(!t){a=o.length;for(var l=0;l<a;l++)for(var d=!0;d;)d=!1,o[l]=o[l].replace(/~K(\d+)K/g,function(e,t){return d=!0,F[t]})}return o.join("\n\n")}function x(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?!([a-z\/?!][^<>]*>)|~D)/gi,"&lt;")}function N(e){return e=e.replace(/\\(\\)/g,P),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,P)}function L(e,t,n,r,o,i){if(/^<[^<>]*(https?|ftp)/.test(i))return e;if(t)return e;if(")"!==r.charAt(r.length-1))return"<"+n+r+">";for(var a=r.match(/[()]/g),l=0,s=0;s<a.length;s++)"("===a[s]?l<=0?l=1:l++:l--;var c="";if(l<0){var d=new RegExp("\\){1,"+-l+"}$");r=r.replace(d,function(e){return c=e,""})}if(c){var u=r.charAt(r.length-1);K.test(u)||(c=u+c,r=r.substr(0,r.length-1))}return"<"+n+r+">"+c}function w(e){e=e.replace(Z,L);var t=function(e,t){var n=k(t);return'<a href="'+n+'">'+B.plainLinkText(t)+"</a>"};return e=e.replace(/<((https?|ftp):[^'">\s]+)>/gi,t)}function D(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})}function I(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")}function R(e){if(!/\t/.test(e))return e;var t,n=["    ","   ","  "," "],r=0;return e.replace(/[\n\t]/g,function(e,o){return"\n"===e?(r=o+1,e):(t=(o-r)%4,r=o+1,n[t])})}function k(e){return e=g(e),e=M(e,"*_:()[]")}function M(e,t,n){var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var o=new RegExp(r,"g");return e=e.replace(o,P)}function P(e,t){var n=t.charCodeAt(0);return"~E"+n+"E"}var B=this.hooks=new n;B.addNoop("plainLinkText"),B.addNoop("preConversion"),B.addNoop("postNormalization"),B.addNoop("preBlockGamut"),B.addNoop("postBlockGamut"),B.addNoop("preSpanGamut"),B.addNoop("postSpanGamut"),B.addNoop("postConversion");var z,U,F,j;t=t||{};var W=e,H=e;t.nonAsciiLetters&&!function(){var e=/[Q\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376-\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0523\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u064a\u0660-\u0669\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07c0-\u07ea\u07f4-\u07f5\u07fa\u0904-\u0939\u093d\u0950\u0958-\u0961\u0966-\u096f\u0971-\u0972\u097b-\u097f\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0be6-\u0bef\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d3d\u0d60-\u0d61\u0d66-\u0d6f\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edd\u0f00\u0f20-\u0f29\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8b\u1000-\u102a\u103f-\u1049\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u1090-\u1099\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1877\u1880-\u18a8\u18aa\u1900-\u191c\u1946-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u19d0-\u19d9\u1a00-\u1a16\u1b05-\u1b33\u1b45-\u1b4b\u1b50-\u1b59\u1b83-\u1ba0\u1bae-\u1bb9\u1c00-\u1c23\u1c40-\u1c49\u1c4d-\u1c7d\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u203f-\u2040\u2054\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183-\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c6f\u2c71-\u2c7d\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fc3\ua000-\ua48c\ua500-\ua60c\ua610-\ua62b\ua640-\ua65f\ua662-\ua66e\ua67f-\ua697\ua717-\ua71f\ua722-\ua788\ua78b-\ua78c\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8d0-\ua8d9\ua900-\ua925\ua930-\ua946\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa50-\uaa59\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe33-\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]/g,t="Q".charCodeAt(0),n="A".charCodeAt(0),r="Z".charCodeAt(0),o="a".charCodeAt(0)-r-1;W=function(i){return i.replace(e,function(e){for(var i,a=e.charCodeAt(0),l="";a>0;)i=a%51+n,i>=t&&i++,i>r&&(i+=o),l=String.fromCharCode(i)+l,a=a/51|0;return"Q"+l+"Q"})},H=function(e){return e.replace(/Q([A-PR-Za-z]{1,3})Q/g,function(e,i){for(var a,l=0,s=0;s<i.length;s++)a=i.charCodeAt(s),a>r&&(a-=o),a>t&&a--,a-=n,l=51*l+a;return String.fromCharCode(l)})}}();var Y=t.asteriskIntraWordEmphasis?S:T;this.makeHtml=function(e){if(z)throw new Error("Recursive call to converter.makeHtml");return z=new o,U=new o,F=[],j=0,e=B.preConversion(e),e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e="\n\n"+e+"\n\n",e=R(e),e=e.replace(/^[ \t]+$/gm,""),e=B.postNormalization(e),e=i(e),e=r(e),e=s(e),e=D(e),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),e=B.postConversion(e),F=U=z=null,e};var G=function(e){return s(e)},V="[-A-Z0-9+&@#/%?=~_|[\\]()!:,.;]",q="[-A-Z0-9+&@#/%=~_|[\\])]",Z=new RegExp('(="|<)?\\b(https?|ftp)(://'+V+"*"+q+")(?=$|\\W)","gi"),K=new RegExp(q,"i")}}(),t.exports=r},{}],397:[function(e,t,n){"use strict";var r={};!function(){function e(e){return e.replace(/^\s+|\s+$/g,"")}function t(e){return e.replace(/\s+$/g,"")}function n(e){return e.replace(new RegExp("^(\\t|[ ]{1,4})","gm"),"")}function o(e,t){return e.indexOf(t)!=-1}function i(e,t){return e.replace(/<[^>]*>?/gi,function(e){return e.match(t)?e:""})}function a(e,t){for(var n={},r=0;r<e.length;r++)n[e[r]]=e[r];for(r=0;r<t.length;r++)n[t[r]]=t[r];var o=[];for(var i in n)n.hasOwnProperty(i)&&o.push(n[i]);return o}function l(e){return""!=e.charAt(0)&&(e=""+e),""!=e.charAt(e.length-1)&&(e+=""),e}function s(e){return""==e.charAt(0)&&(e=e.substr(1)),""==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),e}function c(e,t){return i(d(e,t),m)}function d(e,t){var n=t.blockGamutHookCallback(e);return n=p(n),n=n.replace(/~D/g,"$$").replace(/~T/g,"~"),n=t.previousPostConversion(n)}function u(e){return e.replace(/\\\|/g,"~I").replace(/\\:/g,"~i")}function f(e){return e.replace(/~I/g,"|").replace(/~i/g,":")}function p(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})}function g(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function h(e,t){var n=t;return n=n.replace(/&\#8220;/g,'"'),n=n.replace(/&\#8221;/g,'"'),n=n.replace(/&\#8216;/g,"'"),n=n.replace(/&\#8217;/g,"'"),n=n.replace(/&\#8212;/g,"---"),n=n.replace(/&\#8211;/g,"--"),n=n.replace(/&\#8230;/g,"...")}var m=new RegExp(["^(<\\/?(a|abbr|acronym|applet|area|b|basefont|","bdo|big|button|cite|code|del|dfn|em|figcaption|","font|i|iframe|img|input|ins|kbd|label|map|","mark|meter|object|param|progress|q|ruby|rp|rt|s|","samp|script|select|small|span|strike|strong|","sub|sup|textarea|time|tt|u|var|wbr|ul|ol|li)[^>]*>|","<(br)\\s?\\/?>)$"].join(""),"i");Array.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1}),r.Extra=function(){this.converter=null,this.hashBlocks=[],this.footnotes={},this.usedFootnotes=[],this.attributeBlocks=!1,this.googleCodePrettify=!1,this.highlightJs=!1,this.codeMirror=!1,this.tableClass="",this.tabWidth=4},r.Extra.init=function(e,t){var n=new r.Extra,i=[],a=[],l=[],s=["unHashExtraBlocks"];return t=t||{},t.extensions=t.extensions||["all"],o(t.extensions,"all")&&(t.extensions=["tables","fenced_code_gfm","def_list","attr_list","footnotes","smartypants","todo_list","strikethrough","newlines"]),a.push("wrapHeaders"),o(t.extensions,"todo_list")&&a.push("todo_list"),o(t.extensions,"attr_list")&&(i.push("hashFcbAttributeBlocks"),a.push("hashHeaderAttributeBlocks"),s.push("applyAttributeBlocks"),n.attributeBlocks=!0),o(t.extensions,"fenced_code_gfm")&&(a.push("fencedCodeBlocks"),i.push("fencedCodeBlocks")),o(t.extensions,"tables")&&a.push("tables"),o(t.extensions,"def_list")&&a.push("definitionLists"),o(t.extensions,"footnotes")&&(i.push("stripFootnoteDefinitions"),a.push("doFootnotes"),s.push("printFootnotes")),o(t.extensions,"smartypants")&&s.push("runSmartyPants"),o(t.extensions,"strikethrough")&&l.push("strikethrough"),o(t.extensions,"newlines")&&l.push("newlines"),e.hooks.chain("postNormalization",function(e){return n.doTransform(i,e)+"\n"}),e.hooks.chain("preBlockGamut",function(e,t){return n.blockGamutHookCallback=t,e=u(e),e=n.doTransform(a,e)+"\n",e=f(e)}),e.hooks.chain("postSpanGamut",function(e){return n.doTransform(l,e)}),n.previousPostConversion=e.hooks.postConversion,e.hooks.chain("postConversion",function(e){return e=n.doTransform(s,e),n.hashBlocks=[],n.footnotes={},n.usedFootnotes=[],e}),"highlighter"in t&&(n.googleCodePrettify="prettify"===t.highlighter,n.highlightJs="highlight"===t.highlighter,n.codeMirror="codeMirror"===t.highlighter),"table_class"in t&&(n.tableClass=t.table_class),n.converter=e,n},r.Extra.prototype.doTransform=function(e,t){for(var n=0;n<e.length;n++)t=this[e[n]](t);return t},r.Extra.prototype.hashExtraBlock=function(e){return"\n<p>~X"+(this.hashBlocks.push(e)-1)+"X</p>\n"},r.Extra.prototype.hashExtraInline=function(e){return"~X"+(this.hashBlocks.push(e)-1)+"X"},r.Extra.prototype.unHashExtraBlocks=function(e){function t(){var r=!1;e=e.replace(/(?:<p>)?~X(\d+)X(?:<\/p>)?/g,function(e,t){r=!0;var o=parseInt(t,10);return n.hashBlocks[o]}),r===!0&&t()}var n=this;return t(),e},r.Extra.prototype.wrapHeaders=function(e){function t(e){return"\n"+e+"\n"}return e=e.replace(/^.+[ \t]*\n=+[ \t]*\n+/gm,t),e=e.replace(/^.+[ \t]*\n-+[ \t]*\n+/gm,t),e=e.replace(/^\#{1,6}[ \t]*.+?[ \t]*\#*\n+/gm,t)};var v="\\{[ \\t]*((?:[#.][-_:a-zA-Z0-9]+[ \\t]*)+)\\}",b=new RegExp("^(#{1,6}.*#{0,6})[ \\t]+"+v+"[ \\t]*(?:\\n|0x03)","gm"),_=new RegExp("^(.*)[ \\t]+"+v+"[ \\t]*\\n(?=[\\-|=]+\\s*(?:\\n|0x03))","gm"),C=new RegExp("^(```[ \\t]*[^{\\s]*)[ \\t]+"+v+"[ \\t]*\\n(?=([\\s\\S]*?)\\n```[ \\t]*(\\n|0x03))","gm");r.Extra.prototype.hashHeaderAttributeBlocks=function(e){function t(e,t,r){return"<p>~XX"+(n.hashBlocks.push(r)-1)+"XX</p>\n"+t+"\n"}var n=this;return e=e.replace(b,t),e=e.replace(_,t)},r.Extra.prototype.hashFcbAttributeBlocks=function(e){function t(e,t,r){return"<p>~XX"+(n.hashBlocks.push(r)-1)+"XX</p>\n"+t+"\n"}var n=this;return e.replace(C,t)},r.Extra.prototype.applyAttributeBlocks=function(e){var t=this,n=new RegExp('<p>~XX(\\d+)XX</p>[\\s]*(?:<(h[1-6]|pre)(?: +class="(\\S+)")?(>[\\s\\S]*?</\\2>))',"gm");return e=e.replace(n,function(e,n,r,o,i){if(!r)return"";for(var l=parseInt(n,10),s=t.hashBlocks[l],c=s.match(/#[^\s#.]+/g)||[],d=c[0]?' id="'+c[0].substr(1,c[0].length-1)+'"':"",u=s.match(/\.[^\s#.]+/g)||[],f=0;f<u.length;f++)u[f]=u[f].substr(1,u[f].length-1);var p="";return o&&(u=a(u,[o])),u.length>0&&(p=' class="'+u.join(" ")+'"'),"<"+r+d+p+i})},r.Extra.prototype.tables=function(t){function n(t,n,o,i,a,l){n=n.replace(/^ *[|]/m,""),o=o.replace(/^ *[|]/m,""),i=i.replace(/^ *[|]/gm,""),n=n.replace(/[|] *$/m,""),o=o.replace(/[|] *$/m,""),i=i.replace(/[|] *$/gm,"");for(var s=o.split(/ *[|] */),d=[],u=0;u<s.length;u++){var f=s[u];f.match(/^ *-+: *$/m)?d[u]=' align="right"':f.match(/^ *:-+: *$/m)?d[u]=' align="center"':f.match(/^ *:-+ *$/m)?d[u]=' align="left"':d[u]="";
}var p=n.split(/ *[|] */),g=p.length,h=r.tableClass?' class="'+r.tableClass+'"':"",m=["<table",h,">\n","<thead>\n","<tr>\n"].join("");for(u=0;u<g;u++){var v=c(e(p[u]),r);m+=["  <th",d[u],">",v,"</th>\n"].join("")}m+="</tr>\n</thead>\n";var b=i.split("\n");for(u=0;u<b.length;u++)if(!b[u].match(/^\s*$/)){for(var _=b[u].split(/ *[|] */),C=g-_.length,y=0;y<C;y++)_.push("");for(m+="<tr>\n",y=0;y<g;y++){var E=c(e(_[y]),r);m+=["  <td",d[y],">",E,"</td>\n"].join("")}m+="</tr>\n"}return m+="</table>\n",r.hashExtraBlock(m)}var r=this,o=new RegExp(["^","[ ]{0,3}","[|]","(.+)\\n","[ ]{0,3}","[|]([ ]*[-:]+[-| :]*)\\n","(","(?:[ ]*[|].*\\n?)*",")","(?:\\n|$)"].join(""),"gm"),i=new RegExp(["^","[ ]{0,3}","(\\S.*[|].*)\\n","[ ]{0,3}","([-:]+[ ]*[|][-| :]*)\\n","(","(?:.*[|].*\\n?)*",")","(?:\\n|$)"].join(""),"gm");return t=t.replace(o,n),t=t.replace(i,n)},r.Extra.prototype.stripFootnoteDefinitions=function(e){var t=this;return e=e.replace(/\n[ ]{0,3}\[\^(.+?)\]\:[ \t]*\n?([\s\S]*?)\n{1,2}((?=\n[ ]{0,3}\S)|$)/g,function(e,n,r){return n=g(n),r+="\n",r=r.replace(/^[ ]{0,3}/g,""),t.footnotes[n]=r,"\n"})},r.Extra.prototype.doFootnotes=function(e){var t=this;if(t.isConvertingFootnote===!0)return e;var n=0;return e=e.replace(/\[\^(.+?)\]/g,function(e,r){var o=g(r),i=t.footnotes[o];if(void 0===i)return e;n++,t.usedFootnotes.push(o);var a='<a href="#fn_'+o+'" id="fnref_'+o+'" title="See footnote" class="footnote">'+n+"</a>";return t.hashExtraInline(a)})},r.Extra.prototype.printFootnotes=function(e){var t=this;if(0===t.usedFootnotes.length)return e;e+='\n\n<div class="footnotes">\n<hr>\n<ol>\n\n';for(var n=0;n<t.usedFootnotes.length;n++){var r=t.usedFootnotes[n],o=t.footnotes[r];t.isConvertingFootnote=!0;var i=c(o,t);delete t.isConvertingFootnote,e+='<li id="fn_'+r+'">'+i+' <a href="#fnref_'+r+'" title="Return to article" class="reversefootnote">&#8617;</a></li>\n\n'}return e+="</ol>\n</div>"},r.Extra.prototype.fencedCodeBlocks=function(e){function t(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~")}var n=this;return e=e.replace(/(?:^|\n)```[ \t]*(\S*)[ \t]*\n([\s\S]*?)\n```[ \t]*(?=\n)/g,function(e,r,o){var i,a=r.replace(";",",").split(","),l=o,s=a[0].trim();a.length>1&&(i=a[1].trim());var c,d,u;return"flow"===s||"seq"===s||"sequence"===s?(d=' class="language-'+s+'"',u=['<pre><textarea readonly style="display:none;"',d,">",t(l),"</textarea></pre>"].join("")):n.codeMirror?u=['<div class="wiz-code-container" contenteditable="false"',' data-mode="',s,'" data-theme="',i,'"><textarea readonly style="display:none;">',t(l),"</textarea></div>"].join(""):(c=n.googleCodePrettify?' class="prettyprint linenums"':"",d="",s&&(d=n.codeMirror||n.googleCodePrettify||n.highlightJs?' class="language-'+s+'"':' class="'+s+'"'),u=["<pre",c,"><code",d,">",t(l),"</code></pre>"].join("")),n.hashExtraBlock(u)})},r.Extra.prototype.educatePants=function(e){var t=this,n="",r=0;e.replace(/(?:<!--[\s\S]*?-->)|(<)([a-zA-Z1-6]+)([^\n]*?>)([\s\S]*?)(<\/\2>)/g,function(o,i,a,l,s,c,d){var u=e.substring(r,d);return n+=t.applyPants(u),t.smartyPantsLastChar=n.substring(n.length-1),r=d+o.length,i?(/code|kbd|pre|script|noscript|iframe|math|ins|del|pre/i.test(a)?t.smartyPantsLastChar=s.substring(s.length-1):s=t.educatePants(s),void(n+=i+a+l+s+c)):void(n+=o)});var o=e.substring(r);return n+=t.applyPants(o),t.smartyPantsLastChar=n.substring(n.length-1),n},r.Extra.prototype.applyPants=function(e){return e},r.Extra.prototype.runSmartyPants=function(e){return this.smartyPantsLastChar="",e=this.educatePants(e),e=e.replace(/(<([a-zA-Z1-6]+)\b([^\n>]*?)(\/)?>)/g,h)},r.Extra.prototype.definitionLists=function(t){var n=new RegExp(["(\\x02\\n?|\\n\\n)","(?:","(","(","[ ]{0,3}","((?:[ \\t]*\\S.*\\n)+)","\\n?","[ ]{0,3}:[ ]+",")","([\\s\\S]+?)","(","(?=\\0x03)","|","(?=","\\n{2,}","(?=\\S)","(?!","[ ]{0,3}","(?:\\S.*\\n)+?","\\n?","[ ]{0,3}:[ ]+",")","(?!","[ ]{0,3}:[ ]+",")",")",")",")",")"].join(""),"gm"),r=this;return t=l(t),t=t.replace(n,function(t,n,o){var i=e(r.processDefListItems(o));return i="<dl>\n"+i+"\n</dl>",n+r.hashExtraBlock(i)+"\n\n"}),s(t)},r.Extra.prototype.processDefListItems=function(r){var o=this,i=new RegExp(["(\\x02\\n?|\\n\\n+)","(","[ ]{0,3}","(?![:][ ]|[ ])","(?:\\S.*\\n)+?",")","(?=\\n?[ ]{0,3}:[ ])"].join(""),"gm"),a=new RegExp(["\\n(\\n+)?","(","[ ]{0,3}","[:][ ]+",")","([\\s\\S]+?)","(?=\\n*","(?:","\\n[ ]{0,3}[:][ ]|","<dt>|\\x03",")",")"].join(""),"gm");return r=l(r),r=r.replace(/\n{2,}(?=\\x03)/,"\n"),r=r.replace(i,function(t,n,r){for(var i=e(r).split("\n"),a="",l=0;l<i.length;l++){var s=i[l];s=c(e(s),o),a+="\n<dt>"+s+"</dt>"}return a+"\n"}),r=r.replace(a,function(e,r,i,a){return r||a.match(/\n{2,}/)?(a=Array(i.length+1).join(" ")+a,a=n(a)+"\n\n",a="\n"+d(a,o)+"\n"):(a=t(a),a=c(n(a),o)),"\n<dd>"+a+"</dd>\n"}),s(r)},r.Extra.prototype.todo_list=function(e){return e.replace(/^([ ]*)\[ \]/g,"$1<input type='checkbox' disabled class='wiz-md-todo-checkbox'>").replace(/^([ ]*)\[x\]/g,"$1<input type='checkbox' disabled checked class='wiz-md-todo-checkbox'>")},r.Extra.prototype.strikethrough=function(e){return e.replace(/~T~T(?=\S)([^\r]*?\S[\*_]*)~T~T/g,"<del>$1</del>")},r.Extra.prototype.newlines=function(e){return e.replace(/(<(?:br|\/li)>)?\n/g,function(e,t){return t?e:" <br>\n"})}}(),t.exports=r.Extra},{}],398:[function(e,t,n){"use strict";var r,o={},i=o.Base64,a="2.1.8";"undefined"!=typeof t&&t.exports&&(r=e("buffer").Buffer);var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(l),c=String.fromCharCode,d=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?c(192|t>>>6)+c(128|63&t):c(224|t>>>12&15)+c(128|t>>>6&63)+c(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return c(240|t>>>18&7)+c(128|t>>>12&63)+c(128|t>>>6&63)+c(128|63&t)},u=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,f=function(e){return e.replace(u,d)},p=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),r=[l.charAt(n>>>18),l.charAt(n>>>12&63),t>=2?"=":l.charAt(n>>>6&63),t>=1?"=":l.charAt(63&n)];return r.join("")},g=o.btoa?function(e){return o.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,p)},h=r?function(e){return(e.constructor===r.constructor?e:new r(e)).toString("base64")}:function(e){return g(f(e))},m=function(e,t){return t?h(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):h(String(e))},v=function(e){return m(e,!0)},b=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),_=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return c((n>>>10)+55296)+c((1023&n)+56320);case 3:return c((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return c((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},C=function(e){return e.replace(b,_)},y=function(e){var t=e.length,n=t%4,r=(t>0?s[e.charAt(0)]<<18:0)|(t>1?s[e.charAt(1)]<<12:0)|(t>2?s[e.charAt(2)]<<6:0)|(t>3?s[e.charAt(3)]:0),o=[c(r>>>16),c(r>>>8&255),c(255&r)];return o.length-=[0,0,2,1][n],o.join("")},E=o.atob?function(e){return o.atob(e)}:function(e){return e.replace(/[\s\S]{1,4}/g,y)},T=r?function(e){return(e.constructor===r.constructor?e:new r(e,"base64")).toString()}:function(e){return C(E(e))},S=function(e){return T(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},A=function(){var e=o.Base64;return o.Base64=i,e};if(o.Base64={VERSION:a,atob:E,btoa:g,fromBase64:S,toBase64:m,utob:f,encode:m,encodeURI:v,btou:C,decode:S,noConflict:A},"function"==typeof Object.defineProperty){var O=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};o.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",O(function(){return S(this)})),Object.defineProperty(String.prototype,"toBase64",O(function(e){return m(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",O(function(){return m(this,!0)}))}}t.exports=o.Base64},{buffer:4}],399:[function(e,t,n){"use strict";function r(e,t,n){l.load(e,t,n)}function o(e,t,n){var o=0,i=t.length,a=function a(){o<i?r(e,t[o++],a):n&&n()};return a}function i(e,t){var n="wiz_"+t;if(e.getElementById(n))return!0;var r=e.createElement("link");return r.rel="stylesheet",r.setAttribute("charset","utf-8"),r.setAttribute("name",a.NAME.TMP_STYLE),r.href=t.replace(/\\/g,"/"),r.id=n,e.getElementsByTagName("head")[0].insertBefore(r,null),r}var a=e("../config/const"),l=e("./scriptLoader"),s={getDependencyFiles:function(e,t,n){var r=void 0,o=void 0,i=void 0,a=void 0,l=void 0,s=void 0,c=void 0,d=[];for(r=0,o=e[t][n].length;r<o;r++)if(i=e[t][n][r],"css"===t)d.push(e.files[t][i]);else{for(c=[],a=0,l=i.length;a<l;a++)s=i[a],c.push(e.files[t][s]);d.push(c)}return d},loadJs:function(e,t,n){var r=o(e,t,n);r()},loadCss:function(e,t){var n=void 0,r=void 0;for(n=0,r=t.length;n<r;n++)i(e,t[n])}};t.exports=s},{"../config/const":391,"./scriptLoader":401}],400:[function(e,t,n){"use strict";var r={run:function(e){e.Selection&&!e.Selection.prototype.extend&&(e.Selection.prototype.extend=function(t,n){var r=e.document.getSelection();try{if(!r||0===r.rangeCount)return}catch(e){return}var o=r.getRangeAt(0),i=e.document.createRange(),a=e.document.createRange();a.setStart(o.startContainer,o.startOffset);var l=e.document.createRange();l.setStart(t,n);var s=l.compareBoundaryPoints(Range.START_TO_START,a);s>=0?(i.setStart(o.startContainer,o.startOffset),i.setEnd(t,n)):(i.setStart(t,n),i.setEnd(o.startContainer,o.startOffset)),this.removeAllRanges(),this.addRange(i)}),e.document.body.addEventListener("mscontrolselect",function(e){e.preventDefault()})}};t.exports=r},{}],401:[function(e,t,n){"use strict";function r(e,t){return l[e]||(l[e]=0),l[e]++,function(n){n&&"error"===n.type&&n.target.parentNode.removeChild(n.target),l[e]--,0===l[e]&&(l[e]=null,t&&t())}}function o(e){return"wiz_js_"+e}function i(e){if(e){var t={version:e.version,jsStr:e.jsStr};localStorage.setItem(e.id,JSON.stringify(t))}}var a={appendJsCode:function(e,t,n){var r=e.createElement("script");r.type=n,r.text=t,e.getElementsByTagName("head")[0].appendChild(r)},load:function(e,t,n){if(e&&t){var l=void 0,s=void 0,c=void 0,d=void 0,u=(new Date).valueOf(),f=!0;for(l=0,s=t.length;l<s;l++)if("string"==typeof t[l]){if(c=this.loadSingleJs(e,t[l]),c!==!0){var p=r(u,n);c.onload=p,c.onerror=p,f=!1}}else{var g=t[l].link,h=o(t[l].id),m=t[l].version;if(window.localStorage){var v=JSON.parse(localStorage.getItem(h));v&&v.version===m?(c=this.inject(e,v.jsStr,h),c!==!0&&(d=r(u,n),setTimeout(function(){d()},10),f=!1)):(f=!1,d=r(u,n),$.ajax({url:g,context:{id:h,version:m},success:function(t){i({id:this.id,version:this.version,jsStr:t}),c=a.inject(e,t,this.id),c!==!0&&setTimeout(function(){d()},10)},error:function(){d()}}))}else if(c=this.loadSingleJs(e,t[l].link),c!==!0){var b=r(u,n);c.onload=b,c.onerror=b,f=!1}}f&&n()}},loadSingleJs:function(e,t){var n="wiz_"+t;if(e.getElementById(n))return!0;var r=e.createElement("script");return r.type="text/javascript",r.setAttribute("charset","utf-8"),r.src=t.replace(/\\/g,"/"),r.id=n,e.getElementsByTagName("head")[0].insertBefore(r,null),r},inject:function(e,t,n){if(!e||e.getElementById(n))return!0;var r=e.createElement("script");return r.type="text/javascript",r.id=n,r.text=t,e.getElementsByTagName("head")[0].insertBefore(r,null),r}},l={};t.exports=a},{}],402:[function(e,t,n){"use strict";var r=e("../config/const");try{"abc".localeCompare("abcd")}catch(e){String.prototype.localeCompare=function(e){return this.toString()===e?0:this.toString()>e?1:-1}}var o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;"wiz".trim||(String.prototype.trim=function(){return this.replace(o,"")});var i=/[\-\[\]{}()*+?.,\\^$|#\s]/g;try{"abc".escapeRegex()}catch(e){String.prototype.escapeRegex=function(){return this.toString().replace(i,"\\$&")}}try{"abc".escapeReplace()}catch(e){String.prototype.escapeReplace=function(){return this.toString().replace(/\$/gi,"$$$$")}}Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1});var a={checkNonTxtKey:function(e){var t=e.keyCode||e.which;return!(!e.ctrlKey&&!e.metaKey)||!(t>=48&&t<=57||t>=65&&t<=90||t>=96&&t<=107||t>=109&&t<=111||t>=186&&t<=192||t>=219&&t<=222||229===t||0===t||13===t||32===t)},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isEmpty:function(e){if(!e)return!0;var t=/\r?\n/gi,n=new RegExp("[\r\n"+r.FILL_CHAR+"]","ig"),o=t.test(e),i=e.replace(n,""),a=0===e.replace(n,"").trim().length;return 0===i.length||o&&a},isSameAmendTime:function(e,t){if(!e||!t)return!1;var n=a.getDateForTimeStr(e),o=a.getDateForTimeStr(t);return Math.abs(n-o)<=r.AMEND_BATCH_TIME_SPACE},checkChar:function(e,t){var n=void 0,r=void 0,o=void 0,i=void 0;for(n=0,r=t.length;n<r;n++){if(o=t[n][0],i=t[n].length>1?t[n][1]:null,null===i&&e===o)return!0;if(null!==i&&e>=o&&e<=i)return!0}return!1},compareVersion:function(e,t){e=e.split("."),t=t.split(".");var n=void 0,r=void 0,o=void 0,i=void 0;for(n=0,r=e.length;n<r;n++){if(o=parseInt(e[n],10),i=t[n]?parseInt(t[n],10):-1,o<i)return-1;if(o>i)return 1}return e.length<t.length?-1:0},isAlpha:function(e){var t=[[48,57],[65,90],[97,122],[192,214],[216,246],[248,256]];return a.checkChar(e,t)},isCJK:function(e){var t=[[12352,12687],[13056,13183],[13312,15661],[19968,40959],[63744,64255],[44032,55215]];return a.checkChar(e,t)},isCommonProtocol:function(e){if(!e)return!1;var t=/^(http|https|mailto|tel|ftp):/i;return t.test(e)},isSpace:function(e){var t=[[9,13],[32],[160]];return a.checkChar(e,t)},isWizProtocol:function(e){if(!e)return!1;var t=/^(wiz|wiznote|wiznotecmd):/i;return t.test(e)},forEach:function(e,t){if(e&&t)for(var n=0;n<e.length;n++)t(e[n],n)},getWordCount:function(e){var t={nWords:0,nChars:0,nCharsWithSpace:0,nNonAsianWords:0,nAsianChars:0};if(!e)return t;var n=void 0,r=void 0,o=void 0,i=!1,l=!1;for(t.nCharsWithSpace=e.length,t.nChars=t.nCharsWithSpace,n=0,r=e.length;n<r;n++)o=e.charCodeAt(n),i=!1,a.isCJK(o)?t.nAsianChars++:a.isSpace(o)?t.nChars--:a.isAlpha(o)&&(i=!0),i&&!l?l=!0:i||(l&&t.nNonAsianWords++,l=!1);return i&&l&&t.nNonAsianWords++,t.nWords=t.nNonAsianWords+t.nAsianChars,t},getEventClientPos:function(e){return{x:e.changedTouches?e.changedTouches[0].clientX:e.clientX,y:e.changedTouches?e.changedTouches[0].clientY:e.clientY}},getFileNameByUrl:function(e){var t="",n=e.lastIndexOf("/");return t=n<0?e:e.substr(n+1)},getHash:function(e){var t=1315423911,n=void 0,r=void 0;for(n=e.length-1;n>=0;n--)r=e.charCodeAt(n),t^=(t<<5)+r+(t>>2);return 2147483647&t},getTime:function(){function e(e){var t=e.toString();return 1===t.length?"0"+t:t}var t=new Date;return t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())+" "+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())},getDateForTimeStr:function(e){return new Date(Date.parse(e.replace(/-/g,"/")))},listToMap:function(e){if(!e)return{};e=a.isArray(e)?e:e.split(",");var t=void 0,n=void 0,r=void 0,o={};for(t=0,n=e.length;t<n;t++)r=e[t],o[r.toUpperCase()]=o[r]=1;return o},rgb2Hex:function(e){function t(e,t){return e+Math.floor((255-e)*(1-t))}function n(e){var t=parseInt(e).toString(16);return 1===t.length?"0"+t:t}if(!e)return"";if(!/^rgba?\(.*\)$/i.test(e))return e;var r=e.replace(/.*\((.*)\)/gi,"$1").split(",");if(r.length<3)return"";var o=parseInt(r[0],10),i=parseInt(r[1],10),a=parseInt(r[2],10),l=4===r.length?parseFloat(r[3]):1;return 0===l?"":"#"+n(t(o,l))+n(t(i,l))+n(t(a,l))},removeDup:function(e){var t=[],n=void 0,r=void 0,o=void 0;for(n=0,r=e.length;n<r;n++)o=e[n],t.indexOf(o)<0&&t.push(o);return t},replaceSpecialChar:function(e){return e=e.replace(new RegExp(String.fromCharCode(160),"g")," ").replace(String.fromCharCode(65279),"")},stopEvent:function(e){e&&(a.stopEventBubble(e),a.stopEventDefault(e))},stopEventBubble:function(e){e.stopPropagation()},stopEventDefault:function(e){e.preventDefault()},txt2HTML:function(e,t){t=t||{};var n=!!t.wizTableSaveDom,o=/	/g,i=/  /g,a=/^ /gm;e=(e||"").replace(o,"    ").replace(i,"  ").replace(i,"  ").replace(a," ");for(var l=[],s=e.split(/\r?\n/),c=void 0,d=void 0,u=new RegExp(r.WIZ_TABLE_IN_MARKDOWN_SRC_REG),f=/^```/,p=!1,g=0;g<s.length;g++){if(c=s[g],n&&!p&&f.test(c)?p=!0:n&&p&&f.test(c)&&(p=!1),n&&!p&&u.test(c))d=c;else if(c)if(n)d="<div>"+c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</div>";else{var h=0===g?"span":"div";d="<"+h+">"+c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+h+">"}else d="<br/>";l.push(d)}return l.join("")}};t.exports=a},{"../config/const":391}],403:[function(e,t,n){"use strict";var r=e("xss"),o={xssFilter:function(){if("undefined"==typeof r)return null;var e=decodeURIComponent(location.pathname),t=e.lastIndexOf("/")+1,n=e.lastIndexOf(".");e=n>0?e.substring(t,n)+"_files":"";var o=/^((file|wiz(note)?):\/\/)|(index_files\/)|(data:image\/(?!svg))/,i="#",a=new RegExp("^("+i.escapeRegex()+(e?"|"+e.escapeRegex():"")+")","i"),l=/^(id|class|name|style|data|width|height)/i,s=new r.FilterXSS({onIgnoreTag:function(e,t,n){if(/script/gi.test(e))return r.escapeAttrValue(t);if(n.isClosing)return"</"+e+">";var o=r.parseAttr(t,function(t,n){return n=s.options.safeAttrValue(e,t,n,s),/^on/i.test(t)?"":n?t+'="'+n+'"':t});return o=/^<!/i.test(t)?"<!"+o:"<"+o,"/"===t[t.length-2]&&(o+="/"),o+=">"},onIgnoreTagAttr:function(e,t,n){return!/^object$/i.test(e)&&n&&l.test(t)?t+'="'+n+'"':""},safeAttrValue:function(e,t,n){if("title"===t&&(n=n.replace(/</g,"&lt;").replace(/>/g,"&gt;")),/^meta$/i.test(e)&&/^http-equiv$/i.test(t)&&/refresh/i.test(n))return"";if("href"===t||"src"===t){var i=window.location.protocol;if(/^https?:/.test(i)||(i="http:"),n=n.replace(/^\/\//,i+"//"),o.test(n)||a.test(n))return r.escapeAttrValue(n)}return r.safeAttrValue(e,t,n)}});return s.options.whiteList.iframe=["src","scrolling"],s.options.whiteList.button=["title","type","value"],s.options.whiteList.object=[],s.options.whiteList.noscript=[],function(e){e=s.process(e);var t=/(<style(\s+[^>]*)?>)(.*)(<\/style>)/gi;return e=e.replace(t,function(e,t,n,r,o){return t+r.replace(/&gt;/gi,">")+o})}}()};t.exports=o},{xss:336}],404:[function(e,t,n){"use strict";var r={};r.en={version:"en",Month:["Jan.","Feb.","Mar.","Apr.","May","June","July","Agu.","Sep.","Oct.","Nov.","Dec."],Amend:{Edit:"Inserted contents",Delete:"Deleted contents",BtnAccept:"Accept",BtnRefuse:"Reject",Accept:"Accept all changes? Or partially select the changes which need to be accepted.",Refuse:"Reject all changes? Or partially select the changes which need to be rejected.",MultiInfo:"Multiple changes are selected",UserNameDefault:"someone"},Code:{Wrap:"Code wrap",Language:"Language",Theme:"Theme"},Toolbar:{LinkTopic:"Topic"},Table:{Copy:"Copy",Paste:"Paste",ClearCell:"Clear",MergeCell:"Merge Cells",SplitCell:"Unmerge Cells",InsertRowUp:"Add Row Above",InsertRowDown:"Add Row Below",InsertColLeft:"Add Column Before",InsertColRight:"Add Column After",DeleteRow:"Delete Row",DeleteCol:"Delete Column",SetCellBg:"Color Fill",CellAlign:"Arrange",DeleteTable:"Delete Table",DistributeCols:"Average Column Width"},Err:{Copy_Null:"Copy of deleted changes not allowed",Cut_Null:"Cut of deleted changes not allowed"}},r["zh-cn"]={version:"zh-cn",Date:{Year:"年",Month:"月",Day:"日"},Amend:{Edit:"插入了内容",Delete:"删除了内容",BtnAccept:"接受修订",BtnRefuse:"拒绝修订",Accept:"是否确认接受全部修订内容？ 如需接受部分内容请使用鼠标进行选择",Refuse:"是否确认拒绝全部修订内容？ 如需拒绝部分内容请使用鼠标进行选择",MultiInfo:"您选中了多处修订",UserNameDefault:"有人"},Code:{Wrap:"自动换行",Language:"语言",Theme:"配色"},Toolbar:{LinkTopic:"标题"},Table:{Copy:"复制",Paste:"粘贴",ClearCell:"清空单元格",MergeCell:"合并单元格",SplitCell:"拆分单元格",InsertRowUp:"上插入行",InsertRowDown:"下插入行",InsertColLeft:"左插入列",InsertColRight:"右插入列",DeleteRow:"删除当前行",DeleteCol:"删除当前列",SetCellBg:"单元格底色",CellAlign:"单元格对齐方式",DeleteTable:"删除表格",DistributeCols:"平均分配各列"},Err:{Copy_Null:"无法复制已删除的内容",Cut_Null:"无法剪切已删除的内容"}},r["zh-tw"]={version:"zh-tw",Date:{Year:"年",Month:"月",Day:"日"},Amend:{Edit:"插入了內容",Delete:"刪除了內容",BtnAccept:"接受修訂",BtnRefuse:"拒絕修訂",Accept:"是否確認接受全部修訂內容？ 如需接受部分內容請使用滑鼠進行選擇",Refuse:"是否確認拒絕全部修訂內容？ 如需拒絕部分內容請使用滑鼠進行選擇",MultiInfo:"您選中了多處修訂",UserNameDefault:"有人"},Code:{Wrap:"自動換行",Language:"語言",Theme:"配色"},Toolbar:{LinkTopic:"標題"},Table:{Copy:"複製",Paste:"粘貼",ClearCell:"清空儲存格",MergeCell:"合併儲存格",SplitCell:"拆分儲存格",InsertRowUp:"上插入行",InsertRowDown:"下插入行",InsertColLeft:"左插入列",InsertColRight:"右插入列",DeleteRow:"刪除當前行",DeleteCol:"刪除當前列",SetCellBg:"儲存格底色",CellAlign:"儲存格對齊方式",DeleteTable:"刪除表格",DistributeCols:"平均分配各列"},Err:{Copy_Null:"無法複製已刪除的內容",Cut_Null:"無法剪切已刪除的內容"}};var o=function(e,t){var n="en",o={};if(!e){var i=t.win||window;e=i.navigator.language.replace("_","-").toLowerCase(),e=/^zh-/.test(e)?/(hant)|(tw)|(hk)/.test(e)?"zh-tw":"zh-cn":/^zh/.test(e)?"zh-cn":"en"}e=e.toLowerCase().replace("_","-"),r[e]?n=e:e="en";for(var a in r[e])r[e].hasOwnProperty(a)&&(o[a]=r[e][a]);return o};t.exports=o},{}],405:[function(e,t,n){"use strict";!function(){var e=function(){var e=this;this.timeList={},this.add=function(t,n){if(!t||!n)return void console.error("add(id, name) : id or name can not be empty.");var r=e.timeList[t];if(!r)return void console.error("You must run start(id) at first!");var o=r[r.length-1],i={time:(new Date).valueOf(),name:n};r.push(i),console.log("["+t+"] - "+i.name+" : "+(i.time-o.time))},this.end=function(t){if(!t)return void console.error("end(id) : id can not be empty.");var n=e.timeList[t];return n?void console.log("["+t+"] - total : "+(n[n.length-1].time-n[0].time)):void console.error("You must run start(id) at first!")},this.start=function(t){return t?void(e.timeList[t]=[{time:(new Date).valueOf(),name:""}]):void console.error("start(id) : id can not be empty.")}};window.wizDebugTimer=new e}()},{}]},{},[394]);